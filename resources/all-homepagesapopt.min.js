!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){var a,b=Array,c=b.prototype,d=Object,e=d.prototype,f=Function.prototype,g=String,h=g.prototype,i=Number,j=i.prototype,k=c.slice,l=c.splice,m=c.push,n=c.unshift,o=c.concat,p=f.call,q=f.apply,r=Math.max,s=Math.min,t=e.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,v=Function.prototype.toString,w=function(a){try{return v.call(a),!0}catch(b){return!1}},x="[object Function]",y="[object GeneratorFunction]";a=function(a){if("function"!=typeof a)return!1;if(u)return w(a);var b=t.call(a);return b===x||b===y};var z,A=RegExp.prototype.exec,B=function(a){try{return A.call(a),!0}catch(b){return!1}},C="[object RegExp]";z=function(a){return"object"==typeof a&&(u?B(a):t.call(a)===C)};var D,E=String.prototype.valueOf,F=function(a){try{return E.call(a),!0}catch(b){return!1}},G="[object String]";D=function(a){return"string"==typeof a||"object"==typeof a&&(u?F(a):t.call(a)===G)};var H=d.defineProperty&&function(){try{var a={};d.defineProperty(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a}catch(c){return!1}}(),I=function(a){var b;return b=H?function(a,b,c,e){!e&&b in a||d.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)},function(c,d,e){for(var f in d)a.call(d,f)&&b(c,f,d[f],e)}}(e.hasOwnProperty),J=function(a){var b=typeof a;return null===a||"object"!==b&&"function"!==b},K=i.isNaN||function(a){return a!==a},L={ToInteger:function(a){var b=+a;return K(b)?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b},ToPrimitive:function(b){var c,d,e;if(J(b))return b;if(d=b.valueOf,a(d)&&(c=d.call(b),J(c)))return c;if(e=b.toString,a(e)&&(c=e.call(b),J(c)))return c;throw new TypeError},ToObject:function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return d(a)},ToUint32:function(a){return a>>>0}},M=function(){};I(f,{bind:function(b){var c=this;if(!a(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var e,f=k.call(arguments,1),g=function(){if(this instanceof e){var a=c.apply(this,o.call(f,k.call(arguments)));return d(a)===a?a:this}return c.apply(b,o.call(f,k.call(arguments)))},h=r(0,c.length-f.length),i=[],j=0;j<h;j++)m.call(i,"$"+j);return e=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(g),c.prototype&&(M.prototype=c.prototype,e.prototype=new M,M.prototype=null),e}});var N=p.bind(e.hasOwnProperty),O=p.bind(e.toString),P=p.bind(k),Q=q.bind(k),R=p.bind(h.slice),S=p.bind(h.split),T=p.bind(h.indexOf),U=p.bind(m),V=p.bind(e.propertyIsEnumerable),W=p.bind(c.sort),X=b.isArray||function(a){return"[object Array]"===O(a)},Y=1!==[].unshift(0);I(c,{unshift:function(){return n.apply(this,arguments),this.length}},Y),I(b,{isArray:X});var Z=d("a"),$="a"!==Z[0]||!(0 in Z),_=function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){"use strict";c="string"==typeof this},"x")),!!a&&b&&c};I(c,{forEach:function(b){var c,d=L.ToObject(this),e=$&&D(this)?S(this,""):d,f=-1,g=L.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++f<g;)f in e&&("undefined"==typeof c?b(e[f],f,d):b.call(c,e[f],f,d))}},!_(c.forEach)),I(c,{map:function(c){var d,e=L.ToObject(this),f=$&&D(this)?S(this,""):e,g=L.ToUint32(f.length),h=b(g);if(arguments.length>1&&(d=arguments[1]),!a(c))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<g;i++)i in f&&("undefined"==typeof d?h[i]=c(f[i],i,e):h[i]=c.call(d,f[i],i,e));return h}},!_(c.map)),I(c,{filter:function(b){var c,d,e=L.ToObject(this),f=$&&D(this)?S(this,""):e,g=L.ToUint32(f.length),h=[];if(arguments.length>1&&(d=arguments[1]),!a(b))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<g;i++)i in f&&(c=f[i],("undefined"==typeof d?b(c,i,e):b.call(d,c,i,e))&&U(h,c));return h}},!_(c.filter)),I(c,{every:function(b){var c,d=L.ToObject(this),e=$&&D(this)?S(this,""):d,f=L.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.every callback must be a function");for(var g=0;g<f;g++)if(g in e&&!("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!1;return!0}},!_(c.every)),I(c,{some:function(b){var c,d=L.ToObject(this),e=$&&D(this)?S(this,""):d,f=L.ToUint32(e.length);if(arguments.length>1&&(c=arguments[1]),!a(b))throw new TypeError("Array.prototype.some callback must be a function");for(var g=0;g<f;g++)if(g in e&&("undefined"==typeof c?b(e[g],g,d):b.call(c,e[g],g,d)))return!0;return!1}},!_(c.some));var aa=!1;c.reduce&&(aa="object"==typeof c.reduce.call("es5",function(a,b,c,d){return d})),I(c,{reduce:function(b){var c=L.ToObject(this),d=$&&D(this)?S(this,""):c,e=L.ToUint32(d.length);if(!a(b))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var f,g=0;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g++];break}if(++g>=e)throw new TypeError("reduce of empty array with no initial value")}for(;g<e;g++)g in d&&(f=b(f,d[g],g,c));return f}},!aa);var ba=!1;c.reduceRight&&(ba="object"==typeof c.reduceRight.call("es5",function(a,b,c,d){return d})),I(c,{reduceRight:function(b){var c=L.ToObject(this),d=$&&D(this)?S(this,""):c,e=L.ToUint32(d.length);if(!a(b))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===e&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var f,g=e-1;if(arguments.length>=2)f=arguments[1];else for(;;){if(g in d){f=d[g--];break}if(--g<0)throw new TypeError("reduceRight of empty array with no initial value")}if(g<0)return f;do g in d&&(f=b(f,d[g],g,c));while(g--);return f}},!ba);var ca=c.indexOf&&[0,1].indexOf(1,2)!==-1;I(c,{indexOf:function(a){var b=$&&D(this)?S(this,""):L.ToObject(this),c=L.ToUint32(b.length);if(0===c)return-1;var d=0;for(arguments.length>1&&(d=L.ToInteger(arguments[1])),d=d>=0?d:r(0,c+d);d<c;d++)if(d in b&&b[d]===a)return d;return-1}},ca);var da=c.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;I(c,{lastIndexOf:function(a){var b=$&&D(this)?S(this,""):L.ToObject(this),c=L.ToUint32(b.length);if(0===c)return-1;var d=c-1;for(arguments.length>1&&(d=s(d,L.ToInteger(arguments[1]))),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}},da);var ea=function(){var a=[1,2],b=a.splice();return 2===a.length&&X(b)&&0===b.length}();I(c,{splice:function(a,b){return 0===arguments.length?[]:l.apply(this,arguments)}},!ea);var fa=function(){var a={};return c.splice.call(a,0,0,1),1===a.length}();I(c,{splice:function(a,b){if(0===arguments.length)return[];var c=arguments;return this.length=r(L.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof b&&(c=P(arguments),c.length<2?U(c,this.length-a):c[1]=L.ToInteger(b)),l.apply(this,c)}},!fa);var ga=function(){var a=new b(1e5);return a[8]="x",a.splice(1,1),7===a.indexOf("x")}(),ha=function(){var a=256,b=[];return b[a]="a",b.splice(a+1,0,"b"),"a"===b[a]}();I(c,{splice:function(a,b){for(var c,d=L.ToObject(this),e=[],f=L.ToUint32(d.length),h=L.ToInteger(a),i=h<0?r(f+h,0):s(h,f),j=s(r(L.ToInteger(b),0),f-i),k=0;k<j;)c=g(i+k),N(d,c)&&(e[k]=d[c]),k+=1;var l,m=P(arguments,2),n=m.length;if(n<j){for(k=i;k<f-j;)c=g(k+j),l=g(k+n),N(d,c)?d[l]=d[c]:delete d[l],k+=1;for(k=f;k>f-j+n;)delete d[k-1],k-=1}else if(n>j)for(k=f-j;k>i;)c=g(k+j-1),l=g(k+n-1),N(d,c)?d[l]=d[c]:delete d[l],k-=1;k=i;for(var o=0;o<m.length;++o)d[k]=m[o],k+=1;return d.length=f-j+n,e}},!ga||!ha);var ia=c.join,ja="1,2,3"!==Array.prototype.join.call("123",",");ja&&I(c,{join:function(a){var b="undefined"==typeof a?",":a;return ia.call(D(this)?S(this,""):this,b)}},ja);var ka="1,2"!==[1,2].join(void 0);ka&&I(c,{join:function(a){var b="undefined"==typeof a?",":a;return ia.call(this,b)}},ka);var la=function(a){for(var b=L.ToObject(this),c=L.ToUint32(b.length),d=0;d<arguments.length;)b[c+d]=arguments[d],d+=1;return b.length=c+d,c+d},ma=function(){var a={},b=Array.prototype.push.call(a,void 0);return 1!==b||1!==a.length||"undefined"!=typeof a[0]||!N(a,0)}();I(c,{push:function(a){return X(this)?m.apply(this,arguments):la.apply(this,arguments)}},ma);var na=function(){var a=[],b=a.push(void 0);return 1!==b||1!==a.length||"undefined"!=typeof a[0]||!N(a,0)}();I(c,{push:la},na),I(c,{slice:function(a,b){var c=D(this)?S(this,""):this;return Q(c,arguments)}},$);var oa=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(a){}return!1}(),pa=function(){try{return[1,2].sort(/a/),!1}catch(a){}return!0}(),qa=function(){try{return[1,2].sort(void 0),!0}catch(a){}return!1}();I(c,{sort:function(b){if("undefined"==typeof b)return W(this);if(!a(b))throw new TypeError("Array.prototype.sort callback must be a function");return W(this,b)}},oa||!qa||!pa);var ra=!{toString:null}.propertyIsEnumerable("toString"),sa=function(){}.propertyIsEnumerable("prototype"),ta=!N("x","0"),ua=function(a){var b=a.constructor;return b&&b.prototype===a},va={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},wa=function(){if("undefined"==typeof window)return!1;for(var a in window)try{!va["$"+a]&&N(window,a)&&null!==window[a]&&"object"==typeof window[a]&&ua(window[a])}catch(b){return!0}return!1}(),xa=function(a){if("undefined"==typeof window||!wa)return ua(a);try{return ua(a)}catch(b){return!1}},ya=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],za=ya.length,Aa=function(a){return"[object Arguments]"===O(a)},Ba=function(b){return null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&!X(b)&&a(b.callee)},Ca=Aa(arguments)?Aa:Ba;I(d,{keys:function(b){var c=a(b),d=Ca(b),e=null!==b&&"object"==typeof b,f=e&&D(b);if(!e&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var h=[],i=sa&&c;if(f&&ta||d)for(var j=0;j<b.length;++j)U(h,g(j));if(!d)for(var k in b)i&&"prototype"===k||!N(b,k)||U(h,g(k));if(ra)for(var l=xa(b),m=0;m<za;m++){var n=ya[m];l&&"constructor"===n||!N(b,n)||U(h,n)}return h}});var Da=d.keys&&function(){return 2===d.keys(arguments).length}(1,2),Ea=d.keys&&function(){var a=d.keys(arguments);return 1!==arguments.length||1!==a.length||1!==a[0]}(1),Fa=d.keys;I(d,{keys:function(a){return Fa(Ca(a)?P(a):a)}},!Da||Ea);var Ga=-621987552e5,Ha="-000001",Ia=Date.prototype.toISOString&&new Date(Ga).toISOString().indexOf(Ha)===-1,Ja=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date((-1)).toISOString();I(Date.prototype,{toISOString:function(){var a,b,c,d,e;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(d=this.getUTCFullYear(),e=this.getUTCMonth(),d+=Math.floor(e/12),e=(e%12+12)%12,a=[e+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],d=(d<0?"-":d>9999?"+":"")+R("00000"+Math.abs(d),0<=d&&d<=9999?-4:-6),b=a.length;b--;)c=a[b],c<10&&(a[b]="0"+c);return d+"-"+P(a,0,2).join("-")+"T"+P(a,2).join(":")+"."+R("000"+this.getUTCMilliseconds(),-3)+"Z"}},Ia||Ja);var Ka=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&new Date(Ga).toJSON().indexOf(Ha)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(a){return!1}}();Ka||(Date.prototype.toJSON=function(b){var c=d(this),e=L.ToPrimitive(c);if("number"==typeof e&&!isFinite(e))return null;var f=c.toISOString;if(!a(f))throw new TypeError("toISOString property is not callable");return f.call(c)});var La=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),Ma=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),Na=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(Na||Ma||!La){var Oa=Math.pow(2,31)-1,Pa=K(new Date(1970,0,1,0,0,0,Oa+1).getTime());Date=function(a){var b=function(c,d,e,f,h,i,j){var k,l=arguments.length;if(this instanceof a){var m=i,n=j;if(Pa&&l>=7&&j>Oa){var o=Math.floor(j/Oa)*Oa,p=Math.floor(o/1e3);m+=p,n-=1e3*p}k=1===l&&g(c)===c?new a(b.parse(c)):l>=7?new a(c,d,e,f,h,m,n):l>=6?new a(c,d,e,f,h,m):l>=5?new a(c,d,e,f,h):l>=4?new a(c,d,e,f):l>=3?new a(c,d,e):l>=2?new a(c,d):l>=1?new a(c):new a}else k=a.apply(this,arguments);return J(k)||I(k,{constructor:b},!0),k},c=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),d=[0,31,59,90,120,151,181,212,243,273,304,334,365],e=function(a,b){var c=b>1?1:0;return d[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)},f=function(b){var c=0,d=b;if(Pa&&d>Oa){var e=Math.floor(d/Oa)*Oa,f=Math.floor(e/1e3);c+=f,d-=1e3*f}return i(new a(1970,0,1,0,0,c,d))};for(var h in a)N(a,h)&&(b[h]=a[h]);I(b,{now:a.now,UTC:a.UTC},!0),b.prototype=a.prototype,I(b.prototype,{constructor:b},!0);var j=function(b){var d=c.exec(b);if(d){var g,h=i(d[1]),j=i(d[2]||1)-1,k=i(d[3]||1)-1,l=i(d[4]||0),m=i(d[5]||0),n=i(d[6]||0),o=Math.floor(1e3*i(d[7]||0)),p=Boolean(d[4]&&!d[8]),q="-"===d[9]?1:-1,r=i(d[10]||0),s=i(d[11]||0),t=m>0||n>0||o>0;return l<(t?24:25)&&m<60&&n<60&&o<1e3&&j>-1&&j<12&&r<24&&s<60&&k>-1&&k<e(h,j+1)-e(h,j)&&(g=60*(24*(e(h,j)+k)+l+r*q),g=1e3*(60*(g+m+s*q)+n)+o,p&&(g=f(g)),-864e13<=g&&g<=864e13)?g:NaN}return a.parse.apply(this,arguments)};return I(b,{parse:j}),b}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var Qa=j.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),Ra={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(a,b){for(var c=-1,d=b;++c<Ra.size;)d+=a*Ra.data[c],Ra.data[c]=d%Ra.base,d=Math.floor(d/Ra.base)},divide:function(a){for(var b=Ra.size,c=0;--b>=0;)c+=Ra.data[b],Ra.data[b]=Math.floor(c/a),c=c%a*Ra.base},numToString:function(){for(var a=Ra.size,b="";--a>=0;)if(""!==b||0===a||0!==Ra.data[a]){var c=g(Ra.data[a]);""===b?b=c:b+=R("0000000",0,7-c.length)+c}return b},pow:function ib(a,b,c){return 0===b?c:b%2===1?ib(a,b-1,c*a):ib(a*a,b/2,c)},log:function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b}},Sa=function(a){var b,c,d,e,f,h,j,k;if(b=i(a),b=K(b)?0:Math.floor(b),b<0||b>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(c=i(this),K(c))return"NaN";if(c<=-1e21||c>=1e21)return g(c);if(d="",c<0&&(d="-",c=-c),e="0",c>1e-21)if(f=Ra.log(c*Ra.pow(2,69,1))-69,h=f<0?c*Ra.pow(2,-f,1):c/Ra.pow(2,f,1),h*=4503599627370496,f=52-f,f>0){for(Ra.multiply(0,h),j=b;j>=7;)Ra.multiply(1e7,0),j-=7;for(Ra.multiply(Ra.pow(10,j,1),0),j=f-1;j>=23;)Ra.divide(1<<23),j-=23;Ra.divide(1<<j),Ra.multiply(1,1),Ra.divide(2),e=Ra.numToString()}else Ra.multiply(0,h),Ra.multiply(1<<-f,0),e=Ra.numToString()+R("0.00000000000000000000",2,2+b);return b>0?(k=e.length,e=k<=b?d+R("0.0000000000000000000",0,b-k+2)+e:d+R(e,0,k-b)+"."+R(e,k-b)):e=d+e,e};I(j,{toFixed:Sa},Qa);var Ta=function(){try{return"1"===1..toPrecision(void 0)}catch(a){return!0}}(),Ua=j.toPrecision;I(j,{toPrecision:function(a){return"undefined"==typeof a?Ua.call(this):Ua.call(this,a)}},Ta),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a="undefined"==typeof/()??/.exec("")[1],b=Math.pow(2,32)-1;h.split=function(c,d){var e=String(this);if("undefined"==typeof c&&0===d)return[];if(!z(c))return S(this,c,d);var f,g,h,i,j=[],k=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),l=0,n=new RegExp(c.source,k+"g");a||(f=new RegExp("^"+n.source+"$(?!\\s)",k));var o="undefined"==typeof d?b:L.ToUint32(d);for(g=n.exec(e);g&&(h=g.index+g[0].length,!(h>l&&(U(j,R(e,l,g.index)),!a&&g.length>1&&g[0].replace(f,function(){for(var a=1;a<arguments.length-2;a++)"undefined"==typeof arguments[a]&&(g[a]=void 0)}),g.length>1&&g.index<e.length&&m.apply(j,P(g,1)),i=g[0].length,l=h,j.length>=o)));)n.lastIndex===g.index&&n.lastIndex++,g=n.exec(e);return l===e.length?!i&&n.test("")||U(j,""):U(j,R(e,l)),j.length>o?R(j,0,o):j}}():"0".split(void 0,0).length&&(h.split=function(a,b){return"undefined"==typeof a&&0===b?[]:S(this,a,b)});var Va=h.replace,Wa=function(){var a=[];return"x".replace(/x(.)?/g,function(b,c){U(a,c)}),1===a.length&&"undefined"==typeof a[0]}();Wa||(h.replace=function(b,c){var d=a(c),e=z(b)&&/\)[*?]/.test(b.source);if(d&&e){var f=function(a){var d=arguments.length,e=b.lastIndex;b.lastIndex=0;var f=b.exec(a)||[];return b.lastIndex=e,U(f,arguments[d-2],arguments[d-1]),c.apply(this,f)};return Va.call(this,b,f)}return Va.call(this,b,c)});var Xa=h.substr,Ya="".substr&&"b"!=="0b".substr(-1);I(h,{substr:function(a,b){var c=a;return a<0&&(c=r(this.length+a,0)),Xa.call(this,c,b)}},Ya);var Za="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",$a="​",_a="["+Za+"]",ab=new RegExp("^"+_a+_a+"*"),bb=new RegExp(_a+_a+"*$"),cb=h.trim&&(Za.trim()||!$a.trim());I(h,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return g(this).replace(ab,"").replace(bb,"")}},cb);var db=h.lastIndexOf&&"abcあい".lastIndexOf("あい",2)!==-1;I(h,{lastIndexOf:function(a){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var b=g(this),c=g(a),d=arguments.length>1?i(arguments[1]):NaN,e=K(d)?1/0:L.ToInteger(d),f=s(r(e,0),b.length),h=c.length,j=f+h;j>0;){j=r(0,j-h);var k=T(R(b,j,f+h),c);if(k!==-1)return j+k}return-1}},db);var eb=h.lastIndexOf;if(I(h,{lastIndexOf:function(a){return eb.apply(this,arguments)}},1!==h.lastIndexOf.length),8===parseInt(Za+"08")&&22===parseInt(Za+"0x16")||(parseInt=function(a){var b=/^[\-+]?0[xX]/;return function(c,d){var e=g(c).trim(),f=i(d)||(b.test(e)?16:10);return a(e,f)}}(parseInt)),"RangeError: test"!==String(new RangeError("test"))){var fb=function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var a=this.name;"undefined"==typeof a?a="Error":"string"!=typeof a&&(a=g(a));var b=this.message;return"undefined"==typeof b?b="":"string"!=typeof b&&(b=g(b)),a?b?a+": "+b:a:b};Error.prototype.toString=fb}if(H){var gb=function(a,b){if(V(a,b)){var c=Object.getOwnPropertyDescriptor(a,b);c.enumerable=!1,Object.defineProperty(a,b,c)}};gb(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),gb(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var hb=function(){var a="/"+this.source+"/";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),a};RegExp.prototype.toString=hb}}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.returnExports=b()}(this,function(){var a,b,c,d,e=Function.call,f=Object.prototype,g=e.bind(f.hasOwnProperty),h=e.bind(f.propertyIsEnumerable),i=e.bind(f.toString),j=g(f,"__defineGetter__");j&&(a=e.bind(f.__defineGetter__),b=e.bind(f.__defineSetter__),c=e.bind(f.__lookupGetter__),d=e.bind(f.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){var b=a.__proto__;return b||null===b?b:"[object Function]"===i(a.constructor)?a.constructor.prototype:a instanceof Object?f:null});var k=function(a){try{return a.sentinel=0,0===Object.getOwnPropertyDescriptor(a,"sentinel").value}catch(b){return!1}};if(Object.defineProperty){var l=k({}),m="undefined"==typeof document||k(document.createElement("div"));if(!m||!l)var n=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||n){var o="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(o+a);if(n)try{return n.call(Object,a,b)}catch(e){}var i;if(!g(a,b))return i;if(i={enumerable:h(a,b),configurable:!0},j){var k=a.__proto__,l=a!==f;l&&(a.__proto__=f);var m=c(a,b),p=d(a,b);if(l&&(a.__proto__=k),m||p)return m&&(i.get=m),p&&(i.set=p),i}return i.value=a[b],i.writable=!0,i}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var p,q=!({__proto__:null}instanceof Object),r=function(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(a){return!1}},s=function(){var a,b;return b=new ActiveXObject("htmlfile"),b.write("<script></script>"),b.close(),a=b.parentWindow.Object.prototype,b=null,a},t=function(){var a,b=document.createElement("iframe"),c=document.body||document.documentElement;return b.style.display="none",c.appendChild(b),b.src="javascript:",a=b.contentWindow.Object.prototype,c.removeChild(b),b=null,a};p=q||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var a=r()?s():t();delete a.constructor,delete a.hasOwnProperty,delete a.propertyIsEnumerable,delete a.isPrototypeOf,delete a.toLocaleString,delete a.toString,delete a.valueOf;var b=function(){};return b.prototype=a,p=function(){return new b},new b},Object.create=function(a,b){var c,d=function(){};if(null===a)c=p();else{if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Object prototype may only be an Object or null");d.prototype=a,c=new d,c.__proto__=a}return void 0!==b&&Object.defineProperties(c,b),c}}var u=function(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){return!1}};if(Object.defineProperty){var v=u({}),w="undefined"==typeof document||u(document.createElement("div"));if(!v||!w)var x=Object.defineProperty,y=Object.defineProperties}if(!Object.defineProperty||x){var z="Property description must be an object: ",A="Object.defineProperty called on non-object: ",B="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,g,h){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(A+e);if("object"!=typeof h&&"function"!=typeof h||null===h)throw new TypeError(z+h);if(x)try{return x.call(Object,e,g,h)}catch(i){}if("value"in h)if(j&&(c(e,g)||d(e,g))){var k=e.__proto__;e.__proto__=f,delete e[g],e[g]=h.value,e.__proto__=k}else e[g]=h.value;else{if(!j&&("get"in h||"set"in h))throw new TypeError(B);"get"in h&&a(e,g,h.get),"set"in h&&b(e,g,h.set)}return e}}Object.defineProperties&&!y||(Object.defineProperties=function(a,b){if(y)try{return y.call(Object,a,b)}catch(c){}return Object.keys(b).forEach(function(c){"__proto__"!==c&&Object.defineProperty(a,c,b[c])}),a}),Object.seal||(Object.seal=function(a){if(Object(a)!==a)throw new TypeError("Object.seal can only be called on Objects.");return a}),Object.freeze||(Object.freeze=function(a){if(Object(a)!==a)throw new TypeError("Object.freeze can only be called on Objects.");return a});try{Object.freeze(function(){})}catch(C){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){if(Object(a)!==a)throw new TypeError("Object.preventExtensions can only be called on Objects.");return a}),Object.isSealed||(Object.isSealed=function(a){if(Object(a)!==a)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(a){if(Object(a)!==a)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)!==a)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var b="";g(a,b);)b+="?";a[b]=!0;var c=g(a,b);return delete a[b],c})}),!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&g<8&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(i<4.4&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;n<4;n++){c=m[n];for(var o=0;o<3;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma=function(){return{x:0,y:0}},na=ma(),oa=ma(),pa=ma(),qa={},ra=0,sa={},ta=ma(),ua=0,va=!0,wa=[],xa={},ya=!1,za=function(a,b){e.extend(f,b.publicMethods),wa.push(a)},Aa=function(a){var b=ac();return a>b-1?a-b:a<0?b+a:a},Ba={},Ca=function(a,b){return Ba[a]||(Ba[a]=[]),Ba[a].push(b)},Da=function(a){var b=Ba[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ea=function(){return(new Date).getTime()},Fa=function(a){ja=a,f.bg.style.opacity=a*i.bgOpacity},Ga=function(a,b,c,d,e){(!ya||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Ha=function(a){ea&&(a&&(s>f.currItem.fitRatio?ya||(mc(f.currItem,!1,!0),ya=!0):ya&&(mc(f.currItem),ya=!1)),Ga(ea,pa.x,pa.y,s))},Ia=function(a){a.container&&Ga(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ja=function(a,b){b[E]=u+a+"px, 0px"+v},Ka=function(a,b){if(!i.loop&&b){var c=m+(ta.x*ra-a)/ta.x,d=Math.round(a-tb.x);(c<0&&d>0||c>=ac()-1&&d<0)&&(a=tb.x+d*i.mainScrollEndFriction)}tb.x=a,Ja(a,n)},La=function(a,b){var c=ub[a]-sa[a];return oa[a]+na[a]+c-c*(b/t)},Ma=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Na=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Oa=null,Pa=function(){Oa&&(e.unbind(document,"mousemove",Pa),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Da("mouseUsed")),Oa=setTimeout(function(){Oa=null},100)},Qa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Pa),e.bind(window,"resize scroll orientationchange",f),Da("bindEvents")},Ra=function(){e.unbind(window,"resize scroll orientationchange",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Pa),N.transform&&e.unbind(f.scrollWrap,"click",f),V&&e.unbind(window,p,f),clearTimeout(O),Da("unbindEvents")},Sa=function(a,b){var c=ic(f.currItem,qa,a);return b&&(da=c),c},Ta=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ua=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Va=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=La(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]&&(c[a]=b.max[a],!0))},Wa=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ja=function(a,b){b.left=a+"px"},Ia=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ha=function(){if(ea){var a=ea,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=pa.x+"px",a.top=pa.y+"px"}}},Xa=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Ya=function(a){a&&(Y||X||fa||T)&&(a.preventDefault(),a.stopPropagation())},Za=function(){f.setScrollOffset(0,e.getScrollY())},$a={},_a=0,ab=function(a){$a[a]&&($a[a].raf&&I($a[a].raf),_a--,delete $a[a])},bb=function(a){$a[a]&&ab(a),$a[a]||(_a++,$a[a]={})},cb=function(){for(var a in $a)$a.hasOwnProperty(a)&&ab(a)},db=function(a,b,c,d,e,f,g){var h,i=Ea();bb(a);var j=function(){if($a[a]){if(h=Ea()-i,h>=d)return ab(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),$a[a].raf=H(j)}};j()},eb={shout:Da,listen:Ca,viewportSize:qa,options:i,isMainScrollAnimating:function(){return fa},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return V},isZooming:function(){return aa},setScrollOffset:function(a,b){sa.x=a,M=sa.y=b,Da("updateScrollOffset",sa)},applyZoomPan:function(a,b,c,d){pa.x=b,pa.y=c,s=a,Ha(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Wa(),r={resize:f.updateSize,orientationchange:function(){clearTimeout(O),O=setTimeout(function(){qa.x!==f.scrollWrap.clientWidth&&f.updateSize();
},500)},scroll:Za,keydown:Xa,click:Ya};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<wa.length;c++)f["init"+wa[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Da("firstUpdate"),m=m||i.index||0,(isNaN(m)||m<0||m>=ac())&&(m=0),f.currItem=_b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(va=!1),a.setAttribute("aria-hidden","false"),i.modal&&(va?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Da("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ua=null,c=0;c<h;c++)Ja((c+o)*ta.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ca("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Qa()}),f.setContent(y[1],m),f.updateCurrItem(),Da("afterInit"),va||(w=setInterval(function(){_a||V||aa||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Da("close"),Ra(),cc(f.currItem,null,!0,f.destroy))},destroy:function(){Da("destroy"),Xb&&clearTimeout(Xb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),zb(),cb(),Ba=null},panTo:function(a,b,c){c||(a>da.min.x?a=da.min.x:a<da.max.x&&(a=da.max.x),b>da.min.y?b=da.min.y:b<da.max.y&&(b=da.max.y)),pa.x=a,pa.y=b,Ha()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=Aa(a);var b=a-m;ua=b,m=a,f.currItem=_b(m),ra-=b,Ka(ta.x*ra),cb(),fa=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Da("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];ea=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else ea=null;da=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,pa.x=da.center.x,pa.y=da.center.y,a&&Da("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;a<h;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ua){var b,c=Math.abs(ua);if(!(a&&c<2)){f.currItem=_b(m),ya=!1,Da("beforeChange",ua),c>=h&&(o+=ua+(ua>0?-h:h),c=h);for(var d=0;d<c;d++)ua>0?(b=y.shift(),y[h-1]=b,o++,Ja((o+2)*ta.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ja(o*ta.x,b.el.style),f.setContent(b,m+c-d-1-1));if(ea&&1===Math.abs(ua)){var e=_b(z);e.initialZoomLevel!==s&&(ic(e,qa),mc(e),Ia(e))}ua=0,f.updateCurrZoomItem(),z=m,Da("afterChange")}}},updateSize:function(b){if(!va&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&xa.x===window.innerWidth&&xa.y===window.innerHeight)return;xa.x=window.innerWidth,xa.y=window.innerHeight,a.style.height=xa.y+"px"}if(qa.x=f.scrollWrap.clientWidth,qa.y=f.scrollWrap.clientHeight,Za(),ta.x=qa.x+Math.round(qa.x*i.spacing),ta.y=qa.y,Ka(ta.x*ra),Da("beforeResize"),void 0!==o){for(var d,g,j,k=0;k<h;k++)d=y[k],Ja((k+o)*ta.x,d.el.style),j=m+k-1,i.loop&&ac()>2&&(j=Aa(j)),g=_b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):d.index===-1&&j>=0&&f.setContent(d,j),g&&g.container&&(ic(g,qa),mc(g),Ia(g));x=!1}t=s=f.currItem.initialZoomLevel,da=f.currItem.bounds,da&&(pa.x=da.center.x,pa.y=da.center.y,Ha(!0)),Da("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,ub.x=Math.abs(b.x)-pa.x,ub.y=Math.abs(b.y)-pa.y,Ma(oa,pa));var g=Sa(a,!1),h={};Va("x",g,h,a),Va("y",g,h,a);var i=s,j={x:pa.x,y:pa.y};Na(h);var k=function(b){1===b?(s=a,pa.x=h.x,pa.y=h.y):(s=(a-i)*b+i,pa.x=(h.x-j.x)*b+j.x,pa.y=(h.y-j.y)*b+j.y),f&&f(b),Ha(1===b)};c?db("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},fb=30,gb=10,hb={},ib={},jb={},kb={},lb={},mb=[],nb={},ob=[],pb={},qb=0,rb=ma(),sb=0,tb=ma(),ub=ma(),vb=ma(),wb=function(a,b){return a.x===b.x&&a.y===b.y},xb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},yb=function(a,b){return pb.x=Math.abs(a.x-b.x),pb.y=Math.abs(a.y-b.y),Math.sqrt(pb.x*pb.x+pb.y*pb.y)},zb=function(){Z&&(I(Z),Z=null)},Ab=function(){V&&(Z=H(Ab),Qb())},Bb=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Cb=function(a,b){return!(!a||a===document)&&!(a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(b(a)?a:Cb(a.parentNode,b))},Db={},Eb=function(a,b){return Db.prevent=!Cb(a.target,i.isClickableElement),Da("preventDragEvent",a,b,Db),Db.prevent},Fb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Gb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Hb=function(a,b,c){if(a-Q>50){var d=ob.length>2?ob.shift():{};d.x=b,d.y=c,ob.push(d),Q=a}},Ib=function(){var a=pa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(qa.y/2))},Jb={},Kb={},Lb=[],Mb=function(a){for(;Lb.length>0;)Lb.pop();return F?(la=0,mb.forEach(function(a){0===la?Lb[0]=a:1===la&&(Lb[1]=a),la++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Lb[0]=Fb(a.touches[0],Jb),a.touches.length>1&&(Lb[1]=Fb(a.touches[1],Kb))):(Jb.x=a.pageX,Jb.y=a.pageY,Jb.id="",Lb[0]=Jb),Lb},Nb=function(a,b){var c,d,e,g,h=0,j=pa[a]+b[a],k=b[a]>0,l=tb.x+b.x,m=tb.x-nb.x;return c=j>da.min[a]||j<da.max[a]?i.panEndFriction:1,j=pa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(ea?"h"!==ga||"x"!==a||X||(k?(j>da.min[a]&&(c=i.panEndFriction,h=da.min[a]-j,d=da.min[a]-oa[a]),(d<=0||m<0)&&ac()>1?(g=l,m<0&&l>nb.x&&(g=nb.x)):da.min.x!==da.max.x&&(e=j)):(j<da.max[a]&&(c=i.panEndFriction,h=j-da.max[a],d=oa[a]-da.max[a]),(d<=0||m>0)&&ac()>1?(g=l,m>0&&l<nb.x&&(g=nb.x)):da.min.x!==da.max.x&&(e=j))):g=l,"x"!==a)?void(fa||$||s>f.currItem.fitRatio&&(pa[a]+=b[a]*c)):(void 0!==g&&(Ka(g,!0),$=g!==nb.x),da.min.x!==da.max.x&&(void 0!==e?pa.x=e:$||(pa.x+=b.x*c)),void 0!==g)},Ob=function(a){if(!("mousedown"===a.type&&a.button>0)){if($b)return void a.preventDefault();if(!U||"mousedown"!==a.type){if(Eb(a,!0)&&a.preventDefault(),Da("pointerDown"),F){var b=e.arraySearch(mb,a.pointerId,"id");b<0&&(b=mb.length),mb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Mb(a),d=c.length;_=null,cb(),V&&1!==d||(V=ha=!0,e.bind(window,p,f),S=ka=ia=T=$=Y=W=X=!1,ga=null,Da("firstTouchStart",c),Ma(oa,pa),na.x=na.y=0,Ma(kb,c[0]),Ma(lb,kb),nb.x=ta.x*ra,ob=[{x:kb.x,y:kb.y}],Q=P=Ea(),Sa(s,!0),zb(),Ab()),!aa&&d>1&&!fa&&!$&&(t=s,X=!1,aa=W=!0,na.y=na.x=0,Ma(oa,pa),Ma(hb,c[0]),Ma(ib,c[1]),Gb(hb,ib,vb),ub.x=Math.abs(vb.x)-pa.x,ub.y=Math.abs(vb.y)-pa.y,ba=ca=yb(hb,ib))}}},Pb=function(a){if(a.preventDefault(),F){var b=e.arraySearch(mb,a.pointerId,"id");if(b>-1){var c=mb[b];c.x=a.pageX,c.y=a.pageY}}if(V){var d=Mb(a);if(ga||Y||aa)_=d;else if(tb.x!==ta.x*ra)ga="h";else{var f=Math.abs(d[0].x-kb.x)-Math.abs(d[0].y-kb.y);Math.abs(f)>=gb&&(ga=f>0?"h":"v",_=d)}}},Qb=function(){if(_){var a=_.length;if(0!==a)if(Ma(hb,_[0]),jb.x=hb.x-kb.x,jb.y=hb.y-kb.y,aa&&a>1){if(kb.x=hb.x,kb.y=hb.y,!jb.x&&!jb.y&&wb(_[1],ib))return;Ma(ib,_[1]),X||(X=!0,Da("zoomGestureStarted"));var b=yb(hb,ib),c=Vb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ka=!0);var d=1,e=Ta(),g=Ua();if(c<e)if(i.pinchToClose&&!ka&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Fa(j),Da("onPinchClose",j),ia=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);d<0&&(d=0),ba=b,Gb(hb,ib,rb),na.x+=rb.x-vb.x,na.y+=rb.y-vb.y,Ma(vb,rb),pa.x=La("x",c),pa.y=La("y",c),S=c>s,s=c,Ha()}else{if(!ga)return;if(ha&&(ha=!1,Math.abs(jb.x)>=gb&&(jb.x-=_[0].x-lb.x),Math.abs(jb.y)>=gb&&(jb.y-=_[0].y-lb.y)),kb.x=hb.x,kb.y=hb.y,0===jb.x&&0===jb.y)return;if("v"===ga&&i.closeOnVerticalDrag&&!Bb()){na.y+=jb.y,pa.y+=jb.y;var k=Ib();return T=!0,Da("onVerticalDrag",k),Fa(k),void Ha()}Hb(Ea(),hb.x,hb.y),Y=!0,da=f.currItem.bounds;var l=Nb("x",jb);l||(Nb("y",jb),Na(pa),Ha())}}},Rb=function(a){if(N.isOldAndroid){if(U&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}Da("pointerUp"),Eb(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(mb,a.pointerId,"id");if(c>-1)if(b=mb.splice(c,1)[0],navigator.msPointerEnabled){var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}else b.type=a.pointerType||"mouse"}var g,h=Mb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return _=null,!0;1===j&&Ma(lb,h[0]),0!==j||ga||fa||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Da("touchRelease",a,b));var k=-1;if(0===j&&(V=!1,e.unbind(window,p,f),zb(),aa?k=0:sb!==-1&&(k=Ea()-sb)),sb=1===j?Ea():-1,g=k!==-1&&k<150?"zoom":"swipe",aa&&j<2&&(aa=!1,1===j&&(g="zoomPointerUp"),Da("zoomGestureEnded")),_=null,Y||X||fa||T)if(cb(),R||(R=Sb()),R.calculateSwipeSpeed("x"),T){var l=Ib();if(l<i.verticalDragRange)f.close();else{var m=pa.y,n=ja;db("verticalDrag",0,1,300,e.easing.cubic.out,function(a){pa.y=(f.currItem.initialPosition.y-m)*a+m,Fa((1-n)*a+n),Ha()}),Da("onVerticalDrag",1)}}else{if(($||fa)&&0===j){var o=Ub(g,R);if(o)return;g="zoomPointerUp"}if(!fa)return"swipe"!==g?void Wb():void(!$&&s>f.currItem.fitRatio&&Tb(R))}},Sb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){ob.length>1?(a=Ea()-Q+50,b=ob[ob.length-2][d]):(a=Ea()-P,b=lb[d]),c.lastFlickOffset[d]=kb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(pa[a]>da.min[a]?c.backAnimDestination[a]=da.min[a]:pa[a]<da.max[a]&&(c.backAnimDestination[a]=da.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,db("bounceZoomPan"+a,pa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){pa[a]=b,Ha()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,pa[a]+=c.distanceOffset[a])},panAnimLoop:function(){if($a.zoomPan&&($a.zoomPan.raf=H(c.panAnimLoop),c.now=Ea(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ha(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05))return pa.x=Math.round(pa.x),pa.y=Math.round(pa.y),Ha(),void ab("zoomPan")}};return c},Tb=function(a){return a.calculateSwipeSpeed("y"),da=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(bb("zoomPan"),a.lastNow=Ea(),void a.panAnimLoop())},Ub=function(a,b){var c;fa||(qb=m);var d;if("swipe"===a){var g=kb.x-lb.x,h=b.lastFlickDist.x<10;g>fb&&(h||b.lastFlickOffset.x>20)?d=-1:g<-fb&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,m<0?(m=i.loop?ac()-1:0,j=!0):m>=ac()&&(m=i.loop?0:ac()-1,j=!0),j&&!i.loop||(ua+=d,ra-=d,c=!0));var k,l=ta.x*ra,n=Math.abs(l-tb.x);return c||l>tb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,qb===m&&(c=!1),fa=!0,Da("mainScrollAnimStart"),db("mainScroll",tb.x,l,k,e.easing.cubic.out,Ka,function(){cb(),fa=!1,qb=-1,(c||qb!==m)&&f.updateCurrItem(),Da("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Vb=function(a){return 1/ca*a*t},Wb=function(){var a=s,b=Ta(),c=Ua();s<b?a=b:s>c&&(a=c);var d,g=1,h=ja;return ia&&!S&&!ka&&s<b?(f.close(),!0):(ia&&(d=function(a){Fa((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};za("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.msPointerEnabled?a("MSPointer","Down","Move","Up","Cancel"):a("pointer","down","move","up","cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Ob,r[B]=Pb,r[C]=Rb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Xb,Yb,Zb,$b,_b,ac,bc,cc=function(b,c,d,g){Xb&&clearTimeout(Xb),$b=!0,Zb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){ab("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Fa(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Da("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),$b=!1};if(!j||!h||void 0===h.x)return Da("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),a.style.opacity=d?0:1,Fa(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,pa.x=h.x,pa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Ha()),bb("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Xb=setTimeout(function(){if(Da("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:pa.x,y:pa.y},l=s,m=ja,n=function(b){1===b?(s=f,pa.x=h.x,pa.y=h.y-M):(s=(f-l)*b+l,pa.x=(h.x-i.x)*b+i.x,pa.y=(h.y-M-i.y)*b+i.y),Ha(),g?a.style.opacity=1-b:Fa(m-b*m)};c?db("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Xb=setTimeout(k,j+20))}else s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),Fa(1),g?a.style.opacity=1:Fa(1),Xb=setTimeout(k,j+20)},d?25:90)};n()},dc={},ec=[],fc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Yb.length}},gc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},hc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((dc.x-b)/2),d.center.y=Math.round((dc.y-c)/2)+a.vGap.top,d.max.x=b>dc.x?Math.round(dc.x-b):d.center.x,d.max.y=c>dc.y?Math.round(dc.y-c)+a.vGap.top:d.center.y,d.min.x=b>dc.x?0:d.center.x,d.min.y=c>dc.y?a.vGap.top:d.center.y},ic=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Da("parseVerticalMargin",a)),dc.x=b.x,dc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=dc.x/a.w,f=dc.y/a.h;a.fitRatio=e<f?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=gc())}if(!c)return;return hc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=gc(),a.initialPosition=a.bounds.center,a.bounds},jc=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,mc(b,d,b===f.currItem&&ya),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},kc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},lc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0},mc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},nc=function(){if(ec.length){for(var a,b=0;b<ec.length;b++)a=ec[b],a.holder.index===a.index&&jc(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);ec=[]}};za("Controller",{publicMethods:{lazyLoadItem:function(a){a=Aa(a);var b=_b(a);b&&(!b.loaded&&!b.loading||x)&&(Da("gettingData",a,b),b.src&&kc(b))},initController:function(){e.extend(i,fc,!0),f.items=Yb=c,_b=f.getItemAt,ac=i.getNumItemsFn,bc=i.loop,ac()<3&&(i.loop=!1),Ca("beforeChange",function(a){var b,c=i.preload,d=null===a||a>=0,e=Math.min(c[0],ac()),g=Math.min(c[1],ac());for(b=1;b<=(d?g:e);b++)f.lazyLoadItem(m+b);for(b=1;b<=(d?e:g);b++)f.lazyLoadItem(m-b)}),Ca("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ca("mainScrollAnimComplete",nc),Ca("initialZoomInEnd",nc),Ca("destroy",function(){for(var a,b=0;b<Yb.length;b++)a=Yb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);ec=null})},getItemAt:function(a){return a>=0&&void 0!==Yb[a]&&Yb[a]},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=Aa(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Da("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),lc(g),ic(g,qa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=g.src,mc(g,d),jc(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(lc(c,!0))return c.loadComplete=c.img=null,ic(c,qa),Ia(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!$b&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(fa||$b)?ec.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):jc(b,c,h,c.img,fa||$b,!0)}c.loadComplete=null,c.img=null,Da("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),mc(g,l),h.appendChild(l),g.placeholder=l}g.loading||kc(g),f.allowProgressiveImg()&&(!Zb&&N.transform?ec.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):jc(b,g,h,g.img,!0,!0))}Zb||b!==m?Ia(g):(ea=h.style,cc(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var oc,pc={},qc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};za("Tap",{publicMethods:{initTap:function(){Ca("firstTouchStart",f.onTapStart),Ca("touchRelease",f.onTapRelease),Ca("destroy",function(){pc={},oc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(oc),oc=null)},onTapRelease:function(a,b){if(b&&!Y&&!W&&!_a){var c=b;if(oc&&(clearTimeout(oc),oc=null,xb(c,pc)))return void Da("doubleTap",c);if("mouse"===b.type)return void qc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void qc(a,b);Ma(pc,c),oc=setTimeout(function(){qc(a,b),oc=null},300)}}}});var rc;za("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Ca("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){rc={};var c="wheel mousewheel DOMMouseScroll";Ca("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Ca("unbindEvents",function(){rc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),s<1?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Ca("resize",g),Ca("afterChange",g),Ca("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Ca("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||_a||V?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),rc.x=0,"deltaX"in a)1===a.deltaMode?(rc.x=18*a.deltaX,rc.y=18*a.deltaY):(rc.x=a.deltaX,rc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(rc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?rc.y=-.16*a.wheelDeltaY:rc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;rc.y=a.detail}Sa(s,!0);var b=pa.x-rc.x,c=pa.y-rc.y;(i.modal||b<=da.min.x&&b>=da.max.x&&c<=da.min.y&&c>=da.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:qa.x/2+sa.x,y:qa.y/2+sa.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec={history:!0,galleryUID:1},Fc=function(){return Cc.hash.substring(1)},Gc=function(){sc&&clearTimeout(sc),uc&&clearTimeout(uc)},Hc=function(){var a=Fc(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Yb.length;c++)if(Yb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Ic=function(){if(uc&&clearTimeout(uc),_a||V)return void(uc=setTimeout(Ic,500));vc?clearTimeout(tc):vc=!0;var a=m+1,b=_b(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=yc+"&gid="+i.galleryUID+"&pid="+a;zc||Cc.hash.indexOf(c)===-1&&(Bc=!0);var d=Cc.href.split("#")[0]+"#"+c;Dc?"#"+c!==window.location.hash&&history[zc?"replaceState":"pushState"]("",document.title,d):zc?Cc.replace(d):Cc.hash=c,zc=!0,tc=setTimeout(function(){vc=!1},60)};za("History",{publicMethods:{initHistory:function(){if(e.extend(i,Ec,!0),i.history){Cc=window.location,Bc=!1,Ac=!1,zc=!1,yc=Fc(),Dc="pushState"in history,yc.indexOf("gid=")>-1&&(yc=yc.split("&gid=")[0],yc=yc.split("?gid=")[0]),Ca("afterChange",f.updateURL),Ca("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){xc=!0,Ac||(Bc?history.back():yc?Cc.hash=yc:Dc?history.pushState("",document.title,Cc.pathname+Cc.search):Cc.hash=""),Gc()};Ca("unbindEvents",function(){l&&a()}),Ca("destroy",function(){xc||a()}),Ca("firstUpdate",function(){m=Hc().pid});var b=yc.indexOf("pid=");b>-1&&(yc=yc.substring(0,b),"&"===yc.slice(-1)&&(yc=yc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Fc()===yc?(Ac=!0,void f.close()):void(vc||(wc=!0,f.goTo(Hc().pid),wc=!1))},updateURL:function(){Gc(),wc||(zc?sc=setTimeout(Ic,800):Ic())}}}),e.extend(f,eb)};return a}),!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),!(!c.href||!c.hasAttribute("download")&&(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),1))},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&a<.95?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&b<.9?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;g<f;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;
var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a}),function(a){"use strict";function b(a,b,c){"addEventListener"in window?a.addEventListener(b,c,!1):"attachEvent"in window&&a.attachEvent("on"+b,c)}function c(a,b,c){"removeEventListener"in window?a.removeEventListener(b,c,!1):"detachEvent"in window&&a.detachEvent("on"+b,c)}function d(){var a,b=["moz","webkit","o","ms"];for(a=0;a<b.length&&!N;a+=1)N=window[b[a]+"RequestAnimationFrame"];N||h("setup","RequestAnimationFrame not supported")}function e(a){var b="Host page: "+a;return window.top!==window.self&&(b=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+a:"Nested host page: "+a),b}function f(a){return K+"["+e(a)+"]"}function g(a){return P[a]?P[a].log:G}function h(a,b){k("log",a,b,g(a))}function i(a,b){k("info",a,b,g(a))}function j(a,b){k("warn",a,b,!0)}function k(a,b,c,d){!0===d&&"object"==typeof window.console&&console[a](f(b),c)}function l(a){function d(){function a(){s(U),p(V),I("resizedCallback",U)}f("Height"),f("Width"),t(a,U,"init")}function e(){var a=T.substr(L).split(":");return{iframe:P[a[0]]&&P[a[0]].iframe,id:a[0],height:a[1],width:a[2],type:a[3]}}function f(a){var b=Number(P[V]["max"+a]),c=Number(P[V]["min"+a]),d=a.toLowerCase(),e=Number(U[d]);h(V,"Checking "+d+" is in range "+c+"-"+b),e<c&&(e=c,h(V,"Set "+d+" to min value")),e>b&&(e=b,h(V,"Set "+d+" to max value")),U[d]=""+e}function g(){function b(){function a(){var a=0,b=!1;for(h(V,"Checking connection is from allowed list of origins: "+d);a<d.length;a++)if(d[a]===c){b=!0;break}return b}function b(){var a=P[V]&&P[V].remoteHost;return h(V,"Checking connection is from: "+a),c===a}return d.constructor===Array?a():b()}var c=a.origin,d=P[V]&&P[V].checkOrigin;if(d&&""+c!="null"&&!b())throw new Error("Unexpected message received from: "+c+" for "+U.iframe.id+". Message was: "+a.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function k(){return K===(""+T).substr(0,L)&&T.substr(L).split(":")[0]in P}function l(){var a=U.type in{"true":1,"false":1,undefined:1};return a&&h(V,"Ignoring init message from meta parent page"),a}function w(a){return T.substr(T.indexOf(":")+J+a)}function y(a){h(V,"MessageCallback passed: {iframe: "+U.iframe.id+", message: "+a+"}"),I("messageCallback",{iframe:U.iframe,message:JSON.parse(a)}),h(V,"--")}function z(){var a=document.body.getBoundingClientRect(),b=U.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:b.height,iframeWidth:b.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(b.top-a.top,10),offsetLeft:parseInt(b.left-a.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function A(a,b){function c(){u("Send Page Info","pageInfo:"+z(),a,b)}x(c,32)}function B(){function a(a,b){function c(){P[f]?A(P[f].iframe,f):d()}["scroll","resize"].forEach(function(d){h(f,a+d+" listener for sendPageInfo"),b(window,d,c)})}function d(){a("Remove ",c)}function e(){a("Add ",b)}var f=V;e(),P[f]&&(P[f].stopPageInfo=d)}function C(){P[V]&&P[V].stopPageInfo&&(P[V].stopPageInfo(),delete P[V].stopPageInfo)}function D(){var a=!0;return null===U.iframe&&(j(V,"IFrame ("+U.id+") not found"),a=!1),a}function E(a){var b=a.getBoundingClientRect();return o(V),{x:Math.floor(Number(b.left)+Number(M.x)),y:Math.floor(Number(b.top)+Number(M.y))}}function F(a){function b(){M=f,G(),h(V,"--")}function c(){return{x:Number(U.width)+e.x,y:Number(U.height)+e.y}}function d(){window.parentIFrame?window.parentIFrame["scrollTo"+(a?"Offset":"")](f.x,f.y):j(V,"Unable to scroll to requested position, window.parentIFrame not found")}var e=a?E(U.iframe):{x:0,y:0},f=c();h(V,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?d():b()}function G(){!1!==I("scrollCallback",M)?p(V):q()}function H(a){function b(){var a=E(f);h(V,"Moving to in page link (#"+d+") at x: "+a.x+" y: "+a.y),M={x:a.x,y:a.y},G(),h(V,"--")}function c(){window.parentIFrame?window.parentIFrame.moveToAnchor(d):h(V,"In page link #"+d+" not found and window.parentIFrame not found")}var d=a.split("#")[1]||"",e=decodeURIComponent(d),f=document.getElementById(e)||document.getElementsByName(e)[0];f?b():window.top!==window.self?c():h(V,"In page link #"+d+" not found")}function I(a,b){return m(V,a,b)}function N(){switch(P[V]&&P[V].firstRun&&S(),U.type){case"close":P[V].closeRequestCallback?m(V,"closeRequestCallback",P[V].iframe):n(U.iframe);break;case"message":y(w(6));break;case"scrollTo":F(!1);break;case"scrollToOffset":F(!0);break;case"pageInfo":A(P[V]&&P[V].iframe,V),B();break;case"pageInfoStop":C();break;case"inPageLink":H(w(9));break;case"reset":r(U);break;case"init":d(),I("initCallback",U.iframe);break;default:d()}}function O(a){var b=!0;return P[a]||(b=!1,j(U.type+" No settings for "+a+". Message was: "+T)),b}function Q(){for(var a in P)u("iFrame requested init",v(a),document.getElementById(a),a)}function S(){P[V]&&(P[V].firstRun=!1)}var T=a.data,U={},V=null;"[iFrameResizerChild]Ready"===T?Q():k()?(U=e(),V=R=U.id,P[V]&&(P[V].loaded=!0),!l()&&O(V)&&(h(V,"Received: "+T),D()&&g()&&N())):i(V,"Ignored: "+T)}function m(a,b,c){var d=null,e=null;if(P[a]){if(d=P[a][b],"function"!=typeof d)throw new TypeError(b+" on iFrame["+a+"] is not a function");e=d(c)}return e}function n(a){var b=a.id;h(b,"Removing iFrame: "+b),a.parentNode&&a.parentNode.removeChild(a),m(b,"closedCallback",b),h(b,"--"),delete P[b]}function o(b){null===M&&(M={x:window.pageXOffset!==a?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==a?window.pageYOffset:document.documentElement.scrollTop},h(b,"Get page position: "+M.x+","+M.y))}function p(a){null!==M&&(window.scrollTo(M.x,M.y),h(a,"Set page position: "+M.x+","+M.y),q())}function q(){M=null}function r(a){function b(){s(a),u("reset","reset",a.iframe,a.id)}h(a.id,"Size reset requested by "+("init"===a.type?"host page":"iFrame")),o(a.id),t(b,a,"reset")}function s(a){function b(b){a.iframe.style[b]=a[b]+"px",h(a.id,"IFrame ("+e+") "+b+" set to "+a[b]+"px")}function c(b){H||"0"!==a[b]||(H=!0,h(e,"Hidden iFrame detected, creating visibility listener"),y())}function d(a){b(a),c(a)}var e=a.iframe.id;P[e]&&(P[e].sizeHeight&&d("height"),P[e].sizeWidth&&d("width"))}function t(a,b,c){c!==b.type&&N?(h(b.id,"Requesting animation frame"),N(a)):a()}function u(a,b,c,d,e){function f(){var e=P[d]&&P[d].targetOrigin;h(d,"["+a+"] Sending msg to iframe["+d+"] ("+b+") targetOrigin: "+e),c.contentWindow.postMessage(K+b,e)}function g(){j(d,"["+a+"] IFrame("+d+") not found")}function i(){c&&"contentWindow"in c&&null!==c.contentWindow?f():g()}function k(){function a(){!P[d]||P[d].loaded||l||(l=!0,j(d,"IFrame has not responded within "+P[d].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}e&&P[d]&&P[d].warningTimeout&&(P[d].msgTimeout=setTimeout(a,P[d].warningTimeout))}var l=!1;d=d||c.id,P[d]&&(i(),k())}function v(a){return a+":"+P[a].bodyMarginV1+":"+P[a].sizeWidth+":"+P[a].log+":"+P[a].interval+":"+P[a].enablePublicMethods+":"+P[a].autoResize+":"+P[a].bodyMargin+":"+P[a].heightCalculationMethod+":"+P[a].bodyBackground+":"+P[a].bodyPadding+":"+P[a].tolerance+":"+P[a].inPageLinks+":"+P[a].resizeFrom+":"+P[a].widthCalculationMethod}function w(c,d){function e(){function a(a){1/0!==P[x][a]&&0!==P[x][a]&&(c.style[a]=P[x][a]+"px",h(x,"Set "+a+" = "+P[x][a]+"px"))}function b(a){if(P[x]["min"+a]>P[x]["max"+a])throw new Error("Value for min"+a+" can not be greater than max"+a)}b("Height"),b("Width"),a("maxHeight"),a("minHeight"),a("maxWidth"),a("minWidth")}function f(){var a=d&&d.id||S.id+F++;return null!==document.getElementById(a)&&(a+=F++),a}function g(a){return R=a,""===a&&(c.id=a=f(),G=(d||{}).log,R=a,h(a,"Added missing iframe ID: "+a+" ("+c.src+")")),a}function i(){switch(h(x,"IFrame scrolling "+(P[x]&&P[x].scrolling?"enabled":"disabled")+" for "+x),c.style.overflow=!1===(P[x]&&P[x].scrolling)?"hidden":"auto",P[x]&&P[x].scrolling){case!0:c.scrolling="yes";break;case!1:c.scrolling="no";break;default:c.scrolling=P[x]?P[x].scrolling:"no"}}function k(){"number"!=typeof(P[x]&&P[x].bodyMargin)&&"0"!==(P[x]&&P[x].bodyMargin)||(P[x].bodyMarginV1=P[x].bodyMargin,P[x].bodyMargin=""+P[x].bodyMargin+"px")}function l(){var a=P[x]&&P[x].firstRun,b=P[x]&&P[x].heightCalculationMethod in O;!a&&b&&r({iframe:c,height:0,width:0,type:"init"})}function m(){Function.prototype.bind&&P[x]&&(P[x].iframe.iFrameResizer={close:n.bind(null,P[x].iframe),resize:u.bind(null,"Window resize","resize",P[x].iframe),moveToAnchor:function(a){u("Move to anchor","moveToAnchor:"+a,P[x].iframe,x)},sendMessage:function(a){a=JSON.stringify(a),u("Send Message","message:"+a,P[x].iframe,x)}})}function o(d){function e(){u("iFrame.onload",d,c,a,!0),l()}b(c,"load",e),u("init",d,c,a,!0)}function p(a){if("object"!=typeof a)throw new TypeError("Options is not an object")}function q(a){for(var b in S)S.hasOwnProperty(b)&&(P[x][b]=a.hasOwnProperty(b)?a[b]:S[b])}function s(a){return""===a||"file://"===a?"*":a}function t(a){a=a||{},P[x]={firstRun:!0,iframe:c,remoteHost:c.src.split("/").slice(0,3).join("/")},p(a),q(a),P[x]&&(P[x].targetOrigin=!0===P[x].checkOrigin?s(P[x].remoteHost):"*")}function w(){return x in P&&"iFrameResizer"in c}var x=g(c.id);w()?j(x,"Ignored iFrame, already setup."):(t(d),i(),e(),k(),o(v(x)),m())}function x(a,b){null===Q&&(Q=setTimeout(function(){Q=null,a()},b))}function y(){function a(){function a(a){function b(b){return"0px"===(P[a]&&P[a].iframe.style[b])}function c(a){return null!==a.offsetParent}P[a]&&c(P[a].iframe)&&(b("height")||b("width"))&&u("Visibility change","resize",P[a].iframe,a)}for(var b in P)a(b)}function b(b){h("window","Mutation observed: "+b[0].target+" "+b[0].type),x(a,16)}function c(){var a=document.querySelector("body"),c={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new d(b);e.observe(a,c)}var d=window.MutationObserver||window.WebKitMutationObserver;d&&c()}function z(a){function b(){B("Window "+a,"resize")}h("window","Trigger event: "+a),x(b,16)}function A(){function a(){B("Tab Visable","resize")}"hidden"!==document.visibilityState&&(h("document","Trigger event: Visiblity change"),x(a,16))}function B(a,b){function c(a){return P[a]&&"parent"===P[a].resizeFrom&&P[a].autoResize&&!P[a].firstRun}for(var d in P)c(d)&&u(a,b,document.getElementById(d),d)}function C(){b(window,"message",l),b(window,"resize",function(){z("resize")}),b(document,"visibilitychange",A),b(document,"-webkit-visibilitychange",A),b(window,"focusin",function(){z("focus")}),b(window,"focus",function(){z("focus")})}function D(){function b(a,b){function c(){if(!b.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==b.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+b.tagName+">")}b&&(c(),w(b,a),e.push(b))}function c(a){a&&a.enablePublicMethods&&j("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var e;return d(),C(),function(d,f){switch(e=[],c(d),typeof f){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(f||"iframe"),b.bind(a,d));break;case"object":b(d,f);break;default:throw new TypeError("Unexpected data type ("+typeof f+")")}return e}}function E(a){a.fn?a.fn.iFrameResize||(a.fn.iFrameResize=function(a){function b(b,c){w(c,a)}return this.filter("iframe").each(b).end()}):i("","Unable to bind to jQuery, it is not fully loaded.")}if("undefined"!=typeof window){var F=0,G=!1,H=!1,I="message",J=I.length,K="[iFrameSizer]",L=K.length,M=null,N=window.requestAnimationFrame,O={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},P={},Q=null,R="Host Page",S={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){j("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&E(window.jQuery),"function"==typeof define&&define.amd?define([],D):"object"==typeof module&&"object"==typeof module.exports?module.exports=D():window.iFrameResize=window.iFrameResize||D()}}();var Holder=Holder||{};!function(a,b){function c(a,b){var c="complete",d="readystatechange",e=!1,f=e,g=!0,h=a.document,i=h.documentElement,j=h.addEventListener?"addEventListener":"attachEvent",k=h.addEventListener?"removeEventListener":"detachEvent",l=h.addEventListener?"":"on",m=function(g){(g.type!=d||h.readyState==c)&&(("load"==g.type?a:h)[k](l+g.type,m,e),!f&&(f=!0)&&b.call(a,null))},n=function(){try{i.doScroll("left")}catch(a){return void setTimeout(n,50)}m("poll")};if(h.readyState==c)b.call(a,"lazy");else{if(h.createEventObject&&i.doScroll){try{g=!a.frameElement}catch(o){}g&&n()}h[j](l+"DOMContentLoaded",m,e),h[j](l+d,m,e),a[j](l+"load",m,e)}}function d(a){a=a.match(/^(\W)?(.*)/);var b=document["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")](a[2]),c=[];return null!=b&&(c=b.length?b:0==b.length?b:[b]),c}function e(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}function f(a,b,c){var d=[b,a].sort(),e=Math.round(d[1]/16),f=(Math.round(d[0]/16),Math.max(c.size,e));return{height:f}}function g(a,b,c,d){var e=f(b.width,b.height,c),g=e.height,h=b.width*d,i=b.height*d,j=c.font?c.font:"sans-serif";p.width=h,p.height=i,a.textAlign="center",a.textBaseline="middle",a.fillStyle=c.background,a.fillRect(0,0,h,i),a.fillStyle=c.foreground,a.font="bold "+g+"px "+j;var k=c.text?c.text:b.width+"x"+b.height;return a.measureText(k).width/h>1&&(g=c.size/(a.measureText(k).width/h)),a.font="bold "+g*d+"px "+j,a.fillText(k,h/2,i/2,h),p.toDataURL("image/png")}function h(a,b,c,d){var f=c.dimensions,h=c.theme,i=c.text?decodeURIComponent(c.text):c.text,j=f.width+"x"+f.height;h=i?e(h,{text:i}):h,h=c.font?e(h,{font:c.font}):h,"image"==a?(b.setAttribute("data-src",d),b.setAttribute("alt",i?i:h.text?h.text+" ["+j+"]":j),!o&&c.auto||(b.style.width=f.width+"px",b.style.height=f.height+"px"),o?b.style.backgroundColor=h.background:b.setAttribute("src",g(q,f,h,t))):o||(b.style.backgroundImage="url("+g(q,f,h,t)+")",b.style.backgroundSize=f.width+"px "+f.height+"px")}function k(a,b,c){var d=b.dimensions,f=b.theme,g=b.text,h=d.width+"x"+d.height;f=g?e(f,{text:g}):f;var i=document.createElement("div");a.fluidRef&&(i=a.fluidRef),i.style.backgroundColor=f.background,i.style.color=f.foreground,i.className=a.className+" holderjs-fluid",i.style.width=b.dimensions.width+(b.dimensions.width.indexOf("%")>0?"":"px"),i.style.height=b.dimensions.height+(b.dimensions.height.indexOf("%")>0?"":"px"),i.id=a.id,a.style.width=0,a.style.height=0,a.fluidRef||(f.text?i.appendChild(document.createTextNode(f.text)):(i.appendChild(document.createTextNode(h)),u.push(i),setTimeout(l,0))),a.fluidRef=i,a.parentNode.insertBefore(i,a.nextSibling),window.jQuery&&jQuery(function(b){b(a).on("load",function(){a.style.width=i.style.width,a.style.height=i.style.height,b(a).show(),b(i).remove()})})}function l(){for(i in u)if(u.hasOwnProperty(i)){var a=u[i],b=a.firstChild;a.style.lineHeight=a.offsetHeight+"px",b.data=a.offsetWidth+"x"+a.offsetHeight}}function m(b,c){var d={theme:v.themes.gray},e=!1;for(sl=b.length,j=0;j<sl;j++){var f=b[j];a.flags.dimensions.match(f)?(e=!0,d.dimensions=a.flags.dimensions.output(f)):a.flags.fluid.match(f)?(e=!0,d.dimensions=a.flags.fluid.output(f),d.fluid=!0):a.flags.colors.match(f)?d.theme=a.flags.colors.output(f):c.themes[f]?d.theme=c.themes[f]:a.flags.text.match(f)?d.text=a.flags.text.output(f):a.flags.font.match(f)?d.font=a.flags.font.output(f):a.flags.auto.match(f)&&(d.auto=!0)}return!!e&&d}var n=!1,o=!1,p=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(a){var b,c,d,e=document,f=[];if(e.querySelectorAll)return e.querySelectorAll("."+a);if(e.evaluate)for(c=".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b=e.evaluate(c,e,null,0,null);d=b.iterateNext();)f.push(d);else for(b=e.getElementsByTagName("*"),c=new RegExp("(^|\\s)"+a+"(\\s|$)"),d=0;d<b.length;d++)c.test(b[d].className)&&f.push(b[d]);return f}),window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),p.getContext)if(p.toDataURL("image/png").indexOf("data:image/png")<0)o=!0;else var q=p.getContext("2d");else o=!0;var r=1,s=1;o||(r=window.devicePixelRatio||1,s=q.webkitBackingStorePixelRatio||q.mozBackingStorePixelRatio||q.msBackingStorePixelRatio||q.oBackingStorePixelRatio||q.backingStorePixelRatio||1);var t=r/s,u=[],v={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},ink:{background:"#222",foreground:"#fff",size:18}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){var b=this.regex.exec(a);return{width:+b[1],height:+b[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(a){var b=this.regex.exec(a);return{width:b[1],height:b[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){var b=this.regex.exec(a);return{size:v.themes.gray.size,foreground:"#"+b[2],background:"#"+b[1]}}},text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/}};for(var w in a.flags)a.flags.hasOwnProperty(w)&&(a.flags[w].match=function(a){return a.match(this.regex)});a.add_theme=function(b,c){return null!=b&&null!=c&&(v.themes[b]=c),a},a.add_image=function(b,c){var e=d(c);if(e.length)for(var f=0,g=e.length;f<g;f++){var h=document.createElement("img");h.setAttribute("data-src",b),e[f].appendChild(h)}return a},a.run=function(b){var c=e(v,b),f=[],g=[],i=[];for("string"==typeof c.images?g=d(c.images):window.NodeList&&c.images instanceof window.NodeList?g=c.images:window.Node&&c.images instanceof window.Node&&(g=[c.images]),"string"==typeof c.bgnodes?i=d(c.bgnodes):window.NodeList&&c.elements instanceof window.NodeList?i=c.bgnodes:window.Node&&c.bgnodes instanceof window.Node&&(i=[c.bgnodes]),n=!0,p=0,o=g.length;p<o;p++)f.push(g[p]);var j=document.getElementById("holderjs-style");j||(j=document.createElement("style"),j.setAttribute("id","holderjs-style"),j.type="text/css",document.getElementsByTagName("head")[0].appendChild(j)),c.nocss||(j.styleSheet?j.styleSheet.cssText+=c.stylesheet:j.appendChild(document.createTextNode(c.stylesheet)));for(var l=new RegExp(c.domain+'/(.*?)"?\\)'),o=i.length,p=0;p<o;p++){var q=window.getComputedStyle(i[p],null).getPropertyValue("background-image"),r=q.match(l);if(r){var s=m(r[1].split("/"),c);s&&h("background",i[p],s,q)}}for(o=f.length,p=0;p<o;p++){var t=attr_data_src=q=null;try{t=f[p].getAttribute("src"),attr_datasrc=f[p].getAttribute("data-src")}catch(u){}if(null==attr_datasrc&&t&&t.indexOf(c.domain)>=0?q=t:attr_datasrc&&attr_datasrc.indexOf(c.domain)>=0&&(q=attr_datasrc),q){var s=m(q.substr(q.lastIndexOf(c.domain)+c.domain.length+1).split("/"),c);s&&(s.fluid?k(f[p],s,q):h("image",f[p],s,q))}}return a},c(b,function(){window.addEventListener?(window.addEventListener("resize",l,!1),window.addEventListener("orientationchange",l,!1)):window.attachEvent("onresize",l),n||a.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return a})}(Holder,window),function(a,b){"use strict";if(!("Ink"in a&&"function"==typeof Ink.requireModules)){var c={},d={},e=[],f={},g=[],h={},i=Function.prototype.apply,j=function(a){if("object"!=typeof a)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};a.Ink={VERSION:"3.1.10",_checkPendingRequireModules:function(){var a,b,c,e,f,h,i=[],j=[];for(a=0,b=g.length;a<b;++a)if(c=g[a]){for(e in c.left)c.left.hasOwnProperty(e)&&(f=d[e],f&&(c.args[c.left[e]]=f,delete c.left[e],--c.remaining));if(c.remaining>0)i.push(c);else{if(h=c.cb,!h)continue;delete c.cb,j.push([h,c.args])}}g=i;for(var k=0;k<j.length;k++)j[k][0].apply(!1,j[k][1]);g.length>0&&setTimeout(function(){Ink._checkPendingRequireModules()},0)},getPath:function(a,b){var d,e,f,g,h=a.split(/[._]/g);for(e=h.length;e>=0;e-=1)if(d=h.slice(0,e+1).join("."),c[d]){f=d;break}return f in c?(g=c[f],/\/$/.test(g)||(g+="/"),e<h.length&&(g+=h.slice(e+1).join("/")+"/"),b||(g+="lib.js"),g):null},setPath:function(a,b){c[a.replace(/_/,".")]=b},loadScript:function(a,c){if(a.indexOf("/")===-1){var d=a;if(a=this.getPath(a),null===a)throw new Error('Could not load script "'+d+'". Path not found in the registry. Did you misspell the name, or forgot to call setPath()?')}var e=b.createElement("script");e.setAttribute("type",c||"text/javascript"),e.setAttribute("src",a),"onerror"in e&&(e.onerror=function(){Ink.error(["Failed to load script from ",a,"."].join(""))});var f=b.head||b.getElementsByTagName("head")[0];if(f)return f.appendChild(e)},_loadLater:function(a){setTimeout(function(){d[a]||f[a]||h[a]||(f[a]=!0,Ink.loadScript(a))},0)},namespace:function(b,c){if(!b||!b.length)return null;for(var d,e=b.split("."),f=a,g=0,h=e.length;g<h;++g)f[e[g]]=f[e[g]]||{},d=f,f=f[e[g]];return c?[d,e[g-1]]:f},getModule:function(a,b){var c=b?[a,"_",b].join(""):a;return d[c]},createModule:function(b,c,g,i){if("string"!=typeof b)throw new Error("module name must be a string!");if(!("number"==typeof c||"string"==typeof c&&c.length>0))throw new Error("version number missing!");var k=[b,"_",c].join("");h[k]=!0;var l=function(){if(!d[k]){delete f[k],delete f[b];var g=Array.prototype.slice.call(arguments),l=i.apply(a,g);e.push(k),"object"==typeof l?l._version=c:"function"==typeof l&&(l.prototype._version=c,l._version=c);var m,n=0===b.indexOf("Ink.");n&&(m=Ink.namespace(b,!0)),d[k]=l,delete h[k],n&&(m[0][m[1]+"_"+c]=l),d[b]=l,n&&j(m[0][m[1]])&&(m[0][m[1]]=l),this&&Ink._checkPendingRequireModules()}};this.requireModules(g,l)},requireModules:function(a,b){var c,e,h,i,j;if(e=a&&a.length,h={args:new Array(e),left:{},remaining:e,cb:b},"object"!=typeof a||void 0===a.length)throw new Error("Dependency list should be an array!");if("function"!=typeof b)throw new Error("Callback should be a function!");for(c=0;c<e;++c)Ink._moduleRenames[a[c]]?(Ink.warn(a[c]+" was renamed to "+Ink._moduleRenames[a[c]]),i=Ink._moduleRenames[a[c]]):i=a[c],i?(j=d[i],j?(h.args[c]=j,--h.remaining):(f[i]||Ink._loadLater(i),h.left[i]=c)):--h.remaining;h.remaining>0?g.push(h):b.apply(!0,h.args)},_moduleRenames:{"Ink.UI.Aux_1":"Ink.UI.Common_1"},getModulesLoadOrder:function(){return e.slice()},getModuleScripts:function(){var a=this.getModulesLoadOrder();return a.unshift("Ink_1"),a=a.map(function(a){return["<scr",'ipt type="text/javascript" src="',Ink.getModuleURL(a),'"></scr',"ipt>"].join("")}),a.join("\n")},createExt:function(a,b,c,d){return Ink.createModule("Ink.Ext."+a,b,c,d)},bind:function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments),e=c.concat(d);return a.apply(b===!1?this:b,e)}},bindMethod:function(a,b){return Ink.bind.apply(Ink,[a[b],a].concat([].slice.call(arguments,2)))},bindEvent:function(b,c){var d=Array.prototype.slice.call(arguments,2);return function(e){var f=d.slice();return f.unshift(e||a.event),b.apply(c===!1?this:c,f)}},i:function(a){return"string"==typeof a?b.getElementById(a)||null:a},ss:function(a,c){if("undefined"==typeof Ink.Dom||"undefined"==typeof Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(a,c||b)},s:function(a,c){if("undefined"==typeof Ink.Dom||"undefined"==typeof Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(a,c||b)[0]||null},extendObj:function(a){for(var b=[].slice.call(arguments,1),c=0,d=b.length;c<d;c++)if(b[c])for(var e in b[c])Object.prototype.hasOwnProperty.call(b[c],e)&&(a[e]=b[c][e]);return a},log:function(){var b=a.console;b&&b.log&&i.call(b.log,b,arguments)},warn:function(){var b=a.console;b&&b.warn&&i.call(b.warn,b,arguments)},error:function(){var b=a.console;b&&b.error&&i.call(b.error,b,arguments)}}}}(window,document),Ink.createModule("Ink.Net.Ajax","1",[],function(){"use strict";var Ajax=function(a,b){this.init(a,b)};Ajax.globalOptions={parameters:{},requestHeaders:{}};var xMLHttpRequestWithCredentials="XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest;return Ajax.prototype={init:function(a,b){if(!a)throw new Error("new Ink.Net.Ajax: Pass a url as the first argument!");var c=Ink.extendObj({asynchronous:!0,contentType:"application/x-www-form-urlencoded",cors:!1,validateCors:!1,debug:!1,delay:0,evalJS:!0,method:"POST",parameters:null,postBody:"",requestHeaders:null,sanitizeJSON:!1,signRequest:!1,timeout:0,useCredentials:!1,xhrProxy:"",onComplete:null,onCreate:null,onException:null,onFailure:null,onHeaders:null,onInit:null,onSuccess:null,onTimeout:null},Ajax.globalOptions);if(b&&"object"==typeof b){if(c=Ink.extendObj(c,b),"object"==typeof b.parameters)c.parameters=Ink.extendObj(Ink.extendObj({},Ajax.globalOptions.parameters),b.parameters);else if(null!==b.parameters){var d=this.paramsObjToStr(Ajax.globalOptions.parameters);d&&(c.parameters=b.parameters+"&"+d)}c.requestHeaders=Ink.extendObj({},Ajax.globalOptions.requestHeaders),c.requestHeaders=Ink.extendObj(c.requestHeaders,b.requestHeaders)}this.options=c,this.safeCall("onInit"),this.url=a;var e=this._locationFromURL(a);this.isHTTP=this._locationIsHTTP(e),this.isCrossDomain=this._locationIsCrossDomain(e,location),this.requestHasBody=c.method.search(/^get|head$/i)<0,this.options.validateCors===!0&&(this.options.cors=this.isCrossDomain),this.options.cors&&(this.isCrossDomain=!1),this.transport=this.getTransport(),this.request()},_locationFromURL:function(a){var b=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml","a"):document.createElement("a");return b.setAttribute("href",a),b},_locationIsHTTP:function(a){return!!a.href.match(/^https?:/i)},_locationIsCrossDomain:function(a,b){if(b=b||window.location,Ajax.prototype._locationIsHTTP(a)&&"widget:"!==b.protocol&&"object"!=typeof window.widget){var c=a.href.split("//"),d=b.href.split("//");if(1===c.length||1===d.length)return!1;var e=c[0],f=d[0],g=/:|\//,h=c[1].split(g)[0],i=d[1].split(g)[0];return e!==f||h!==i}return!1},getTransport:function(){if(!xMLHttpRequestWithCredentials&&this.options.cors&&"XDomainRequest"in window)return this.usingXDomainReq=!0,new XDomainRequest;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"==typeof ActiveXObject)return null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){return new ActiveXObject("Microsoft.XMLHTTP")}},setHeaders:function(){if(this.transport)try{var a={Accept:"text/javascript,text/xml,application/xml,application/xhtml+xml,text/html,application/json;q=0.9,text/plain;q=0.8,video/x-mng,image/png,image/jpeg,image/gif;q=0.2,*/*;q=0.1","Accept-Language":navigator.language,"X-Requested-With":"XMLHttpRequest","X-Ink-Version":"3"};if(this.options.cors&&(this.options.signRequest||delete a["X-Requested-With"],delete a["X-Ink-Version"]),this.options.requestHeaders&&"object"==typeof this.options.requestHeaders)for(var b in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(b)&&(a[b]=this.options.requestHeaders[b]);this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(a.Connection="close");for(var c in a)a.hasOwnProperty(c)&&this.transport.setRequestHeader(c,a[c])}catch(d){}},paramsObjToStr:function(a){var b,c,d,e,f=[];if("object"!=typeof a)return a;for(d in a)if(a.hasOwnProperty(d))if(e=a[d],"[object Array]"!==Object.prototype.toString.call(e)||isNaN(e.length))f=f.concat([encodeURIComponent(d),"=",encodeURIComponent(e),"&"]);else for(b=0,c=e.length;b<c;b++)f=f.concat([encodeURIComponent(d),"[]","=",encodeURIComponent(e[b]),"&"]);return f.length>0&&f.pop(),f.join("")},setParams:function(){var a=null,b=this.options.parameters;a="object"==typeof b?this.paramsObjToStr(b):""+b,a&&(this.url.indexOf("?")>-1?this.url=this.url.split("#")[0]+"&"+a:this.url=this.url.split("#")[0]+"?"+a)},getHeader:function(a){if(this.usingXDomainReq&&"Content-Type"===a)return this.transport.contentType;try{return this.transport.getResponseHeader(a)}catch(b){return null}},getAllHeaders:function(){try{return this.transport.getAllResponseHeaders()}catch(a){return null}},getResponse:function(){var a=this.transport,b={headerJSON:null,responseJSON:null,getHeader:this.getHeader,getAllHeaders:this.getAllHeaders,request:this,transport:a,timeTaken:new Date-this.startTime,requestedUrl:this.url};b.readyState=a.readyState;try{b.responseText=a.responseText}catch(c){}try{b.responseXML=a.responseXML}catch(c){}try{b.status=a.status}catch(c){b.status=0}try{b.statusText=a.statusText}catch(c){b.statusText=""}return b},abort:function(){if(this.transport){clearTimeout(this.delayTimeout),clearTimeout(this.stoTimeout),this._aborted=!0;try{this.transport.abort()}catch(a){}this.finish()}},runStateChange:function(){if(!this._aborted){var a=this.transport.readyState;if(3===a)this.isHTTP&&this.safeCall("onHeaders");else if(4===a||this.usingXDomainReq){if(this.options.asynchronous&&this.options.delay&&this.startTime+this.options.delay>(new Date).getTime())return void(this.delayTimeout=setTimeout(Ink.bind(this.runStateChange,this),this.options.delay+this.startTime-(new Date).getTime()));var b,c=this.transport.responseText,d=this.getResponse(),e=this.transport.status;this.isHTTP&&!this.options.asynchronous&&this.safeCall("onHeaders"),clearTimeout(this.stoTimeout),0===e?this.isHTTP?this.safeCall("onException",new Error("Ink.Net.Ajax: network error! (HTTP status 0)")):e=c?200:404:304===e&&(e=200);var f=this.usingXDomainReq||200<=e&&e<300,g=this.getHeader("Content-Type")||"";
if(this.options.evalJS&&(g.indexOf("application/json")>=0||"force"===this.options.evalJS))try{b=this.evalJSON(c,this.sanitizeJSON),b&&(c=d.responseJSON=b)}catch(h){f&&this.safeCall("onException",h)}if(this.usingXDomainReq&&g.indexOf("xml")!==-1&&"DOMParser"in window){var i;switch(g){case"application/xml":case"application/xhtml+xml":case"image/svg+xml":i=g;break;default:i="text/xml"}var j=(new DOMParser).parseFromString(this.transport.responseText,i);this.transport.responseXML=j,d.responseXML=j}null!=this.transport.responseXML&&null==d.responseJSON&&""!==this.transport.responseXML.xml&&(c=this.transport.responseXML),(e||this.usingXDomainReq)&&(f?this.safeCall("onSuccess",d,c):this.safeCall("onFailure",d,c),this.safeCall("on"+e,d,c)),this.finish(d,c)}}},finish:function(a,b){if(a&&this.safeCall("onComplete",a,b),clearTimeout(this.stoTimeout),this.transport){try{this.transport.onreadystatechange=null}catch(c){}"function"==typeof this.transport.destroy&&this.transport.destroy(),this.transport=null}},safeCall:function(a){var b=arguments[1]instanceof Error?arguments[1]:null;if("function"==typeof this.options[a])try{this.options[a].apply(this,[].slice.call(arguments,1))}catch(c){Ink.error("Ink.Net.Ajax: an error was raised while executing "+a+".",c)}else b&&Ink.error("Ink.Net.Ajax: "+b)},setRequestHeader:function(a,b){this.options.requestHeaders||(this.options.requestHeaders={}),this.options.requestHeaders[a]=b},request:function(){if(this.transport){var a=null;this.requestHasBody?(null!==this.options.postBody&&""!==this.options.postBody?(a=this.options.postBody,this.setParams()):null!==this.options.parameters&&""!==this.options.parameters&&(a=this.options.parameters),"object"!=typeof a||a.nodeType?"object"!=typeof a&&null!==a&&(a=""+a):a=this.paramsObjToStr(a),this.options.contentType&&this.setRequestHeader("Content-Type",this.options.contentType)):this.setParams();var b=this.url,c=this.options.method,d=this.isCrossDomain;d&&this.options.xhrProxy&&(this.setRequestHeader("X-Url",b),b=this.options.xhrProxy+encodeURIComponent(b),d=!1);try{this.transport.open(c,b,this.options.asynchronous)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.setHeaders(),this.safeCall("onCreate"),this.options.timeout&&!isNaN(this.options.timeout)&&(this.stoTimeout=setTimeout(Ink.bind(function(){this.options.onTimeout&&(this.safeCall("onTimeout"),this.abort())},this),1e3*this.options.timeout)),this.options.useCredentials&&!this.usingXDomainReq&&(this.transport.withCredentials=!0),this.options.asynchronous&&!this.usingXDomainReq?this.transport.onreadystatechange=Ink.bind(this.runStateChange,this):this.usingXDomainReq&&(this.transport.onload=Ink.bind(this.runStateChange,this));try{if(d)return void Ink.error("Ink.Net.Ajax: You are attempting to request a URL which is cross-domain from this one. To do this, you *must* enable the `cors` option!");this.startTime=(new Date).getTime(),this.transport.send(a)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.options.asynchronous||this.runStateChange()}},isJSON:function(a){return!("string"!=typeof a||!a)&&(a=a.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a))},evalJSON:function(strJSON,sanitize){if(strJSON&&(!sanitize||this.isJSON(strJSON)))try{return"undefined"!=typeof JSON&&"undefined"!=typeof JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("Ink.Net.Ajax: Bad JSON string. "+e)}return null}},Ajax.load=function(a,b){var c=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(a));return new Ajax(a,{method:"GET",cors:c,onSuccess:function(a){b(a.responseJSON||a.responseText,a)}})},Ajax.ping=function(a,b){var c=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(a));return new Ajax(a,{method:"HEAD",cors:c,onSuccess:function(a){"function"==typeof b&&b(a)}})},Ajax}),Ink.createModule("Ink.Net.JsonP","1",[],function(){"use strict";var a=function(a,b){this.init(a,b)};return a.prototype={init:function(a,b){if(this.options=Ink.extendObj({onSuccess:void 0,onFailure:void 0,failureObj:{},timeout:10,params:{},callbackParam:"jsoncallback",internalCallback:"_cb",randVar:!1},b||{}),this.options.randVar!==!1?this.randVar=this.options.randVar:this.randVar=parseInt(1e5*Math.random(),10),this.options.internalCallback+=this.randVar,this.uri=a,"function"==typeof this.options.onComplete&&(this.options.onSuccess=this.options.onComplete),"string"!=typeof this.uri)throw new Error("Ink.Net.JsonP: Please define an URI");if("function"!=typeof this.options.onSuccess)throw new Error("Ink.Net.JsonP: please define a callback function on option onSuccess!");Ink.Net.JsonP[this.options.internalCallback]=Ink.bind(function(){this.options.onSuccess(arguments[0]),this._cleanUp()},this),this.timeout=setTimeout(Ink.bind(function(){this.abort(),"function"==typeof this.options.onFailure&&this.options.onFailure(this.options.failureObj)},this),1e3*this.options.timeout),this._addScriptTag()},abort:function(){Ink.Net.JsonP[this.options.internalCallback]=Ink.bindMethod(this,"_cleanUp")},_addParamsToGet:function(a,b){var c,d,e,f=a.indexOf("?")!==-1,g=[a];for(d in b)b.hasOwnProperty(d)&&(f?c="&":(c="?",f=!0),e=b[d],"number"==typeof e||e||(e=""),g=g.concat([c,d,"=",encodeURIComponent(e)]));return g.join("")},_getScriptContainer:function(){return document.body||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement},_addScriptTag:function(){this.options.params[this.options.callbackParam]="Ink.Net.JsonP."+this.options.internalCallback,this.options.params.rnd_seed=this.randVar,this.uri=this._addParamsToGet(this.uri,this.options.params),this._scriptEl=document.createElement("script"),this._scriptEl.type="text/javascript",this._scriptEl.src=this.uri;var a=this._getScriptContainer();a.appendChild(this._scriptEl)},_cleanUp:function(){this.timeout&&window.clearTimeout(this.timeout),delete this.options.onSuccess,delete this.options.onFailure,delete Ink.Net.JsonP[this.options.internalCallback],this._removeScriptTag()},_removeScriptTag:function(){this._scriptEl&&(this._scriptEl.parentNode.removeChild(this._scriptEl),delete this._scriptEl)}},a}),Ink.createModule("Ink.Dom.Browser","1",[],function(){"use strict";var a={IE:!1,GECKO:!1,OPERA:!1,SAFARI:!1,KONQUEROR:!1,CHROME:!1,model:!1,version:!1,userAgent:!1,cssPrefix:!1,domPrefix:!1,init:function(){this.detectBrowser(),this.setDimensions(),this.setReferrer()},setDimensions:function(){var a=0,b=0;"number"==typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientWidth,b=document.body.clientHeight),this.windowWidth=a,this.windowHeight=b},setReferrer:function(){document.referrer&&document.referrer.length?this.referrer=window.escape(document.referrer):this.referrer=!1},detectBrowser:function(){this._sniffUserAgent(navigator.userAgent)},_sniffUserAgent:function(a){if(this.userAgent=a,a=a.toLowerCase(),/applewebkit\//.test(a)&&!/iemobile/.test(a))if(this.cssPrefix="-webkit-",this.domPrefix="Webkit",/(chrome|crios)\//.test(a))this.CHROME=!0,this.model="chrome",this.version=a.replace(/(.*)chrome\/([^\s]+)(.*)/,"$2");else{this.SAFARI=!0,this.model="safari";var b=/version\/([^) ]+)/;b.test(a)?this.version=a.match(b)[1]:this.version=a.replace(/(.*)applewebkit\/([^\s]+)(.*)/,"$2")}else if(/opera/.test(a))this.OPERA=!0,this.model="opera",this.version=a.replace(/(.*)opera.([^\s$]+)(.*)/,"$2"),this.cssPrefix="-o-",this.domPrefix="O";else if(/konqueror/.test(a))this.KONQUEROR=!0,this.model="konqueror",this.version=a.replace(/(.*)konqueror\/([^;]+);(.*)/,"$2"),this.cssPrefix="-khtml-",this.domPrefix="Khtml";else if(/(msie|trident)/i.test(a))this.IE=!0,this.model="ie",/rv:((?:\d|\.)+)/.test(a)?this.version=a.match(/rv:((?:\d|\.)+)/)[1]:this.version=a.replace(/(.*)\smsie\s([^;]+);(.*)/,"$2"),this.cssPrefix="-ms-",this.domPrefix="ms";else if(/gecko/.test(a)){this.cssPrefix="-moz-",this.domPrefix="Moz",this.GECKO=!0;var c=/(camino|chimera|epiphany|minefield|firefox|firebird|phoenix|galeon|iceweasel|k\-meleon|seamonkey|netscape|songbird|sylera)/;if(c.test(a))this.model=a.match(c)[1],this.version=a.replace(new RegExp("(.*)"+this.model+"/([^;\\s$]+)(.*)"),"$2");else{this.model="mozilla";var d=/(.*)rv:([^)]+)(.*)/;d.test(a)&&(this.version=a.replace(d,"$2"))}}},debug:function(){var a="known browsers: (ie, gecko, opera, safari, konqueror) \n";a+=[this.IE,this.GECKO,this.OPERA,this.SAFARI,this.KONQUEROR]+"\n",a+="cssPrefix -> "+this.cssPrefix+"\n",a+="domPrefix -> "+this.domPrefix+"\n",a+="model -> "+this.model+"\n",a+="version -> "+this.version+"\n",a+="\n",a+="original UA -> "+this.userAgent,alert(a)}};return a.init(),a}),Ink.createModule("Ink.Dom.Css",1,[],function(){"use strict";var a="defaultView"in document&&"getComputedStyle"in document.defaultView?document.defaultView.getComputedStyle:window.getComputedStyle,b={addRemoveClassName:function(a,b,c){return c?this.addClassName(a,b):void this.removeClassName(a,b)},addClassName:function(a,c){if(a=Ink.i(a),!a||!c)return null;c=(""+c).split(/[, ]+/);for(var d=0,e=c.length;d<e;d++)c[d].replace(/^\s+|\s+$/g,"")&&("undefined"!=typeof a.classList?a.classList.add(c[d]):b.hasClassName(a,c[d])||(a.className+=(a.className?" ":"")+c[d]))},removeClassName:function(a,b){if(a=Ink.i(a),!a||!b)return null;b=(""+b).split(/[, ]+/);var c=0,d=b.length;if("undefined"!=typeof a.classList)for(;c<d;c++)a.classList.remove(b[c]);else{for(var e,f=a.className||"";c<d;c++)e=new RegExp("(^|\\s+)"+b[c]+"(\\s+|$)"),f=f.replace(e," ");a.className=f.replace(/^\s+/,"").replace(/\s+$/,"")}},setClassName:function(a,b,c){this.addRemoveClassName(a,b,c||!1)},hasClassName:function(a,b,c){if(a=Ink.i(a),!a||!b)return!1;b=(""+b).split(/[, ]+/);for(var d,e,f=0,g=b.length;f<g;f++){if("undefined"!=typeof a.classList)d=a.classList.contains(b[f]);else{var h=a.className;h===b[f]?d=!0:(e=new RegExp("(^|\\s)"+b[f]+"(\\s|$)"),d=e.test(h))}if(d&&!c)return!0;if(!d&&c)return!1}return!!c},blinkClass:function(a,c,d,e){a=Ink.i(a),b.addRemoveClassName(a,c,!e),setTimeout(function(){b.addRemoveClassName(a,c,e)},Number(d)||100)},toggleClassName:function(a,c,d){return!(!a||!c)&&("undefined"!=typeof d?b.addRemoveClassName(a,c,d):void("undefined"==typeof a.classList||/[, ]/.test(c)?b.hasClassName(a,c)?b.removeClassName(a,c):b.addClassName(a,c):(a=Ink.i(a),null!==a&&a.classList.toggle(c))))},setOpacity:function(a,b){if(a=Ink.i(a),null!==a){var c=1;isNaN(Number(b))||(c=b<=0?0:b<=1?b:b<=100?b/100:1),"undefined"!=typeof a.style.opacity?a.style.opacity=c:a.style.filter="alpha(opacity:"+(100*c|0)+")"}},_camelCase:function(a){return a?a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()}):a},getStyle:function(b,c){if(b=Ink.i(b),null!==b&&b.style){c="float"===c?"cssFloat":this._camelCase(c);var d=b.style[c];if(!a||d&&"auto"!==d)!d&&b.currentStyle&&(d=b.currentStyle[c],"auto"!==d||"width"!==c&&"height"!==c||(d=b["offset"+c.charAt(0).toUpperCase()+c.slice(1)]+"px"));else{var e=a(b,null);d=e?e[c]:null}if("opacity"===c)return d?parseFloat(d,10):1;if("borderTopWidth"===c||"borderBottomWidth"===c||"borderRightWidth"===c||"borderLeftWidth"===c){if("thin"===d)return"1px";if("medium"===d)return"3px";if("thick"===d)return"5px"}return"auto"===d?null:d}},setStyle:function(a,b){if(a=Ink.i(a),null!==a)if("string"==typeof b)a.style.cssText+="; "+b,b.indexOf("opacity")!==-1&&this.setOpacity(a,b.match(/opacity:\s*(\d?\.?\d*)/)[1]);else for(var c in b)b.hasOwnProperty(c)&&("opacity"===c?this.setOpacity(a,b[c]):"float"===c||"cssFloat"===c?"undefined"==typeof a.style.styleFloat?a.style.cssFloat=b[c]:a.style.styleFloat=b[c]:a.style[c]=b[c])},show:function(a,b){a=Ink.i(a),null!==a&&(a.style.display=b||"")},hide:function(a){a=Ink.i(a),null!==a&&(a.style.display="none")},showHide:function(a,b){a=Ink.i(a),a&&(a.style.display=b?"":"none")},toggle:function(a,b){a=Ink.i(a),null!==a&&("undefined"!=typeof b?b===!0?this.show(a):this.hide(a):"none"===this.getStyle(a,"display").toLowerCase()?this.show(a):this.hide(a))},_getRefTag:function(a){if(a.firstElementChild)return a.firstElementChild;for(var b=a.firstChild;b;b=b.nextSibling)if(1===b.nodeType)return b;return null},appendStyleTag:function(a,b,c){c=Ink.extendObj({type:"text/css",force:!1},c||{});var d,e,f=document.getElementsByTagName("style"),g=!1,h=!0;for(d=0,e=f.length;d<e;d++)g=f[d].innerHTML,g.indexOf(a)>=0&&(h=!1);if(h){var i=document.createElement("style"),j=document.getElementsByTagName("head")[0],k=!1,l="";i.type=c.type,l+=a+" {",l+=b,l+="} ","undefined"!=typeof i.styleSheet?i.styleSheet.cssText=l:i.appendChild(document.createTextNode(l)),c.force?j.appendChild(i):(k=this._getRefTag(j),k&&j.insertBefore(i,k))}},appendStylesheet:function(a,b){b=Ink.extendObj({media:"screen",type:"text/css",force:!1},b||{});var c,d=document.createElement("link"),e=document.getElementsByTagName("head")[0];d.media=b.media,d.type=b.type,d.href=a,d.rel="Stylesheet",b.force?e.appendChild(d):(c=this._getRefTag(e),c&&e.insertBefore(d,c))},_loadingCSSFiles:{},_loadedCSSFiles:{},appendStylesheetCb:function(a,b){if(!a)return b(a);if(this._loadedCSSFiles[a])return b(a);var c=this._loadingCSSFiles[a];if(c)return c.push(b);this._loadingCSSFiles[a]=[b];var d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=a;var e=document.getElementsByTagName("head")[0];e.appendChild(d);var f=document.createElement("img");f.onerror=Ink.bindEvent(function(a,b){var c=b;this._loadedCSSFiles[c]=!0;for(var d=this._loadingCSSFiles[c],e=0,f=d.length;e<f;++e)d[e](c);delete this._loadingCSSFiles[c]},this,a),f.src=a},decToHex:function(a){var b=function(a){return 1===a.length&&(a="0"+a),a=a.toUpperCase()};if("object"==typeof a){var c=b(parseInt(a.r,10).toString(16)),d=b(parseInt(a.g,10).toString(16)),e=b(parseInt(a.b,10).toString(16));return c+d+e}a+="";var f=a.match(/\((\d+),\s?(\d+),\s?(\d+)\)/);return null!==f?b(parseInt(f[1],10).toString(16))+b(parseInt(f[2],10).toString(16))+b(parseInt(f[3],10).toString(16)):b(parseInt(a,10).toString(16))},hexToDec:function(a){return 0===a.indexOf("#")&&(a=a.substr(1)),6===a.length?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)}:3===a.length?{r:parseInt(a.charAt(0)+a.charAt(0),16),g:parseInt(a.charAt(1)+a.charAt(1),16),b:parseInt(a.charAt(2)+a.charAt(2),16)}:a.length<=2?parseInt(a,16):void 0},getPropertyFromStylesheet:function(a,b){var c=this.getRuleFromStylesheet(a);return c?c.style[b]:null},getPropertyFromStylesheet2:function(a,b){for(var c,d=this.getRulesFromStylesheet(a),e=0,f=d.length;e<f;e++)if(c=d[e].style[b],null!==c&&void 0!==c)return c;return null},getRuleFromStylesheet:function(a){var b,c,d,e,f,g=document.styleSheets;if(!g)return null;for(var h=0,i=document.styleSheets.length;h<i;++h){if(b=document.styleSheets[h],c=b.rules?b.rules:b.cssRules,!c)return null;for(d=0,e=c.length;d<e;++d)if(f=c[d],f.selectorText&&f.selectorText===a)return f}return null},getRulesFromStylesheet:function(a){var b,c,d,e,f,g=[],h=document.styleSheets;if(!h)return g;for(var i=0,j=document.styleSheets.length;i<j;++i){if(b=document.styleSheets[i],c=b.rules?b.rules:b.cssRules,!c)return null;for(d=0,e=c.length;d<e;++d)f=c[d],f.selectorText&&f.selectorText===a&&g.push(f)}return g},getPropertiesFromRule:function(a){var b,c,d,e=this.getRuleFromStylesheet(a),f={};e=e.style.cssText;var g,h,i,j,k=e.split(";");for(c=0,d=k.length;c<d;++c)" "===k[c].charAt(0)&&(k[c]=k[c].substring(1)),g=k[c].split(":"),b=this._camelCase(g[0].toLowerCase()),h=g[1],h&&(h=h.substring(1),"padding"===b||"margin"===b||"borderWidth"===b?("borderWidth"===b?(i="border",j="Width"):(i=b,j=""),h.indexOf(" ")!==-1?(h=h.split(" "),f[i+"Top"+j]=h[0],f[i+"Bottom"+j]=h[0],f[i+"Left"+j]=h[1],f[i+"Right"+j]=h[1]):(f[i+"Top"+j]=h,f[i+"Bottom"+j]=h,f[i+"Left"+j]=h,f[i+"Right"+j]=h)):"borderRadius"===b?h.indexOf(" ")!==-1?(h=h.split(" "),f.borderTopLeftRadius=h[0],f.borderBottomRightRadius=h[0],f.borderTopRightRadius=h[1],f.borderBottomLeftRadius=h[1]):(f.borderTopLeftRadius=h,f.borderTopRightRadius=h,f.borderBottomLeftRadius=h,f.borderBottomRightRadius=h):f[b]=h);return f},changeFontSize:function(a,b,c,d,e){var f=this;Ink.requireModules(["Ink.Dom.Selector_1"],function(g){var h;if("string"!=typeof a?h="1st argument must be a CSS selector rule.":"number"!=typeof b?h="2nd argument must be a number.":void 0!==c&&"+"!==c&&"*"!==c?h='3rd argument must be one of "+", "*".':void 0!==d&&("number"!=typeof d||d<=0)?h="4th argument must be a positive number.":void 0!==e&&("number"!=typeof e||e<e)&&(h="5th argument must be a positive number greater than minValue."),h)throw new TypeError(h);var i,j,k=g.select(a);void 0===d&&(d=1),c="*"===c?function(a,b){return a*b}:function(a,b){return a+b};for(var l=0,m=k.length;l<m;++l)j=k[l],i=parseFloat(f.getStyle(j,"fontSize")),i=c(i,b),i<d||"number"==typeof e&&i>e||(j.style.fontSize=i+"px")})}};return b}),Ink.createModule("Ink.Dom.Element",1,[],function(){"use strict";function a(a){var b={};try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft}}return b}var b="function"==typeof document.createRange&&"function"==typeof window.Range.prototype.createContextualFragment,c="Ink.Dom.Element tbody: "+Math.random(),d=function(){var a=document.createElement("div");return a.innerHTML="<table>",0!==a.getElementsByTagName("tbody").length}(),e={isDOMElement:function(a){return null!==a&&"object"==typeof a&&"nodeType"in a&&1===a.nodeType},get:function(a){return"undefined"!=typeof a?"string"==typeof a?document.getElementById(a):a:null},create:function(a,b){var c=document.createElement(a);if(b)for(var d in b)b.hasOwnProperty(d)&&(d in e?e[d](c,b[d]):"className"===d||"class"===d?c.className=b.className||b["class"]:c.setAttribute(d,b[d]));return c},remove:function(a){a=Ink.i(a);var b;a&&(b=a.parentNode)&&b.removeChild(a)},scrollTo:function(a){if(a=e.get(a)){if(a.scrollIntoView)return a.scrollIntoView();var b={},c=0,d=0;do c+=a.offsetTop||0,d+=a.offsetLeft||0,a=a.offsetParent;while(a);b={x:d,y:c},window.scrollTo(b.x,b.y)}},offsetTop:function(a){return e.offset(a)[1]},offsetLeft:function(a){return e.offset(a)[0]},positionedOffset:function(a){var b=0,c=0;a=e.get(a);do if(b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent){if("body"===a.tagName.toLowerCase())break;var d=a.style.position;if(!d&&a.currentStyle&&(d=a.currentStyle.position),(!d||"auto"===d)&&"undefined"!=typeof getComputedStyle){var f=getComputedStyle(a,null);d=f?f.position:null}if("relative"===d||"absolute"===d)break}while(a);return[c,b]},offset:function(b){b=Ink.i(b);var c=[0,0],d=b.ownerDocument,e=d.documentElement,f=a(b),g=d.body,h=e.clientTop||g.clientTop||0,i=e.clientLeft||g.clientLeft||0,j=d.pageYOffset||e.scrollTop||g.scrollTop,k=d.pageXOffset||e.scrollLeft||g.scrollLeft,l=f.top+j-h,m=f.left+k-i;return c=[m,l]},scroll:function(a){return a=a?Ink.i(a):document.body,[window.pageXOffset?window.pageXOffset:a.scrollLeft,window.pageYOffset?window.pageYOffset:a.scrollTop]},_getPropPx:function(a,b){var c,d,e=a.getPropertyValue?a.getPropertyValue(b):a[b];return e?(d=e.indexOf("px"),c=d===-1?0:parseFloat(e,10)):c=0,c},offset2:function(a){return e.offset(a)},hasAttribute:function(a,b){return a=Ink.i(a),a.hasAttribute?a.hasAttribute(b):!!a.getAttribute(b)},insertAfter:function(a,b){(b=e.get(b))&&(null!==b.nextSibling?b.parentNode.insertBefore(a,b.nextSibling):b.parentNode.appendChild(a))},insertBefore:function(a,b){(b=e.get(b))&&b.parentNode.insertBefore(a,b)},insertTop:function(a,b){(b=e.get(b))&&(b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a))},insertBottom:function(a,b){b=Ink.i(b),b.appendChild(a)},textContent:function(a){a=Ink.i(a);var b,c,d,f;switch(a&&a.nodeType){case 9:return e.textContent(a.documentElement||a.body&&a.body.parentNode||a.body);case 1:if(b="textContent"in a?a.textContent:a.innerText,"undefined"!=typeof b)return b;case 11:if(b=a.textContent,"undefined"!=typeof b)return b;if(a.firstChild===a.lastChild)return e.textContent(a.firstChild);for(b=[],d=a.childNodes,c=0,f=d.length;c<f;++c)b.push(e.textContent(d[c]));return b.join("");case 3:case 4:return a.nodeValue}return""},setTextContent:function(a,b){switch(a=Ink.i(a),a&&a.nodeType){case 1:if("innerText"in a){a.innerText=b;break}case 11:if("textContent"in a){a.textContent=b;break}case 9:for(;a.firstChild;)a.removeChild(a.firstChild);if(""!==b){var c=a.ownerDocument||a;a.appendChild(c.createTextNode(b))}break;case 3:case 4:a.nodeValue=b}},isLink:function(a){var b=a&&1===a.nodeType&&(/^a|area$/i.test(a.tagName)||a.hasAttributeNS&&a.hasAttributeNS("http://www.w3.org/1999/xlink","href"));return!!b},isAncestorOf:function(a,b){if(!b||!a)return!1;if(b.compareDocumentPosition)return 0!==(16&a.compareDocumentPosition(b));for(;b=b.parentNode;)if(b===a)return!0;return!1},descendantOf:function(a,b){return a!==b&&e.isAncestorOf(a,b)},firstElementChild:function(a){if(!a)return null;if("firstElementChild"in a)return a.firstElementChild;for(var b=a.firstChild;b&&1!==b.nodeType;)b=b.nextSibling;return b},lastElementChild:function(a){if(!a)return null;if("lastElementChild"in a)return a.lastElementChild;for(var b=a.lastChild;b&&1!==b.nodeType;)b=b.previousSibling;return b},nextElementSibling:function(a){var b=null;if(!a)return b;if("nextElementSibling"in a)return a.nextElementSibling;for(b=a.nextSibling;b&&1!==b.nodeType;)b=b.nextSibling;return b},previousElementSibling:function(a){var b=null;if(!a)return b;if("previousElementSibling"in a)return a.previousElementSibling;for(b=a.previousSibling;b&&1!==b.nodeType;)b=b.previousSibling;return b},elementWidth:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a.offsetWidth},elementHeight:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a.offsetHeight},elementLeft:function(a){return e.offsetLeft(a)},elementTop:function(a){return e.offsetTop(a)},elementDimensions:function(a){return a=Ink.i(a),[a.offsetWidth,a.offsetHeight]},outerDimensions:function(b){var c=a(b),d=Ink.getModule("Ink.Dom.Css_1"),e=Ink.bindMethod(d,"getStyle",b);return[c.right-c.left+parseFloat(e("marginLeft")||0)+parseFloat(e("marginRight")||0),c.bottom-c.top+parseFloat(e("marginTop")||0)+parseFloat(e("marginBottom")||0)]},inViewport:function(b,c){var d=a(Ink.i(b));return"boolean"==typeof c&&(c={partial:c,margin:0}),c=c||{},c.margin=c.margin||0,c.partial?d.bottom+c.margin>=0&&d.left-c.margin<=e.viewportWidth()&&d.top-c.margin<=e.viewportHeight()&&d.right+c.margin>=0:d.top+c.margin>=0&&d.right-c.margin<=e.viewportWidth()&&d.bottom-c.margin<=e.viewportHeight()&&d.left+c.margin>=0},isHidden:function(a){var b=a.offsetWidth,c=a.offsetHeight,d="tr"===a.tagName.toLowerCase(),e=Ink.getModule("Ink.Dom.Css_1");return 0===b&&0===c&&!d||!(0!==b&&0!==c&&!d)&&"none"===e.getStyle(a,"display").toLowerCase()},isVisible:function(a){return!this.isHidden(a)},clonePosition:function(a,b){var c=e.offset(b);return a.style.left=c[0]+"px",a.style.top=c[1]+"px",a},ellipsizeText:function(a){(a=Ink.i(a))&&(a.style.overflow="hidden",a.style.whiteSpace="nowrap",a.style.textOverflow="ellipsis")},findUpwardsHaving:function(a,b){for(;a&&1===a.nodeType;){if(b(a))return a;a=a.parentNode}return!1},findUpwardsByClass:function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)"),d=function(a){var b=a.className;return b&&c.test(b)};return e.findUpwardsHaving(a,d)},findUpwardsByTag:function(a,b){b=b.toUpperCase();var c=function(a){return a.nodeName&&a.nodeName.toUpperCase()===b};return e.findUpwardsHaving(a,c)},findUpwardsById:function(a,b){var c=function(a){return a.id===b};return e.findUpwardsHaving(a,c)},findUpwardsBySelector:function(a,b){var c=Ink.getModule("Ink.Dom.Selector","1");if(!c)throw new Error("This method requires Ink.Dom.Selector");var d=function(a){return c.matchesSelector(a,b)};return e.findUpwardsHaving(a,d)},getChildrenText:function(a,b){var c,d,f,g=a.childNodes,h=g.length,i="";if(!a)return i;for(d=0;d<h;++d)c=g[d],c&&3===c.nodeType&&(f=e._trimString(String(c.data)),f.length>0?(i+=f,b&&a.removeChild(c)):a.removeChild(c));return i},_trimString:function(a){return String.prototype.trim?a.trim():a.replace(/^\s*/,"").replace(/\s*$/,"")},getSelectValues:function(a){for(var b=Ink.i(a),c=[],d=0;d<b.options.length;++d)c.push(b.options[d].value);return c},_normalizeData:function(a){for(var b,c=[],d=0,e=a.length;d<e;++d)b=a[d],b instanceof Array?1===b.length&&b.push(b[0]):b=[b,b],c.push(b);return c},fillSelect:function(a,b,c,d){var f=Ink.i(a);if(f){f.innerHTML="";var g,h;c||(h=document.createElement("option"),h.setAttribute("value",""),f.appendChild(h)),b=e._normalizeData(b);for(var i=0,j=b.length;i<j;++i)g=b[i],h=document.createElement("option"),h.setAttribute("value",g[0]),g.length>2&&h.setAttribute("extra",g[2]),h.appendChild(document.createTextNode(g[1])),g[0]===d&&h.setAttribute("selected","selected"),f.appendChild(h)}},fillRadios:function(a,b,c,d,f,g){a=Ink.i(a);var h=document.createElement("span");e.insertAfter(h,a),c=e._normalizeData(c);var i,j;d||(j=document.createElement("input"),j.setAttribute("type","radio"),j.setAttribute("name",b),j.setAttribute("value",""),h.appendChild(j),g&&h.appendChild(document.createElement(g)));for(var k=0;k<c.length;++k)i=c[k],j=document.createElement("input"),j.setAttribute("type","radio"),j.setAttribute("name",b),j.setAttribute("value",i[0]),h.appendChild(j),h.appendChild(document.createTextNode(i[1])),g&&h.appendChild(document.createElement(g)),i[0]===f&&(j.checked=!0);return h},fillChecks:function(a,b,c,d,f){a=Ink.i(a);var g=document.createElement("span");e.insertAfter(g,a),c=e._normalizeData(c),"]"!==b.substring(b.length-1)&&(b+="[]");for(var h,i,j=0;j<c.length;++j)h=c[j],i=document.createElement("input"),i.setAttribute("type","checkbox"),i.setAttribute("name",b),i.setAttribute("value",h[0]),g.appendChild(i),g.appendChild(document.createTextNode(h[1])),f&&g.appendChild(document.createElement(f)),h[0]===d&&(i.checked=!0);return g},parentIndexOf:function(a,b){if(b||(b=a,a=a.parentNode),!a)return!1;for(var c=0,d=a.children.length;c<d;++c)if(a.children[c]===b)return c;return!1},nextSiblings:function(a){if(a=Ink.i(a),"object"==typeof a&&null!==a&&a.nodeType&&1===a.nodeType){for(var b=[],c=a.parentNode.children,d=e.parentIndexOf(a.parentNode,a),f=++d,g=c.length;f<g;f++)b.push(c[f]);return b}return[]},previousSiblings:function(a){if(a=Ink.i(a),"object"==typeof a&&null!==a&&a.nodeType&&1===a.nodeType){for(var b=[],c=a.parentNode.children,d=e.parentIndexOf(a.parentNode,a),f=0,g=d;f<g;f++)b.push(c[f]);return b}return[]},siblings:function(a){if(a=Ink.i(a),"object"==typeof a&&null!==a&&a.nodeType&&1===a.nodeType){for(var b=[],c=a.parentNode.children,d=0,e=c.length;d<e;d++)a!==c[d]&&b.push(c[d]);return b}return[]},childElementCount:function(a){return a=Ink.i(a),"childElementCount"in a?a.childElementCount:a?e.siblings(a).length+1:0},_wrapElements:{TABLE:function(a,b){return d?a.innerHTML="<table>"+b+"<tbody><tr><td>"+c+"</tr></td></tbody></table>":a.innerHTML="<table>"+b+"</table>",a.firstChild},TBODY:function(a,b){return a.innerHTML="<table><tbody>"+b+"</tbody></table>",a.firstChild.getElementsByTagName("tbody")[0]},THEAD:function(a,b){return a.innerHTML="<table><thead>"+b+"</thead><tbody></tbody></table>",a.firstChild.getElementsByTagName("thead")[0]},TFOOT:function(a,b){return a.innerHTML="<table><tfoot>"+b+"</tfoot><tbody></tbody></table>",a.firstChild.getElementsByTagName("tfoot")[0]},TR:function(a,b){return a.innerHTML="<table><tbody><tr>"+b+"</tr></tbody></table>",a.firstChild.firstChild.firstChild}},_getWrapper:function(a,b){var f=a.nodeName&&a.nodeName.toUpperCase(),g=document.createElement("div"),h=e._wrapElements[f];if(!h)return g.innerHTML=b,g;if(g=h(g,b),d&&"TABLE"===f)for(var i=g.getElementsByTagName("td"),j=0,k=i.length;j<k;j++)if(i[j].innerHTML===c){var l=i[j].parentNode.parentNode;l.parentNode.removeChild(l)}return g},appendHTML:function(a,b){if(a=Ink.i(a),null!==a)for(var c=e._getWrapper(a,b);c.firstChild;)a.appendChild(c.firstChild)},prependHTML:function(a,b){if(a=Ink.i(a),null!==a)for(var c=e._getWrapper(a,b);c.lastChild;)a.insertBefore(c.lastChild,a.firstChild)},setHTML:function(a,b){if(a=Ink.i(a),null!==a)try{a.innerHTML=b}catch(c){e.clear(a),e.appendHTML(a,b)}},wrap:function(a,b){a=Ink.i(a),b=Ink.i(b);var c=a.nextSibling,d=a.parentNode;return b.appendChild(a),null!==c?d.insertBefore(b,c):d.appendChild(b),b},unwrap:function(a,b){a=Ink.i(a);var c;c="string"==typeof b?e.findUpwardsBySelector(a,b):"object"==typeof b&&b.tagName?e.findUpwardsHaving(a,function(a){return a===b}):a.parentNode,c&&c.parentNode&&e.insertBefore(a,c)},replace:function(a,b){a=Ink.i(a),null!==a&&a.parentNode.replaceChild(b,a)},removeTextNodeChildren:function(a){if(a=Ink.i(a),null!==a){var b,c,d=a;for(a=a.firstChild;a;)c=3===a.nodeType,b=a,a=a.nextSibling,c&&d.removeChild(b)}},htmlToFragment:b?function(a){var b;return"string"!=typeof a?document.createDocumentFragment():(b=document.createRange(),b.selectNode(document.body),b.createContextualFragment(a))}:function(a){var b,c,d=document.createDocumentFragment();if("string"!=typeof a)return d;for(b=document.createElement("div"),b.innerHTML=a;c=b.firstChild;)d.appendChild(c);return d},_camelCase:function(a){return a?a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()}):a},data:function(a){var b;if("object"!=typeof a&&"string"!=typeof a)throw"[Ink.Dom.Element.data] :: Invalid selector defined";if("object"==typeof a)b=a;else{var c=Ink.getModule("Ink.Dom.Selector",1);if(!c)throw"[Ink.Dom.Element.data] :: this method requires Ink.Dom.Selector - v1";if(b=c.select(a),b.length<=0)throw"[Ink.Dom.Element.data] :: Can't find any element with the specified selector";b=b[0]}var d,f,g,h={},i=b.attributes||[];if(i)for(var j=0,k=i.length;j<k;++j)d=i[j],f=d.name,g=d.value,f&&0===f.indexOf("data-")&&(h[e._camelCase(f.replace("data-",""))]=g);return h},clear:function(a,b){for(;b=a.lastChild;)a.removeChild(b)},moveCursorTo:function(a,b){if(a=Ink.i(a),null!==a)if(a.setSelectionRange)a.setSelectionRange(b,b);else{var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},pageWidth:function(){var a;a=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth;var b;return window.self.innerWidth?b=document.documentElement.clientWidth?document.documentElement.clientWidth:window.self.innerWidth:document.documentElement&&document.documentElement.clientWidth?b=document.documentElement.clientWidth:document.body&&(b=document.body.clientWidth),a<b?a:b},pageHeight:function(){var a;a=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight;var b;return window.self.innerHeight?b=window.self.innerHeight:document.documentElement&&document.documentElement.clientHeight?b=document.documentElement.clientHeight:document.body&&(b=document.body.clientHeight),a<b?b:a},viewportWidth:function(){return"undefined"!=typeof window.innerWidth?window.innerWidth:document.documentElement&&"undefined"!=typeof document.documentElement.offsetWidth?document.documentElement.offsetWidth:void 0},viewportHeight:function(){return"undefined"!=typeof window.innerHeight?window.innerHeight:document.documentElement&&"undefined"!=typeof document.documentElement.offsetHeight?document.documentElement.offsetHeight:void 0},scrollWidth:function(){return"undefined"!=typeof window.self.pageXOffset?window.self.pageXOffset:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft},scrollHeight:function(){return"undefined"!=typeof window.self.pageYOffset?window.self.pageYOffset:"undefined"!=typeof document.body&&"undefined"!=typeof document.body.scrollTop&&"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollTop?document.body.scrollTop||document.documentElement.scrollTop:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;
}};return e}),Ink.createModule("Ink.Dom.Event",1,[],function(){var a=function(a,b,c){return c()}("bean",this,function(a,b){a=a||"bean",b=b||this;var c,d=window,e=b[a],f=/[^\.]*(?=\..*)\.|.*/,g=/\..*/,h="addEventListener",i="removeEventListener",j=document||{},k=j.documentElement||{},l=k[h],m=l?h:"attachEvent",n={},o=Array.prototype.slice,p=function(a,b){return a.split(b||" ")},q=function(a){return"string"==typeof a},r=function(a){return"function"==typeof a},s="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",t="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",u=function(a,b,c){for(c=0;c<b.length;c++)b[c]&&(a[b[c]]=1);return a}({},p(s+(l?t:""))),v=function(){var a="compareDocumentPosition"in k?function(a,b){return b.compareDocumentPosition&&16===(16&b.compareDocumentPosition(a))}:"contains"in k?function(a,b){return b=9===b.nodeType||b===window?k:b,b!==a&&b.contains(a)}:function(a,b){for(;a=a.parentNode;)if(a===b)return 1;return 0},b=function(b){var c=b.relatedTarget;return c?c!==this&&"xul"!==c.prefix&&!/document/.test(this.toString())&&!a(c,this):null==c};return{mouseenter:{base:"mouseover",condition:b},mouseleave:{base:"mouseout",condition:b},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),w=function(){var a=p("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName path"),b=a.concat(p("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement movementX movementY region")),c=b.concat(p("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),e=a.concat(p("char charCode key keyCode keyIdentifier keyLocation location isComposing code")),f=a.concat(p("data")),g=a.concat(p("touches targetTouches changedTouches scale rotation")),h=a.concat(p("data origin source")),i=a.concat(p("state")),l=/over|out/,m=[{reg:/key/i,fix:function(a,b){return b.keyCode=a.keyCode||a.which,e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,c,d){return c.rightClick=3===a.which||2===a.button,c.pos={x:0,y:0},a.pageX||a.pageY?(c.clientX=a.pageX,c.clientY=a.pageY):(a.clientX||a.clientY)&&(c.clientX=a.clientX+j.body.scrollLeft+k.scrollLeft,c.clientY=a.clientY+j.body.scrollTop+k.scrollTop),l.test(d)&&(c.relatedTarget=a.relatedTarget||a[("mouseover"==d?"from":"to")+"Element"]),b}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return c}},{reg:/^text/i,fix:function(){return f}},{reg:/^touch|^gesture/i,fix:function(){return g}},{reg:/^message$/i,fix:function(){return h}},{reg:/^popstate$/i,fix:function(){return i}},{reg:/.*/,fix:function(){return a}}],n={},o=function(a,b,c){if(arguments.length&&(a=a||((b.ownerDocument||b.document||b).parentWindow||d).event,this.originalEvent=a,this.isNative=c,this.isBean=!0,a)){var e,f,g,h,i,j=a.type,k=a.target||a.srcElement;if(this.target=k&&3===k.nodeType?k.parentNode:k,c){if(i=n[j],!i)for(e=0,f=m.length;e<f;e++)if(m[e].reg.test(j)){n[j]=i=m[e].fix;break}for(h=i(a,this,j),e=h.length;e--;)!((g=h[e])in this)&&g in a&&(this[g]=a[g])}}};return o.prototype.preventDefault=function(){if(this.originalEvent.preventDefault)this.originalEvent.preventDefault();else try{this.originalEvent.returnValue=!1}catch(a){}},o.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},o.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},o.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},o.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},o.prototype.clone=function(a){var b=new o(this,this.element,this.isNative);return b.currentTarget=a,b},o}(),x=function(a,b){return l||b||a!==j&&a!==d?a:k},y=function(){var a=function(a,b,c,d){var e=function(c,e){return b.apply(a,d?o.call(e,c?0:1).concat(d):e)},f=function(c,d){return b.__beanDel?b.__beanDel.ft(c.target,a):d},g=c?function(a){var b=f(a,this);if(c.apply(b,arguments))return a&&(a.currentTarget=b),e(a,arguments)}:function(a){return b.__beanDel&&(a=a.clone(f(a))),e(a,arguments)};return g.__beanDel=b.__beanDel,g},b=function(b,c,d,e,f,g,h){var i,j=v[c];"unload"==c&&(d=D(E,b,c,d,e)),j&&(j.condition&&(d=a(b,d,j.condition,g)),c=j.base||c),this.isNative=i=u[c]&&!!b[m],this.customType=!l&&!i&&c,this.element=b,this.type=c,this.original=e,this.namespaces=f,this.eventType=l||i?c:"propertychange",this.target=x(b,i),this[m]=!!this.target[m],this.root=h,this.handler=a(b,d,null,g)};return b.prototype.inNamespaces=function(a){var b,c,d=0;if(!a)return!0;if(!this.namespaces)return!1;for(b=a.length;b--;)for(c=this.namespaces.length;c--;)a[b]==this.namespaces[c]&&d++;return a.length===d},b.prototype.matches=function(a,b,c){return!(this.element!==a||b&&this.original!==b||c&&this.handler!==c)},b}(),z=function(){var a={},b=function(c,d,e,f,g,h){var i=g?"r":"$";if(d&&"*"!=d){var j,k=0,l=a[i+d],m="*"==c;if(!l)return;for(j=l.length;k<j;k++)if((m||l[k].matches(c,e,f))&&!h(l[k],l,k,d))return}else for(var n in a)n.charAt(0)==i&&b(c,n.substr(1),e,f,g,h)},c=function(b,c,d,e){var f,g=a[(e?"r":"$")+c];if(g)for(f=g.length;f--;)if(!g[f].root&&g[f].matches(b,d,null))return!0;return!1},d=function(a,c,d,e){var f=[];return b(a,c,d,null,e,function(a){return f.push(a)}),f},e=function(b){var c=!b.root&&!this.has(b.element,b.type,null,!1),d=(b.root?"r":"$")+b.type;return(a[d]||(a[d]=[])).push(b),c},f=function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,d){return c.splice(d,1),b.removed=!0,0===c.length&&delete a[(b.root?"r":"$")+b.type],!1})},g=function(){var b,c=[];for(b in a)"$"==b.charAt(0)&&(c=c.concat(a[b]));return c};return{has:c,get:d,put:e,del:f,entries:g}}(),A=function(a){c=arguments.length?a:j.querySelectorAll?function(a,b){return b.querySelectorAll(a)}:function(){throw new Error("Bean: No selector engine installed")}},B=function(a,b){if(l||!b||!a||a.propertyName=="_on"+b){var c=z.get(this,b||a.type,null,!1),d=c.length,e=0;for(a=new w(a,this,(!0)),b&&(a.type=b);e<d&&!a.isImmediatePropagationStopped();e++)c[e].removed||c[e].handler.call(this,a)}},C=l?function(a,b,c){a[c?h:i](b,B,!1)}:function(a,b,c,d){var e;c?(z.put(e=new y(a,d||b,function(b){B.call(a,b,d)},B,null,null,(!0))),d&&null==a["_on"+d]&&(a["_on"+d]=0),e.target.attachEvent("on"+e.eventType,e.handler)):(e=z.get(a,d||b,B,!0)[0],e&&(e.target.detachEvent("on"+e.eventType,e.handler),z.del(e)))},D=function(a,b,c,d,e){return function(){d.apply(this,arguments),a(b,c,e)}},E=function(a,b,c,d){var e,f,h=b&&b.replace(g,""),i=z.get(a,h,null,!1),j={};for(e=0,f=i.length;e<f;e++)c&&i[e].original!==c||!i[e].inNamespaces(d)||(z.del(i[e]),!j[i[e].eventType]&&i[e][m]&&(j[i[e].eventType]={t:i[e].eventType,c:i[e].type}));for(e in j)j.hasOwnProperty(e)&&(z.has(a,j[e].t,null,!1)||C(a,j[e].t,!1,j[e].c))},F=function(a,b){var d=function(b,d){for(var e,f=q(a)?c(a,d):a;b&&b!==d;b=b.parentNode)for(e=f.length;e--;)if(f[e]===b)return b},e=function(a){var c=d(a.target,this);c&&b.apply(c,arguments)};return e.__beanDel={ft:d,selector:a},e},G=l?function(a,b,c){var e=j.createEvent(a?"HTMLEvents":"UIEvents");e[a?"initEvent":"initUIEvent"](b,!0,!0,d,1),c.dispatchEvent(e)}:function(a,b,c){c=x(c,a),a?c.fireEvent("on"+b,j.createEventObject()):c["_on"+b]++},H=function(a,b,c){var d,e,h,i,j=q(b);if(j&&b.indexOf(" ")>0){for(b=p(b),i=b.length;i--;)H(a,b[i],c);return a}if(e=j&&b.replace(g,""),e&&v[e]&&(e=v[e].base),!b||j)(h=j&&b.replace(f,""))&&(h=p(h,".")),E(a,e,c,h);else if(r(b))E(a,null,b);else for(d in b)b.hasOwnProperty(d)&&H(a,d,b[d]);return a},I=function(a,b,d,e){var h,i,j,k,l,q,s;{if(void 0!==d||"object"!=typeof b){for(r(d)?(l=o.call(arguments,3),e=h=d):(h=e,l=o.call(arguments,4),e=F(d,h,c)),j=p(b),this===n&&(e=D(H,a,b,e,h)),k=j.length;k--;)s=z.put(q=new y(a,j[k].replace(g,""),e,h,p(j[k].replace(f,""),"."),l,(!1))),q[m]&&s&&C(a,q.eventType,!0,q.customType);return a}for(i in b)b.hasOwnProperty(i)&&I.call(this,a,i,b[i])}},J=function(a,b,c,d){return I.apply(null,q(c)?[a,c,b,d].concat(arguments.length>3?o.call(arguments,5):[]):o.call(arguments))},K=function(){return I.apply(n,arguments)},L=function(a,b,c){var d,e,h,i,j,k=p(b);for(d=k.length;d--;)if(b=k[d].replace(g,""),(i=k[d].replace(f,""))&&(i=p(i,".")),i||c||!a[m])for(j=z.get(a,b,null,!1),c=[!1].concat(c),e=0,h=j.length;e<h;e++)j[e].inNamespaces(i)&&j[e].handler.apply(a,c);else G(u[b],b,a);return a},M=function(a,b,c){for(var d,e,f=z.get(b,c,null,!1),g=f.length,h=0;h<g;h++)f[h].original&&(d=[a,f[h].type],(e=f[h].handler.__beanDel)&&d.push(e.selector),d.push(f[h].original),I.apply(null,d));return a},N={on:I,add:J,one:K,off:H,remove:H,clone:M,fire:L,Event:w,setSelectorEngine:A,noConflict:function(){return b[a]=e,this}};if(d.attachEvent){var O=function(){var a,b=z.entries();for(a in b)b[a].type&&"unload"!==b[a].type&&H(b[a].element,b[a].type);d.detachEvent("onunload",O),d.CollectGarbage&&d.CollectGarbage()};d.attachEvent("onunload",O)}return A(Ink.ss),N}),b={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,throttle:function(a,b,c){function d(g){var h=+new Date,i=h-f;if(c.preventDefault&&g&&"function"==typeof g.preventDefault&&g.preventDefault(),i>=b)return f=h,a.apply("bind"in c?c.bind:this,[].slice.call(arguments));var j=this,k=[].slice.call(arguments);e&&clearTimeout(e),e=setTimeout(function(){return e=null,d.apply(j,k)},b-i)}b=b||0,c=c||{};var e,f=0;return d},element:function(a){var b=a.delegationTarget||a.target||"mouseout"===a.type&&a.fromElement||"mouseleave"===a.type&&a.fromElement||"mouseover"===a.type&&a.toElement||"mouseenter"===a.type&&a.toElement||a.srcElement||null;return!b||3!==b.nodeType&&4!==b.nodeType?b:b.parentNode},relatedTarget:function(a){var b=a.relatedTarget||"mouseout"===a.type&&a.toElement||"mouseleave"===a.type&&a.toElement||"mouseover"===a.type&&a.fromElement||"mouseenter"===a.type&&a.fromElement||null;return!b||3!==b.nodeType&&4!==b.nodeType?b:b.parentNode},findElement:function(a,b,c){for(var d=this.element(a);;){if(d.nodeName.toLowerCase()===b.toLowerCase())return d;if(d=d.parentNode,!d)return!c&&document;if(!d.parentNode)return!c&&document}},observe:function(a,b,c,d){if(a=Ink.i(a))return a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c=Ink.bind(c,a)),c},observeOnce:function(a,c,d,e){var f=function(){return b.stopObserving(a,c,g),d.apply(this,arguments)},g=b.observe(a,c,f,e);return g},observeMulti:function(a,b,c,d){if("string"==typeof a?a=Ink.ss(a):a&&1===a.nodeType&&(a=[a]),!a[0])return!1;for(var e=0,f=a.length;e<f;e++)this.observe(a[e],b,c,d);return c},observeDelegated:function(a,c,d,e){return b.observe(a,c,function(c){var f=b.element(c);if(f&&f!==a)for(var g=f;g!==a&&g!==document&&g;){if(Ink.Dom.Selector_1.matchesSelector(g,d))return c.delegationTarget=g,e(c);g=g.parentNode}})},stopObserving:function(a,b,c,d){a=Ink.i(a),a&&(a.removeEventListener?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c))},stop:function(a){null!==a.cancelBubble&&(a.cancelBubble=!0),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),window.attachEvent&&(a.returnValue=!1),null!==a.cancel&&(a.cancel=!0)},stopPropagation:function(a){null!==a.cancelBubble&&(a.cancelBubble=!0),a.stopPropagation&&a.stopPropagation()},stopDefault:function(a){a.preventDefault&&a.preventDefault(),window.attachEvent&&(a.returnValue=!1),null!==a.cancel&&(a.cancel=!0)},pointer:function(a){return{x:this.pointerX(a),y:this.pointerY(a)}},pointerX:function(a){return a.touches&&a.touches[0]&&a.touches[0].pageX||a.pageX||a.clientX},pointerY:function(a){return a.touches&&a.touches[0]&&a.touches[0].pageY||a.pageY||a.clientY},isLeftClick:function(a){if(window.addEventListener){if(0===a.button)return!0;if("touchend"===a.type&&null===a.button)return!0}else if(1===a.button)return!0;return!1},isRightClick:function(a){return 2===a.button},isMiddleClick:function(a){return window.addEventListener?1===a.button:4===a.button},getCharFromKeyboardEvent:function(a,b){var c=a.keyCode,d=String.fromCharCode(c),e=a.shiftKey;if(c>=65&&c<=90)return"boolean"==typeof b&&(e=b),e?d:d.toLowerCase();if(c>=96&&c<=105)return String.fromCharCode(48+(c-96));switch(c){case 109:case 189:return"-";case 107:case 187:return"+"}return d},debug:function(){}};return Ink.extendObj(b,a)}),Ink.createModule("Ink.Dom.FormSerialize",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(a,b,c){"use strict";function d(c){return null!=c&&!b.isDOMElement(c)&&(a.isArray(c)||"string"!=typeof c&&"number"==typeof c.length)}function e(a){return d(a)?a:[a]}var f={serialize:function(b,c){c=c||{};var d={},e={},g=this.asPairs(b,{elements:!0,emptyArray:e,outputUnchecked:c.outputUnchecked});return null==g?g:(a.forEach(g,function(a){var b=/\[\]$/.test(a[0]),c=a[0].replace(/\[\]$/,""),g=a[1],h=a[2];g===e?d[c]=[]:f._resultsInArray(h)||b?c in d?(d[c]instanceof Array||(d[c]=[d[c]]),d[c].push(g)):b?d[c]=[g]:d[c]=g:d[c]=g}),d)},asPairs:function(b,d){function e(a,b,c){d.elements?h.push([a,b,c]):h.push([a,b])}function g(b){var f=b.nodeName.toLowerCase(),g=(b.type+"").toLowerCase();if("select"===f&&b.multiple){var h=!1;a.forEach(c.select("option:checked",b),function(a){e(b.name,a.value,b),h=!0}),!h&&"emptyArray"in d&&e(b.name,d.emptyArray,b)}else"input"!==f||"checkbox"!==g&&"radio"!==g||!d.outputUnchecked?e(b.name,b.value,b):e(b.name,null,b)}var h=[];if(d=d||{},b=Ink.i(b)){for(var i=a.filter(b.elements,function(a){return f._isSerialized(a,d)}),j=0,k=i.length;j<k;j++)g(i[j]);return h}return null},fillIn:function(a,b){if(!(a=Ink.i(a)))return null;var c;if("object"!=typeof b||d(b)){if(!d(b))return null;c=b}else c=f._objToPairs(b);return f._fillInPairs(a,c)},_objToPairs:function(a){var b,c=[];for(var d in a)if(a.hasOwnProperty(d)){b=e(a[d]);for(var f=0,g=b.length;f<g;f++)c.push([d,b[f]]);0===g&&c.push([d,[]])}return c},_fillInPairs:function(b,c){c=a.groupBy(c,{key:function(a){return a[0].replace(/\[\]$/,"")},adjacentGroups:!0}),c=a.map(c,function(b){var c=a.reduce(b,function(a,b){return[null,a[1].concat([b[1]])]},[null,[]])[1];return[b[0][0],c]});for(var d,g,h,i=0,j=c.length;i<j;i++){if(d=c[i][0],d in b)g=b[d];else{if(!(d+"[]"in b))continue;g=b[d+"[]"],d+="[]"}g=e(g),h=c[i][1],f._fillInOne(d,g,h)}},_fillInOne:function(a,c,d){var e=c[0],g=e.nodeName.toLowerCase(),h=e.getAttribute("type");h=h&&h.toLowerCase();var i="select"===g&&b.hasAttribute(e,"multiple");if("checkbox"===h||"radio"===h)f._fillInBoolean(c,d,"checked");else if(i)f._fillInBoolean(c[0].options,d,"selected");else{c.length!==d.length&&Ink.warn("Form had "+c.length+' inputs named "'+a+'", but received '+d.length+" values.");for(var j=0,k=Math.min(c.length,d.length);j<k;j+=1)c[j].value=d[j]}},_fillInBoolean:function(b,c,d){a.forEach(b,function(b){var e=a.inArray(b.value,c);b[d]=e})},_resultsInArray:function(a){var c=a.getAttribute("type"),d=a.nodeName.toLowerCase();return"checkbox"===c||"select"===d&&b.hasAttribute(a,"multiple")},_isSerialized:function(a,c){if(c=c||{},!b.isDOMElement(a))return!1;if(!b.hasAttribute(a,"name"))return!1;var d=a.nodeName.toLowerCase();return!(!d||"fieldset"===d)&&("checkbox"!==a.type&&"radio"!==a.type||(!!c.outputUnchecked||!!a.checked))}};return f}),Ink.createModule("Ink.Dom.Loaded",1,[],function(){"use strict";var a={_contexts:[],run:function(a,b){b||(b=a,a=window);for(var c,d=0,e=this._contexts.length;d<e;d++)if(this._contexts[d][0]===a){c=this._contexts[d][1];break}c||(c={cbQueue:[],win:a,doc:a.document,root:a.document.documentElement,done:!1,top:!0},c.handlers={checkState:Ink.bindEvent(this._checkState,this,c),poll:Ink.bind(this._poll,this,c)},this._contexts.push([a,c]));var f=c.doc.addEventListener;c.add=f?"addEventListener":"attachEvent",c.rem=f?"removeEventListener":"detachEvent",c.pre=f?"":"on",c.det=f?"DOMContentLoaded":"onreadystatechange",c.wet=c.pre+"load";var g=c.handlers.checkState,h=/complete|loaded/.test(c.doc.readyState)&&"about:blank"!==c.win.location.toString();if(h)setTimeout(Ink.bind(function(){b.call(c.win,"lazy")},this),0);else{c.cbQueue.push(b),c.doc[c.add](c.det,g),c.win[c.add](c.wet,g);var i=1;try{i=c.win.frameElement}catch(j){}if(!f&&c.root&&c.root.doScroll){try{c.top=!i}catch(j){}c.top&&this._poll(c)}}},_checkState:function(a,b){if(a&&("readystatechange"!==a.type||/complete|loaded/.test(b.doc.readyState))){var c="load"===a.type?b.win:b.doc;c[b.rem](b.pre+a.type,b.handlers.checkState,!1),this._ready(b)}},_poll:function(a){try{a.root.doScroll("left")}catch(b){return setTimeout(a.handlers.poll,50)}this._ready(a)},_ready:function(a){if(!a.done){a.done=!0;for(var b=0;b<a.cbQueue.length;++b)a.cbQueue[b].call(a.win);a.cbQueue=[]}}};return a}),Ink.createModule("Ink.Dom.Selector",1,[],function(){"use strict";function a(a){return oa.test(a+"")}function b(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>w.cacheLength&&delete a[b.shift()],a[c]=d}}function c(a){return a[L]=!0,a}function d(a){var b=E.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b=null}}function e(a,b,c,d){var e,f,g,h,i,l,m,n,o,p;if((b?b.ownerDocument||b:M)!==E&&D(b),b=b||E,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(G&&!d){if(e=pa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&K(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&N.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(N.qsa&&!H.test(a)){if(m=!0,n=L,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(l=j(a),(m=b.getAttribute("id"))?n=m.replace(sa,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=l.length;i--;)l[i]=n+k(l[i]);o=na.test(a)&&b.parentNode||b,p=l.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{m||b.removeAttribute("id")}}}return s(a.replace(ha,"$1"),b,c,d)}function f(a,b){var c=b&&a,d=c&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function g(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function h(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function i(a){return c(function(b){return b=+b,c(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function j(a,b){var c,d,f,g,h,i,j,k=R[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){c&&!(d=ia.exec(h))||(d&&(h=h.slice(d[0].length)||h),i.push(f=[])),c=!1,(d=ja.exec(h))&&(c=d.shift(),f.push({value:c,type:d[0].replace(ha," ")}),h=h.slice(c.length));for(g in w.filter)!(d=ma[g].exec(h))||j[g]&&!(d=j[g](d))||(c=d.shift(),f.push({value:c,type:g,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?e.error(a):R(a,i).slice(0)}function k(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function l(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=P++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=O+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[L]||(b[L]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===v)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||v,i[1]===!0)return!0}}function m(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function n(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function o(a,b,d,e,f,g){return e&&!e[L]&&(e=o(e)),f&&!f[L]&&(f=o(f,g)),c(function(c,g,h,i){var j,k,l,m=[],o=[],p=g.length,q=c||r(b||"*",h.nodeType?[h]:h,[]),s=!a||!c&&b?q:n(q,m,a,h,i),t=d?f||(c?a:p||e)?[]:g:s;if(d&&d(s,t,h,i),e)for(j=n(t,o),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[o[k]]=!(s[o[k]]=l));if(c){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa.call(c,l):m[k])>-1&&(c[j]=!(g[j]=l))}}else t=n(t===g?t.splice(p,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function p(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=l(function(a){return a===b},g,!0),j=l(function(a){return aa.call(b,a)>-1},g,!0),n=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];h<e;h++)if(c=w.relative[a[h].type])n=[l(m(n),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[L]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return o(h>1&&m(n),h>1&&k(a.slice(0,h-1)).replace(ha,"$1"),c,h<d&&p(a.slice(h,d)),d<e&&p(a=a.slice(d)),d<e&&k(a))}n.push(c)}return m(n)}function q(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(c,h,i,j,k){var l,m,o,p=[],q=0,r="0",s=c&&[],t=null!=k,u=A,x=c||g&&w.find.TAG("*",k&&h.parentNode||h),y=O+=null==u?1:Math.random()||.1;for(t&&(A=h!==E&&h,v=d);null!=(l=x[r]);r++){if(g&&l){for(m=0;o=a[m++];)if(o(l,h,i)){j.push(l);break}t&&(O=y,v=++d)}f&&((l=!o&&l)&&q--,c&&s.push(l))}if(q+=r,f&&r!==q){for(m=0;o=b[m++];)o(s,p,h,i);if(c){if(q>0)for(;r--;)s[r]||p[r]||(p[r]=Y.call(j));p=n(p)}$.apply(j,p),t&&!c&&p.length>0&&q+b.length>1&&e.uniqueSort(j)}return t&&(O=y,A=u),s};return f?c(h):h}function r(a,b,c){for(var d=0,f=b.length;d<f;d++)e(a,b[d],c);return c}function s(a,b,c,d){var e,f,g,h,i,l=j(a);if(!d&&1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&G&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ma.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&k(f),!a)return $.apply(c,d),c;break}}return z(a,l)(d,b,!G,c,na.test(a)),c}function t(){}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L="sizzle"+-new Date,M=window.document,N={},O=0,P=0,Q=b(),R=b(),S=b(),T=!1,U=function(){return 0},V="undefined",W=1<<31,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=X.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ba="[\\x20\\t\\r\\n\\f]",ca="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",da=ca.replace("w","w#"),ea="([*^$|!~]?=)",fa="\\["+ba+"*("+ca+")"+ba+"*(?:"+ea+ba+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+da+")|)|)"+ba+"*\\]",ga=":("+ca+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fa.replace(3,8)+")*)|.*)\\)|)",ha=new RegExp("^"+ba+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ba+"+$","g"),ia=new RegExp("^"+ba+"*,"+ba+"*"),ja=new RegExp("^"+ba+"*([\\x20\\t\\r\\n\\f>+~])"+ba+"*"),ka=new RegExp(ga),la=new RegExp("^"+da+"$"),ma={ID:new RegExp("^#("+ca+")"),CLASS:new RegExp("^\\.("+ca+")"),NAME:new RegExp("^\\[name=['\"]?("+ca+")['\"]?\\]"),TAG:new RegExp("^("+ca.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ba+"*(even|odd|(([+-]|)(\\d*)n|)"+ba+"*(?:([+-]|)"+ba+"*(\\d+)|))"+ba+"*\\)|)","i"),needsContext:new RegExp("^"+ba+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ba+"*((?:-\\d)?\\d*)"+ba+"*\\)|)(?=[^-]|$)","i")},na=/[\x20\t\r\n\f]*[+~]/,oa=/^[^{]+\{\s*\[native code/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,sa=/'|\\/g,ta=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(a,b){var c="0x"+b-65536;return c!==c?b:c<0?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)};try{$.apply(X=_.call(M.childNodes),M.childNodes),X[M.childNodes.length].nodeType}catch(wa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}y=e.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},D=e.setDocument=function(b){var c=b?b.ownerDocument||b:M;return c!==E&&9===c.nodeType&&c.documentElement?(E=c,F=c.documentElement,G=!y(c),N.getElementsByTagName=d(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),N.attributes=d(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),N.getElementsByClassName=d(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!a.getElementsByClassName||!a.getElementsByClassName("e").length)&&(a.lastChild.className="e",2===a.getElementsByClassName("e").length)}),N.getByName=d(function(a){a.id=L+0,a.appendChild(E.createElement("a")).setAttribute("name",L),a.appendChild(E.createElement("i")).setAttribute("name",L),F.appendChild(a);var b=c.getElementsByName&&c.getElementsByName(L).length===2+c.getElementsByName(L+0).length;return F.removeChild(a),b}),N.sortDetached=d(function(a){return a.compareDocumentPosition&&1&a.compareDocumentPosition(E.createElement("div"))}),w.attrHandle=d(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==V&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},N.getByName?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&G){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&G){var c=b.getElementById(a);return c?c.id===a||typeof c.getAttributeNode!==V&&c.getAttributeNode("id").value===a?[c]:void 0:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=N.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==V)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.NAME=N.getByName&&function(a,b){if(typeof b.getElementsByName!==V)return b.getElementsByName(name)},w.find.CLASS=N.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==V&&G)return b.getElementsByClassName(a)},I=[],H=[":focus"],(N.qsa=a(c.querySelectorAll))&&(d(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||H.push("\\["+ba+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||H.push(":checked")}),d(function(a){a.innerHTML="<input type='hidden' i=''/>",a.querySelectorAll("[i^='']").length&&H.push("[*^$]="+ba+"*(?:\"\"|'')"),a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),H.push(",.*:")})),(N.matchesSelector=a(J=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&d(function(a){N.disconnectedMatch=J.call(a,"div"),J.call(a,"[s!='']:x"),I.push("!=",ga)}),H=new RegExp(H.join("|")),I=I.length&&new RegExp(I.join("|")),K=a(F.contains)||F.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=F.compareDocumentPosition?function(a,b){if(a===b)return T=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||B&&b.compareDocumentPosition(a)===d?a===c||K(M,a)?-1:b===c||K(M,b)?1:C?aa.call(C,a)-aa.call(C,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,g=a.parentNode,h=b.parentNode,i=[a],j=[b];if(a===b)return T=!0,0;if(!g||!h)return a===c?-1:b===c?1:g?-1:h?1:0;if(g===h)return f(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?f(i[e],j[e]):i[e]===M?-1:j[e]===M?1:0},E):E},e.matches=function(a,b){return e(a,null,null,b)},e.matchesSelector=function(a,b){if((a.ownerDocument||a)!==E&&D(a),b=b.replace(ta,"='$1']"),N.matchesSelector&&G&&(!I||!I.test(b))&&!H.test(b))try{var c=J.call(a,b);if(c||N.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return e(b,E,null,[a]).length>0},e.contains=function(a,b){return(a.ownerDocument||a)!==E&&D(a),K(a,b)},e.attr=function(a,b){var c;return(a.ownerDocument||a)!==E&&D(a),G&&(b=b.toLowerCase()),(c=w.attrHandle[b])?c(a):!G||N.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&a[b]===!0?b:c&&c.specified?c.value:null},e.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},e.uniqueSort=function(a){var b,c=[],d=0,e=0;if(T=!N.detectDuplicates,B=!N.sortDetached,C=!N.sortStable&&a.slice(0),a.sort(U),T){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},x=e.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=x(b);return c},w=e.selectors={cacheLength:50,createPseudo:c,match:ma,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ma.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&ka.test(c)&&(b=j(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ua,va).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+ba+")"+a+"("+ba+"|$)"))&&Q(a,function(a){return b.test(a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var f=e.attr(d,a);return null==f?"!="===b:!b||(f+="","="===b?f===c:"!="===b?f!==c:"^="===b?c&&0===f.indexOf(c):"*="===b?c&&f.indexOf(c)>-1:"$="===b?c&&f.slice(-c.length)===c:"~="===b?(" "+f+" ").indexOf(c)>-1:"|="===b&&(f===c||f.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;
o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[L]||(q[L]={}),j=k[a]||[],n=j[0]===O&&j[1],m=j[0]===O&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[O,n,m];break}}else if(s&&(j=(b[L]||(b[L]={}))[a])&&j[0]===O)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[L]||(l[L]={}))[a]=[O,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);return f[L]?f(b):f.length>1?(d=[a,a,"",b],w.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=aa.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:c(function(a){var b=[],d=[],e=z(a.replace(ha,"$1"));return e[L]?c(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,c,f){return b[0]=a,e(b,null,f,d),!d.pop()}}),has:c(function(a){return function(b){return e(a,b).length>0}}),contains:c(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:c(function(a){return la.test(a||"")||e.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===F},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:i(function(){return[0]}),last:i(function(a,b){return[b-1]}),eq:i(function(a,b,c){return[c<0?c+b:c]}),even:i(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:i(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:i(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:i(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}};for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=g(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=h(u);return z=e.compile=function(a,b){var c,d=[],e=[],f=S[a+" "];if(!f){for(b||(b=j(a)),c=b.length;c--;)f=p(b[c]),f[L]?d.push(f):e.push(f);f=S(a,q(e,d))}return f},w.pseudos.nth=w.pseudos.eq,t.prototype=w.filters=w.pseudos,w.setFilters=new t,N.sortStable=L.split("").sort(U).join("")===L,D(),[0,0].sort(U),N.detectDuplicates=T,{select:e,matches:e.matches,matchesSelector:e.matchesSelector}}),Ink.createModule("Ink.Util.Array","1",[],function(){"use strict";var a=Array.prototype,b={isArray:Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},groupBy:function(a,c){function d(a){return"function"==typeof c.key?c.key(a):"string"==typeof c.key?a[c.key]:a}function e(a){var b=c.pairs?[a,[]]:[];return h.push(b),g.push(a),b}c=c||{};for(var f,g=[],h=[],i=0,j=a.length;i<j;i++){f=d(a[i]);var k;k=c.adjacentGroups?g[g.length-1]===f?h[h.length-1]:e(f):h[b.keyValue(f,g,!0)]||e(f),c.pairs?k[1].push(a[i]):k.push(a[i])}return h},reduce:function(b,c,d){if(a.reduce)return a.reduce.apply(b,a.slice.call(arguments,1));var e,f=Object(b),g=f.length>>>0,h=0;if(arguments.length>=3)e=d;else{for(;h<g&&!(h in f);)h++;if(h>=g)throw new TypeError("Reduce of empty array with no initial value");e=f[h++]}for(;h<g;h++)h in f&&(e=c(e,f[h],h,f));return e},inArray:function(a,b){if("object"==typeof b)for(var c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return!1},sortMulti:function(a,b){if("undefined"==typeof a||a.constructor!==Array)return!1;if("string"!=typeof b)return a.sort();if(a.length>0){if("undefined"==typeof a[0][b])return!1;a.sort(function(a,c){var d=a[b],e=c[b];return d<e?-1:d>e?1:0})}return a},keyValue:function(a,b,c){if("undefined"!=typeof a&&"object"==typeof b&&this.inArray(a,b)){for(var d=[],e=0,f=b.length;e<f;++e)if(b[e]===a){if("undefined"!=typeof c&&c===!0)return e;d.push(e)}return d}return!1},shuffle:function(a){if("undefined"!=typeof a&&a.constructor!==Array)return!1;for(var b=a.length,c=!1,d=!1;b--;)d=Math.floor(Math.random()*(b+1)),c=a[b],a[b]=a[d],a[d]=c;return a},forEach:function(b,c,d){if(a.forEach)return a.forEach.call(b,c,d);for(var e=0,f=b.length>>>0;e<f;e++)c.call(d,b[e],e,b)},forEachObj:function(a,c,d){b.forEach(b.keys(a),function(b){c.call(d||null,a[b],b,a)})},each:function(){b.forEach.apply(b,a.slice.call(arguments))},map:function(b,c,d){if(a.map)return a.map.call(b,c,d);for(var e=new Array(g),f=0,g=b.length>>>0;f<g;f++)e[f]=c.call(d,b[f],f,b);return e},filter:function(b,c,d){if(a.filter)return a.filter.call(b,c,d);for(var e=[],f=null,g=0,h=b.length;g<h;g++)f=b[g],c.call(d,f,g,b)&&e.push(f);return e},some:function(a,b,c){if(null===a)throw new TypeError("First argument is invalid.");var d=Object(a),e=d.length>>>0;if("function"!=typeof b)throw new TypeError("Second argument must be a function.");for(var f=0;f<e;f++)if(f in d&&b.call(c,d[f],f,d))return!0;return!1},intersect:function(a,b){if(!a||!b||a instanceof Array==!1||b instanceof Array==!1)return[];for(var c=[],d=0,e=a.length;d<e;++d)for(var f=0,g=b.length;f<g;++f)a[d]===b[f]&&c.push(a[d]);return c},convert:function(b){return a.slice.call(b||[],0)},unique:function(a){if(!Array.prototype.lastIndexOf){var c=[];return b.forEach(b.convert(a),function(a){b.inArray(a,c)||c.push(a)}),c}return b.filter(b.convert(a),function(a,b,c){return c.lastIndexOf(a)===b})},range:function(a,b,c){1===arguments.length&&(b=a,a=0),c||(c=1);var d,e=[];if(c>0)for(d=a;d<b;d+=c)e.push(d);else for(d=a;d>b;d+=c)e.push(d);return e},insert:function(a,b,c){a.splice(b,0,c)},keys:function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},remove:function(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)e>=b&&e<b+c||d.push(a[e]);return d}};return b}),Ink.createModule("Ink.Util.Cookie","1",[],function(){"use strict";var a={get:function(a){var b=document.cookie||!1,c={};if(b){b=b.replace(new RegExp("; ","g"),";");var d=b.split(";"),e=[];if(d.length>0)for(var f=0;f<d.length;f++)e=d[f].split("="),2===e.length&&(c[e[0]]=decodeURIComponent(e[1]));if(a)return"undefined"!=typeof c[a]?c[a]:null}return c},set:function(a,b,c,d,e,f){var g;if(!a||b===!1||"undefined"==typeof a||"undefined"==typeof b)return!1;g=a+"="+encodeURIComponent(b);var h=!1,i=!1,j=!1,k=!1;if(c&&"undefined"!=typeof c&&!isNaN(c)){var l=new Date,m=parseInt(Number(l.valueOf()),10)+1e3*Number(parseInt(c,10)),n=new Date(m),o=n.toGMTString(),p=new RegExp("([^\\s]+)(\\s\\d\\d)\\s(\\w\\w\\w)\\s(.*)");o=o.replace(p,"$1$2-$3-$4"),h="expires="+o}else h="undefined"==typeof c||isNaN(c)||0!==Number(parseInt(c,10))?"expires=Thu, 01-Jan-2037 00:00:01 GMT":"";i=d&&"undefined"!=typeof d?"path="+d:"path=/",e?j="domain="+e:/\./.test(window.location.hostname)&&(j="domain="+window.location.hostname),k=!(!f||"undefined"==typeof f)&&f,document.cookie=g+"; "+h+"; "+i+(j?"; "+j:"")+"; "+k},remove:function(a,b,c){var d=-1;this.set(a,"deleted",d,b,c)}};return a}),Ink.createModule("Ink.Util.Date","1",[],function(){"use strict";var a={_months:function(a){var b=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return b[a]},_iMonth:function(a){return Number(a)?+a-1:{janeiro:0,jan:0,fevereiro:1,fev:1,"março":2,mar:2,abril:3,abr:3,maio:4,mai:4,junho:5,jun:5,julho:6,jul:6,agosto:7,ago:7,setembro:8,set:8,outubro:9,out:9,novembro:10,nov:10,dezembro:11,dez:11}[a.toLowerCase()]},_wDays:function(a){var b=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"];return b[a]},_iWeek:function(a){return Number(a)?+a||7:{segunda:1,seg:1,"terça":2,ter:2,quarta:3,qua:3,quinta:4,qui:4,sexta:5,sex:5,"sábado":6,"sáb":6,domingo:7,dom:7}[a.toLowerCase()]},_daysInMonth:function(a,b){var c;return c=1===a||3===a||5===a||7===a||8===a||10===a||12===a?31:4===a||6===a||9===a||11===a?30:b%400===0||b%4===0&&b%100!==0?29:28},get:function(a,b){"undefined"!=typeof a&&""!==a||(a="Y-m-d");var c,d=a.split(""),e=new Array(d.length),f="\\";c="undefined"==typeof b?new Date:"number"==typeof b?new Date(1e3*b):new Date(b);for(var g,h,i,j=0;j<d.length;j++)switch(d[j]){case f:e[j]=d[j+1],j++;break;case"d":var k=c.getDate();e[j]=String(k).length>1?k:"0"+k;break;case"D":e[j]=this._wDays(c.getDay()).substring(0,3);break;case"j":e[j]=c.getDate();break;case"l":e[j]=this._wDays(c.getDay());break;case"N":e[j]=c.getDay()||7;break;case"S":var l=c.getDate(),m=["st","nd","rd"],n="";l>=11&&l<=13?e[j]="th":e[j]=(n=m[String(l).substr(-1)-1])?n:"th";break;case"w":e[j]=c.getDay();break;case"z":g=Date.UTC(c.getFullYear(),0,0),h=Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()),e[j]=Math.floor((h-g)/864e5);break;case"W":var o=new Date(c.getFullYear(),0,1);g=o.getDay()||7;var p=Math.floor((c-o)/864e5+1);e[j]=Math.ceil((p-(8-g))/7)+1;break;case"F":e[j]=this._months(c.getMonth());break;case"m":var q=String(c.getMonth()+1);e[j]=q.length>1?q:"0"+q;break;case"M":e[j]=this._months(c.getMonth()).substring(0,3);break;case"n":e[j]=c.getMonth()+1;break;case"t":e[j]=this._daysInMonth(c.getMonth()+1,c.getYear());break;case"L":var r=c.getFullYear();e[j]=!(r%4)&&(!!(r%100)||!(r%400));break;case"o":throw'"o" not implemented!';case"Y":e[j]=c.getFullYear();break;case"y":e[j]=String(c.getFullYear()).substring(2);break;case"a":e[j]=c.getHours()<12?"am":"pm";break;case"A":e[j]=c.getHours<12?"AM":"PM";break;case"B":throw'"B" not implemented!';case"g":i=c.getHours(),e[j]=i<=12?i:i-12;break;case"G":e[j]=String(c.getHours());break;case"h":i=String(c.getHours()),i=i<=12?i:i-12,e[j]=i.length>1?i:"0"+i;break;case"H":i=String(c.getHours()),e[j]=i.length>1?i:"0"+i;break;case"i":var s=String(c.getMinutes());e[j]=s.length>1?s:"0"+s;break;case"s":var t=String(c.getSeconds());e[j]=t.length>1?t:"0"+t;break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":g=new Date(c.getFullYear(),0,1),e[j]=c.getTimezoneOffset()!==g.getTimezoneOffset()?1:0;break;case"O":var u=c.getTimezoneOffset(),v=u%60;i=String((u-v)/60*-1),"-"!==i.charAt(0)&&(i="+"+i),i=3===i.length?i:i.replace(/([+\-])(\d)/,"$10$2"),e[j]=i+v+"0";break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":e[j]=60*c.getTimezoneOffset();break;case"c":throw'"c" not implemented!';case"r":var w=this._wDays(c.getDay()).substr(0,3),x=this._months(c.getMonth()).substr(0,3);e[j]=w+", "+c.getDate()+" "+x+this.get(" Y H:i:s O",c);break;case"U":e[j]=Math.floor(c.getTime()/1e3);break;default:e[j]=d[j]}return e.join("")},set:function(a,b){if("undefined"!=typeof b){"undefined"!=typeof a&&""!==a||(a="Y-m-d");for(var c,d=a.split(""),e=new Array(d.length),f="\\",g={year:void 0,month:void 0,day:void 0,dayY:void 0,dayW:void 0,week:void 0,hour:void 0,hourD:void 0,min:void 0,sec:void 0,msec:void 0,ampm:void 0,diffM:void 0,diffH:void 0,date:void 0},h=0,i=0;i<d.length;i++)switch(d[i]){case f:e[i]=d[i+1],i++;break;case"d":e[i]="(\\d{2})",g.day={original:i,match:h++};break;case"j":e[i]="(\\d{1,2})",g.day={original:i,match:h++};break;case"D":e[i]="([\\wá]{3})",g.dayW={original:i,match:h++};break;case"l":e[i]="([\\wá]{5,7})",g.dayW={original:i,match:h++};break;case"N":e[i]="(\\d)",g.dayW={original:i,match:h++};break;case"w":e[i]="(\\d)",g.dayW={original:i,match:h++};break;case"S":e[i]="\\w{2}";break;case"z":e[i]="(\\d{1,3})",g.dayY={original:i,match:h++};break;case"W":e[i]="(\\d{1,2})",g.week={original:i,match:h++};break;case"F":e[i]="([\\wç]{4,9})",g.month={original:i,match:h++};break;case"M":e[i]="(\\w{3})",g.month={original:i,match:h++};break;case"m":e[i]="(\\d{2})",g.month={original:i,match:h++};break;case"n":e[i]="(\\d{1,2})",g.month={original:i,match:h++};break;case"t":e[i]="\\d{2}";break;case"L":e[i]="\\w{4,5}";break;case"o":throw'"o" not implemented!';case"Y":e[i]="(\\d{4})",g.year={original:i,match:h++};break;case"y":e[i]="(\\d{2})","undefined"!=typeof g.year&&"Y"===d[g.year.original]||(g.year={original:i,match:h++});break;case"a":e[i]="(am|pm)",g.ampm={original:i,match:h++};break;case"A":e[i]="(AM|PM)",g.ampm={original:i,match:h++};break;case"B":throw'"B" not implemented!';case"g":e[i]="(\\d{1,2})",g.hourD={original:i,match:h++};break;case"G":e[i]="(\\d{1,2})",g.hour={original:i,match:h++};break;case"h":e[i]="(\\d{2})",g.hourD={original:i,match:h++};break;case"H":e[i]="(\\d{2})",g.hour={original:i,match:h++};break;case"i":e[i]="(\\d{2})",g.min={original:i,match:h++};break;case"s":e[i]="(\\d{2})",g.sec={original:i,match:h++};break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":e[i]="\\d";break;case"O":e[i]="([-+]\\d{4})",g.diffH={original:i,match:h++};break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":e[i]="(\\-?\\d{1,5})",g.diffM={original:i,match:h++};break;case"c":throw'"c" not implemented!';case"r":e[i]="([\\wá]{3}, \\d{1,2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} [+\\-]\\d{4})",g.date={original:i,match:h++};break;case"U":e[i]="(\\d{1,13})",g.date={original:i,match:h++};break;default:e[i]=d[i]}var j=new RegExp(e.join(""));try{if(c=b.match(j),!c)return}catch(k){return}var l,m,n="undefined"!=typeof g.date,o="undefined"!=typeof g.year,p="undefined"!=typeof g.dayY,q="undefined"!=typeof g.day,r="undefined"!=typeof g.month,s=r&&q,t=!r&&q,u="undefined"!=typeof g.dayW,v="undefined"!=typeof g.week,w=v&&u,x=!v&&u,y=p||s||!o&&t||w||!o&&x,z=!(o||p||q||r||u||v),A="undefined"!=typeof g.hourD&&"undefined"!=typeof g.ampm,B="undefined"!=typeof g.hour,C=A||B,D="undefined"!=typeof g.min,E="undefined"!=typeof g.sec,F="undefined"!=typeof g.msec,G=!z||C,H=G||D,I="undefined"!=typeof g.diffM,J="undefined"!=typeof g.diffH;if(n){if("U"===d[g.date.original])return new Date(1e3*+c[g.date.match+1]);var K=c[g.date.match+1].match(/\w{3}, (\d{1,2}) (\w{3}) (\d{4}) (\d{2}):(\d{2}):(\d{2}) ([+\-]\d{4})/);return l=+K[4]+ +K[7].slice(0,3),m=+K[5]+(K[7].slice(0,1)+K[7].slice(3))/100*60,new Date(K[3],this._iMonth(K[2]),K[1],l,m,K[6])}var L,M,N,O,P,Q,R=new Date;if(y||z){if(y){if(o){var S=R.getFullYear()-50+"";L=c[g.year.match+1],"y"===d[g.year.original]&&(L=+S.slice(0,2)+(L>=S.slice(2)?0:1)+L)}else L=R.getFullYear();if(p)M=0,N=c[g.dayY.match+1];else if(q)M=r?this._iMonth(c[g.month.match+1]):R.getMonth(),N=c[g.day.match+1];else{M=0;var T;T=v?c[g.week.match+1]:this.get("W",R),N=7*(T-2)+(8-(new Date(L,0,1).getDay()||7))+this._iWeek(c[g.week.match+1])}if(0===M&&N>31){var U=new Date(L,M,N);M=U.getMonth(),N=U.getDate()}}else L=R.getFullYear(),M=R.getMonth(),N=R.getDate();return l=A?+c[g.hourD.match+1]+("pm"===c[g.ampm.match+1]?12:0):B?c[g.hour.match+1]:z?R.getHours():"00",m=D?c[g.min.match+1]:G?"00":R.getMinutes(),O=E?c[g.sec.match+1]:H?"00":R.getSeconds(),P=F?c[g.msec.match+1]:"000",Q=J?c[g.diffH.match+1]:I?String(-1*c[g.diffM.match+1]/60*100).replace(/^(\d)/,"+$1").replace(/(^[\-+])(\d{3}$)/,"$10$2"):"+0000",new Date(L,M,N,l,m,O)}}}};return a}),Ink.createModule("Ink.Util.I18n","1",[],function(){"use strict";var a=/\{(?:(\{.*?})|(?:%s:)?(\d+)|(?:%s)?|([\w-]+))}/g,b=function(a,b){return"function"==typeof a?a.apply(this,b):"undefined"!=typeof a?a:""},c=function(a,b,d){return this instanceof c?void this.reset().lang(b).testMode(d).append(a||{},b):new c(a,b,d)};return c.prototype={reset:function(){return this._dicts=[],this._dict={},this._testMode=!1,this._lang=this._gLang,this},clone:function(){for(var a=new c,b=0,d=this._dicts.length;b<d;b++)a.append(this._dicts[b]);return a.testMode(this.testMode()),a.lang(this.lang()),a},append:function(a){return this._dicts.push(a),this._dict=Ink.extendObj(this._dict,a[this._lang]),this},lang:function(a){if(!arguments.length)return this._lang;if(a&&this._lang!==a){this._lang=a,this._dict={};for(var b=0,c=this._dicts.length;b<c;b++)this._dict=Ink.extendObj(this._dict,this._dicts[b][a]||{})}return this},testMode:function(a){return arguments.length?(void 0!==a&&(this._testMode=!!a),this):!!this._testMode},getKey:function(a){var b,d=this._gLang,e=this._lang;return a in this._dict?b=this._dict[a]:(c.langGlobal(e),b=this._gDict[a],c.langGlobal(d)),b},text:function(c){if("string"==typeof c){var d=Array.prototype.slice.call(arguments,1),e=0,f="object"==typeof d[0],g=this.getKey(c);return void 0===g&&(g=this._testMode?"["+c+"]":c),"number"==typeof g&&(g+=""),"string"==typeof g?g=g.replace(a,function(a,c,g,h){var i=c?c:g?d[g-(f?0:1)]:h&&d[0]?d[0][h]||"":d[e++ +(f?1:0)];return b(i,[e].concat(d))}):"function"==typeof g?g.apply(this,d):g instanceof Array?b(g[d[0]],d):"object"==typeof g?b(g[d[0]],d):""}},ntext:function(a,b,c){var d,e=Array.prototype.slice.apply(arguments);if(2===e.length&&"number"==typeof b){if(d=this.getKey(a),!(d instanceof Array))return"";e.splice(0,1),d=d[1===b?0:1]}else e.splice(0,2),d=1===c?a:b;return this.text.apply(this,[d].concat(e))},ordinal:function(a){if(void 0===a)return"";var c=+a.toString().slice(-1),d=this.getKey("_ordinals");if(void 0===d)return"";if("string"==typeof d)return d;var e;return"function"==typeof d&&(e=d(a,c),"string"==typeof e)?e:"exceptions"in d&&(e="function"==typeof d.exceptions?d.exceptions(a,c):a in d.exceptions?b(d.exceptions[a],[a,c]):void 0,"string"==typeof e)?e:"byLastDigit"in d&&(e="function"==typeof d.byLastDigit?d.byLastDigit(c,a):c in d.byLastDigit?b(d.byLastDigit[c],[c,a]):void 0,"string"==typeof e)?e:"default"in d&&(e=b(d["default"],[a,c]),"string"==typeof e)?e:""},alias:function(){var a=Ink.bind(c.prototype.text,this);return a.ntext=Ink.bind(c.prototype.ntext,this),a.append=Ink.bind(c.prototype.append,this),a.ordinal=Ink.bind(c.prototype.ordinal,this),a.testMode=Ink.bind(c.prototype.testMode,this),a}},c.reset=function(){c.prototype._gDicts=[],c.prototype._gDict={},c.prototype._gLang="pt_PT"},c.reset(),c.appendGlobal=function(a,b){if(b){if(!(b in a)){var d={};d[b]=a,a=d}b!==c.prototype._gLang&&c.langGlobal(b)}c.prototype._gDicts.push(a),Ink.extendObj(c.prototype._gDict,a[c.prototype._gLang])},c.langGlobal=function(a){if(!arguments.length)return c.prototype._gLang;if(a&&c.prototype._gLang!==a){c.prototype._gLang=a,c.prototype._gDict={};for(var b=0,d=c.prototype._gDicts.length;b<d;b++)Ink.extendObj(c.prototype._gDict,c.prototype._gDicts[b][a]||{})}},c}),Ink.createModule("Ink.Util.Json","1",[],function(){"use strict";function twoDigits(a){var b=""+a;return 1===b.length?"0"+b:b}var function_call=Function.prototype.call,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,dateToISOString=Date.prototype.toISOString?Ink.bind(function_call,Date.prototype.toISOString):function(a){return a.getUTCFullYear()+"-"+twoDigits(a.getUTCMonth()+1)+"-"+twoDigits(a.getUTCDate())+"T"+twoDigits(a.getUTCHours())+":"+twoDigits(a.getUTCMinutes())+":"+twoDigits(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},InkJson={_nativeJSON:window.JSON||null,_convertToUnicode:!1,_escape:function(a){var b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/([\x00-\x1f\\"])/g,function(a,c){var d=b[c];return d?d:(d=c.charCodeAt(),"\\u00"+Math.floor(d/16).toString(16)+(d%16).toString(16))})),a},_toUnicode:function(a){if(this._convertToUnicode){for(var b="",c=!1,d=!1,e=0,f=a.length;e<f;){if(c=a.charCodeAt(e),c>=32&&c<=126||8===c||9===c||10===c||12===c||13===c||32===c||34===c||47===c||58===c||92===c)d=34===c||92===c||47===c?"\\"+a.charAt(e):8===c?"\\b":9===c?"\\t":10===c?"\\n":12===c?"\\f":13===c?"\\r":a.charAt(e);else if(this._convertToUnicode){for(d=a.charCodeAt(e).toString(16)+"".toUpperCase();d.length<4;)d="0"+d;d="\\u"+d}else d=a.charAt(e);b+=d,e++}return b}return this._escape(a)},_stringifyValue:function(a){if("string"==typeof a)return'"'+this._toUnicode(a)+'"';if("number"!=typeof a||!isNaN(a)&&isFinite(a)){if("undefined"==typeof a||null===a)return"null";if("function"==typeof a.toJSON){var b=a.toJSON();return"string"==typeof b?'"'+this._escape(b)+'"':this._escape(b.toString())}if("number"==typeof a||"boolean"==typeof a)return""+a;if("function"==typeof a)return"null";if(a.constructor===Date)return'"'+this._escape(dateToISOString(a))+'"';if(a.constructor===Array){for(var c="",d=0,e=a.length;d<e;d++)d>0&&(c+=","),c+=this._stringifyValue(a[d]);return"["+c+"]"}var f="";for(var g in a)({}).hasOwnProperty.call(a,g)&&(""!==f&&(f+=","),f+='"'+this._escape(g)+'": '+this._stringifyValue(a[g]));return"{"+f+"}"}return"null"},stringify:function(a,b){return this._convertToUnicode=!!b,!this._convertToUnicode&&this._nativeJSON?this._nativeJSON.stringify(a):this._stringifyValue(a)},parse:function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}};return InkJson}),Ink.createModule("Ink.Util.String","1",[],function(){"use strict";var InkUtilString={_chars:["&","à","á","â","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ð","ñ","ò","ó","ô","õ","ö","ø","ù","ú","û","ü","ý","þ","ÿ","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò","Ó","Ô","Õ","Ö","Ø","Ù","Ú","Û","Ü","Ý","Þ","€",'"',"ß","<",">","¢","£","¤","¥","¦","§","¨","©","ª","«","¬","­","®","¯","°","±","²","³","´","µ","¶","·","¸","¹","º","»","¼","½","¾"],_entities:["amp","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","euro","quot","szlig","lt","gt","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34"],_accentedChars:["à","á","â","ã","ä","å","è","é","ê","ë","ì","í","î","ï","ò","ó","ô","õ","ö","ù","ú","û","ü","ç","ñ","À","Á","Â","Ã","Ä","Å","È","É","Ê","Ë","Ì","Í","Î","Ï","Ò","Ó","Ô","Õ","Ö","Ù","Ú","Û","Ü","Ç","Ñ"],_accentedRemovedChars:["a","a","a","a","a","a","e","e","e","e","i","i","i","i","o","o","o","o","o","u","u","u","u","c","n","A","A","A","A","A","A","E","E","E","E","I","I","I","I","O","O","O","O","O","U","U","U","U","C","N"],_htmlUnsafeChars:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},ucFirst:function(a,b){var c=b?/(^|\s)(\w)(\S{2,})/:/(^|\s)(\w)(\S{2,})/g;return a?String(a).replace(c,function(a,b,c,d){return b+c.toUpperCase()+d.toLowerCase()}):a},trim:function(a){return"string"==typeof a?a.replace(/^\s+|\s+$|\n+$/g,""):a},stripTags:function(a,b){if(b&&"string"==typeof b){for(var c=InkUtilString.trim(b).split(","),d=[],e=!1,f=0;f<c.length;f++)""!==InkUtilString.trim(c[f])&&(e=InkUtilString.trim(c[f].replace(/(<|\>)/g,"").replace(/\s/,"")),d.push("(<"+e+"\\s[^>]+>|<(\\s|\\/)?(\\s|\\/)?"+e+">)"));for(var g=d.join("|"),h=new RegExp(g,"i"),i=a.match(new RegExp("<[^>]*>","g")),j=0;j<i.length;j++)i[j].match(h)||(a=a.replace(new RegExp(i[j],"gm"),""));return a}return a.replace(/<[^\>]+\>/g,"")},htmlEntitiesEncode:function(a){if(a&&a.replace)for(var b=!1,c=0;c<InkUtilString._chars.length;c++)b=new RegExp(InkUtilString._chars[c],"gm"),a=a.replace(b,"&"+InkUtilString._entities[c]+";");return a},htmlEntitiesDecode:function(a){if(a&&a.replace){for(var b=!1,c=0;c<InkUtilString._entities.length;c++)b=new RegExp("&"+InkUtilString._entities[c]+";","gm"),a=a.replace(b,InkUtilString._chars[c]);a=a.replace(/&#[^;]+;?/g,function(a){return"x"===a.charAt(2)?String.fromCharCode(parseInt(a.substring(3),16)):String.fromCharCode(parseInt(a.substring(2),10))})}return a},utf8Encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},shortString:function(a,b){for(var c=a.split(" "),d="",e=0;e<c.length;e++){if((d+c[e]+" ").length>=b){d+="&hellip;";break}d+=c[e]+" "}return d},truncateString:function(a,b){return a.length-1>b?a.substr(0,b-1)+"…":a},utf8Decode:function(a){for(var b="",c=0,d=0,e=0,f=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&e),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&e)<<6|63&f),c+=3);return b},removeAccentedChars:function(a){for(var b=a,c=!1,d=0;d<InkUtilString._accentedChars.length;d++)c=new RegExp(InkUtilString._accentedChars[d],"gm"),b=b.replace(c,""+InkUtilString._accentedRemovedChars[d]);return b},substrCount:function(a,b){return a?a.split(b).length-1:0},evalJSON:function(strJSON,sanitize){if("undefined"==typeof sanitize||null===sanitize||InkUtilString.isJSON(strJSON))try{return"undefined"!=typeof JSON&&"undefined"!=typeof JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("ERROR: Bad JSON string...")}},isJSON:function(a){return a=a.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(a)},htmlEscapeUnsafe:function(a){var b=InkUtilString._htmlUnsafeChars;return null!==a?String(a).replace(/[<>&'"]/g,function(a){return b[a]}):a},normalizeWhitespace:function(a){return null!==a?InkUtilString.trim(String(a).replace(/\s+/g," ")):a},toUnicode:function(a){if("string"==typeof a){for(var b="",c=!1,d=!1,e=a.length,f=0;f<e;){if(c=a.charCodeAt(f),c>=32&&c<=126||8===c||9===c||10===c||12===c||13===c||32===c||34===c||47===c||58===c||92===c)d=8===c?"\\b":9===c?"\\t":10===c?"\\n":12===c?"\\f":13===c?"\\r":a.charAt(f);else{for(d=a.charCodeAt(f).toString(16)+"".toUpperCase();d.length<4;)d="0"+d;d="\\u"+d}b+=d,f++}return b}},escape:function(a){var b=a.charCodeAt(0).toString(16).split("");if(b.length<3){for(;b.length<2;)b.unshift("0");b.unshift("x")}else{for(;b.length<4;)b.unshift("0");b.unshift("u")}return b.unshift("\\"),b.join("")},unescape:function(a){var b=a.lastIndexOf("0");b=b===-1?2:Math.min(b,2);var c=a.substring(b),d=parseInt(c,16);return String.fromCharCode(d)},escapeText:function(a,b){void 0===b&&(b=["[","]","'",","]);for(var c,d,e=[],f=0,g=a.length;f<g;++f)c=a[f],d=c.charCodeAt(0),(d<32||d>126&&b.indexOf(c)===-1)&&(c=InkUtilString.escape(c)),e.push(c);return e.join("")},escapedCharRegex:/(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4})/g,unescapeText:function(a){for(var b;b=InkUtilString.escapedCharRegex.exec(a);)b=b[0],a=a.replace(b,InkUtilString.unescape(b)),InkUtilString.escapedCharRegex.lastIndex=0;return a},strcmp:function(a,b){return a===b?0:a>b?1:-1},packetize:function(a,b){for(var c,d=a.length,e=new Array(Math.ceil(d/b)),f=a.split(""),g=0;d;)c=Math.min(b,d),e[g++]=f.splice(0,c).join(""),d-=c;return e}};return InkUtilString}),Ink.createModule("Ink.Util.Url","1",[],function(){"use strict";var a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",getUrl:function(){return window.location.href},genQueryString:function(a,b){var c,d,e,f=a.indexOf("?")!==-1,g=[a];for(d in b)b.hasOwnProperty(d)&&(f?c="&":(c="?",f=!0),e=b[d],"number"==typeof e||e||(e=""),g=g.concat([c,encodeURIComponent(d),"=",encodeURIComponent(e)]));return g.join("")},getQueryString:function(a){var b;b=a&&"undefined"!=typeof a?a:this.getUrl();var c={};if(b.match(/\?(.+)/i)){var d=b.replace(/^(.*)\?([^\#]+)(\#(.*))?/g,"$2");if(d.length>0)for(var e=d.split(/[;&]/),f=0;f<e.length;f++){var g=e[f].split("=");c[decodeURIComponent(g[0])]=!("undefined"==typeof g[1]||!g[1])&&decodeURIComponent(g[1])}}return c},getAnchor:function(a){var b;b=a&&"undefined"!=typeof a?a:this.getUrl();var c=!1;return b.match(/#(.+)/)&&(c=b.replace(/([^#]+)#(.*)/,"$2")),c},getAnchorString:function(a){var b;b=a&&"undefined"!=typeof a?a:this.getUrl();var c={};if(b.match(/#(.+)/i)){var d=b.replace(/^([^#]+)#(.*)?/g,"$2");if(d.length>0)for(var e=d.split(/[;&]/),f=0;f<e.length;f++){var g=e[f].split("=");c[decodeURIComponent(g[0])]=!("undefined"==typeof g[1]||!g[1])&&decodeURIComponent(g[1])}}return c},parseUrl:function(a){var b={};if(a&&"string"==typeof a){if(a.match(/^([^:]+):\/\//i)){var c=/^([^:]+):\/\/([^\/]*)\/?([^\?#]*)\??([^#]*)#?(.*)/i;a.match(c)&&(b.scheme=a.replace(c,"$1"),b.host=a.replace(c,"$2"),b.path="/"+a.replace(c,"$3"),b.query=a.replace(c,"$4")||!1,b.fragment=a.replace(c,"$5")||!1)}else{var d=new RegExp("^([^\\?]+)\\?([^#]+)#(.*)","i"),e=new RegExp("^([^\\?]+)\\?([^#]+)#?","i"),f=new RegExp("^([^\\?]+)\\??","i");a.match(d)?(b.scheme=!1,b.host=!1,b.path=a.replace(d,"$1"),b.query=a.replace(d,"$2"),b.fragment=a.replace(d,"$3")):a.match(e)?(b.scheme=!1,b.host=!1,b.path=a.replace(e,"$1"),b.query=a.replace(e,"$2"),b.fragment=!1):a.match(f)&&(b.scheme=!1,b.host=!1,b.path=a.replace(f,"$1"),b.query=!1,b.fragment=!1)}if(b.host){var g=/^(.*?)\\:(\\d+)$/i;if(b.host.match(g)){var h=b.host;b.host=h.replace(g,"$1"),b.port=h.replace(g,"$2")}else b.port=!1;if(b.host.match(/@/i)){var i=b.host;b.host=i.split("@")[1];var j=i.split("@")[0];j.match(/\:/)?(b.user=j.split(":")[0],b.pass=j.split(":")[1]):(b.user=j,b.pass=!1)}}}return b},format:function(a){var b="",c="",d="",e="",f="";return"string"==typeof a.protocol?b=a.protocol+"//":"string"==typeof a.scheme&&(b=a.scheme+"://"),c=a.host||a.hostname||"",d=a.path||"","string"==typeof a.query?f=a.query:"string"==typeof a.search&&(f=a.search.replace(/^\?/,"")),"string"==typeof a.fragment?e=a.fragment:"string"==typeof a.hash&&(e=a.hash.replace(/#$/,"")),[b,c,d,f&&"?"+f,e&&"#"+e].join("")},currentScriptElement:function(a){var b=document.getElementsByTagName("script");if("undefined"==typeof a)return b.length>0&&b[b.length-1];for(var c=!1,d=new RegExp(""+a,"i"),e=0,f=b.length;e<f;e++)if(c=b[e],d.test(c.src))return c;return!1}};return a}),Ink.createModule("Ink.Util.Validator","1",[],function(){"use strict";var a={_countryCodes:["AO","CV","MZ","TL","PT"],_internacionalPT:351,_indicativosPT:{21:"lisboa",22:"porto",231:"mealhada",232:"viseu",233:"figueira da foz",234:"aveiro",235:"arganil",236:"pombal",238:"seia",239:"coimbra",241:"abrantes",242:"ponte de sôr",243:"santarém",244:"leiria",245:"portalegre",249:"torres novas",251:"valença",252:"vila nova de famalicão",253:"braga",254:"peso da régua",255:"penafiel",256:"são joão da madeira",258:"viana do castelo",259:"vila real",261:"torres vedras",262:"caldas da raínha",263:"vila franca de xira",265:"setúbal",266:"évora",268:"estremoz",269:"santiago do cacém",271:"guarda",272:"castelo branco",273:"bragança",274:"proença-a-nova",275:"covilhã",276:"chaves",277:"idanha-a-nova",
278:"mirandela",279:"moncorvo",281:"tavira",282:"portimão",283:"odemira",284:"beja",285:"moura",286:"castro verde",289:"faro",291:"funchal, porto santo",292:"corvo, faial, flores, horta, pico",295:"angra do heroísmo, graciosa, são jorge, terceira",296:"ponta delgada, são miguel, santa maria",91:"rede móvel 91 (Vodafone / Yorn)",93:"rede móvel 93 (Optimus)",96:"rede móvel 96 (TMN)",92:"rede móvel 92 (TODOS)",707:"número único",760:"número único",800:"número grátis",808:"chamada local",30:"voip"},_internacionalCV:238,_indicativosCV:{2:"fixo",91:"móvel 91",95:"móvel 95",97:"móvel 97",98:"móvel 98",99:"móvel 99"},_internacionalAO:244,_indicativosAO:{2:"fixo",91:"móvel 91",92:"móvel 92"},_internacionalMZ:258,_indicativosMZ:{2:"fixo",82:"móvel 82",84:"móvel 84"},_internacionalTL:670,_indicativosTL:{3:"fixo",7:"móvel 7"},_characterGroups:{numbers:["0-9"],asciiAlpha:["a-zA-Z"],latin1Alpha:["a-zA-Z","À-ÿ"],unicodeAlpha:["a-zA-Z","À-ÿ","Ā-῿","Ⰰ-퟿"],space:[" "],dash:["-"],underscore:["_"],nicknamePunctuation:["_.-"],singleLineWhitespace:["\t "],newline:["\n"],whitespace:["\t\n\x0B\f\r  "],asciiPunctuation:["!-/",":-@","[-`","{-~"],latin1Punctuation:["!-/",":-@","[-`","{-~","¡-¿","×","÷"],unicodePunctuation:["!-/",":-@","[-`","{-~","¡-¿","×","÷"," -⁯","⸀-⹿","　-〿"]},createRegExp:function(b){var c="^[";for(var d in b)if(b.hasOwnProperty(d)){if(!(d in a._characterGroups))throw new Error("group "+d+" is not a valid character group");b[d]&&(c+=a._characterGroups[d].join(""))}return"^["===c?new RegExp("$^"):new RegExp(c+"]*?$")},checkCharacterGroups:function(b,c){return a.createRegExp(c).test(b)},unicode:function(b,c){return a.checkCharacterGroups(b,Ink.extendObj({unicodeAlpha:!0},c))},latin1:function(b,c){return a.checkCharacterGroups(b,Ink.extendObj({latin1Alpha:!0},c))},ascii:function(b,c){return a.checkCharacterGroups(b,Ink.extendObj({asciiAlpha:!0},c))},number:function(b,c){if(b+="",c=Ink.extendObj({decimalSep:".",thousandSep:"",negative:!0,decimalPlaces:null,maxDigits:null,max:null,min:null,returnNumber:!1},c||{}),c.thousandSep)return b=b.replace(new RegExp("\\"+c.thousandSep,"g"),""),c.thousandSep="",a.number(b,c);if(c.negative===!1)return c.min=0,c.negative=!0,a.number(b,c);if("."!==c.decimalSep&&(b=b.replace(new RegExp("\\"+c.decimalSep,"g"),".")),!/^(-)?(\d+)?(\.\d+)?$/.test(b)||""===b)return!1;var d;if(c.decimalSep&&b.indexOf(c.decimalSep)!==-1){if(d=b.split(c.decimalSep),null!==c.decimalPlaces&&d[1].length>c.decimalPlaces)return!1}else d=[""+b,""];if(null!==c.maxDigits&&d[0].replace(/-/g,"").length>c.maxDigits)return d;var e=parseFloat(b);return!(null!==c.maxExcl&&e>=c.maxExcl||null!==c.minExcl&&e<=c.minExcl)&&(!(null!==c.max&&e>c.max||null!==c.min&&e<c.min)&&(!c.returnNumber||e))},_isLeapYear:function(a){var b=/^\d{4}$/;return!!b.test(a)&&(!(a%4)&&(!!(a%100)||!(a%400)))},_dateParsers:{"yyyy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yyyy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{4})(\/)(\d{1,2})(\/)(\d{1,2})$/},"yy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{2})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{2})(\/)(\d{1,2})(\/)(\d{1,2})$/},"dd-mm-yyyy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{4})$/},"dd/mm/yyyy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{4})$/},"dd-mm-yy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{2})$/},"dd/mm/yy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{2})$/}},_daysInMonth:function(a,b){var c=0;return a=parseInt(a,10),b=parseInt(b,10),1===a||3===a||5===a||7===a||8===a||10===a||12===a?c=31:4===a||6===a||9===a||11===a?c=30:2===a&&(c=b%400===0||b%4===0&&b%100!==0?29:28),c},_isValidDate:function(a,b,c){var d=/^\d{4}$/,e=/^\d{1,2}$/;return!!(d.test(a)&&e.test(b)&&e.test(c)&&b>=1&&b<=12&&c>=1&&this._daysInMonth(b,a)>=c)},email:function(a){var b=new RegExp("^[_a-z0-9-]+((\\.|\\+)[_a-z0-9-]+)*@([\\w]*-?[\\w]*\\.)+[a-z]{2,4}$","i");return!!b.test(a)},mail:function(b){return a.email(b)},url:function(a,b){if("undefined"==typeof b||b===!1){var c=new RegExp("(^(http\\:\\/\\/|https\\:\\/\\/)(.+))","i");c.test(a)===!1&&(a="http://"+a)}var d=new RegExp("^(http:\\/\\/|https:\\/\\/)([\\w]*(-?[\\w]*)*\\.)+[a-z]{2,4}","i");return d.test(a)!==!1},isPTPhone:function(a){a=a.toString();var b=[];for(var c in this._indicativosPT)"string"==typeof this._indicativosPT[c]&&b.push(c);var d=b.join("|"),e=/^(00351|\+351)/;e.test(a)&&(a=a.replace(e,""));var f=/(\s|\-|\.)+/g;a=a.replace(f,"");var g=/[\d]{9}/i;if(9===a.length&&g.test(a)){var h=new RegExp("^("+d+")");if(h.test(a))return!0}return!1},isPortuguesePhone:function(a){return this.isPTPhone(a)},isCVPhone:function(a){a=a.toString();var b=[];for(var c in this._indicativosCV)"string"==typeof this._indicativosCV[c]&&b.push(c);var d=b.join("|"),e=/^(00238|\+238)/;e.test(a)&&(a=a.replace(e,""));var f=/(\s|\-|\.)+/g;a=a.replace(f,"");var g=/[\d]{7}/i;if(7===a.length&&g.test(a)){var h=new RegExp("^("+d+")");if(h.test(a))return!0}return!1},isAOPhone:function(a){a=a.toString();var b=[];for(var c in this._indicativosAO)"string"==typeof this._indicativosAO[c]&&b.push(c);var d=b.join("|"),e=/^(00244|\+244)/;e.test(a)&&(a=a.replace(e,""));var f=/(\s|\-|\.)+/g;a=a.replace(f,"");var g=/[\d]{9}/i;if(9===a.length&&g.test(a)){var h=new RegExp("^("+d+")");if(h.test(a))return!0}return!1},isMZPhone:function(a){a=a.toString();var b=[];for(var c in this._indicativosMZ)"string"==typeof this._indicativosMZ[c]&&b.push(c);var d=b.join("|"),e=/^(00258|\+258)/;e.test(a)&&(a=a.replace(e,""));var f=/(\s|\-|\.)+/g;a=a.replace(f,"");var g=/[\d]{8,9}/i;if((9===a.length||8===a.length)&&g.test(a)){var h=new RegExp("^("+d+")");if(h.test(a)){if(0===a.indexOf("2")&&8===a.length)return!0;if(0===a.indexOf("8")&&9===a.length)return!0}}return!1},isTLPhone:function(a){a=a.toString();var b=[];for(var c in this._indicativosTL)"string"==typeof this._indicativosTL[c]&&b.push(c);var d=b.join("|"),e=/^(00670|\+670)/;e.test(a)&&(a=a.replace(e,""));var f=/(\s|\-|\.)+/g;a=a.replace(f,"");var g=/[\d]{7}/i;if(7===a.length&&g.test(a)){var h=new RegExp("^("+d+")");if(h.test(a))return!0}return!1},isPhone:function(){var a;if(0===arguments.length)return!1;var b=arguments[0];if(arguments.length>1){if(arguments[1].constructor!==Array){if("function"==typeof this["is"+arguments[1].toUpperCase()+"Phone"])return this["is"+arguments[1].toUpperCase()+"Phone"](b);throw"Invalid Country Code!"}var c;for(a=0;a<arguments[1].length;a++){if("function"!=typeof(c=this["is"+arguments[1][a].toUpperCase()+"Phone"]))throw"Invalid Country Code!";if(c(b))return!0}}else for(a=0;a<this._countryCodes.length;a++)if(this["is"+this._countryCodes[a]+"Phone"](b))return!0;return!1},codPostal:function(a,b,c){var d=/^(\s*\-\s*|\s+)$/,e=/^\s+|\s+$/g,f=/^[1-9]\d{3}$/,g=/^\d{3}$/,h=/^(.{4})(.*)(.{3})$/;if(a=a.replace(e,""),"undefined"!=typeof b){if(b=b.replace(e,""),f.test(a)&&g.test(b))return!c||[!0,!0]}else{if(f.test(a))return!c||[!0,!1];var i=a.match(h);if(null!==i&&f.test(i[1])&&d.test(i[2])&&g.test(i[3]))return!c||[!0,!1]}return!!c&&[!1,!1]},isDate:function(a,b){if("undefined"==typeof this._dateParsers[a])return!1;var c=this._dateParsers[a].year,d=this._dateParsers[a].month,e=this._dateParsers[a].day,f=this._dateParsers[a].parser,g=this._dateParsers[a].sep,h=b.match(f);if(null!==h&&h[2]===h[4]&&h[2]===g){var i=2===h[c].length?"20"+h[c].toString():h[c];if(this._isValidDate(i,h[d].toString(),h[e].toString()))return!0}return!1},isColor:function(a){var b,c=!1,d=/^[a-zA-Z]+$/,e=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,f=/^rgb\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/,g=/^rgba\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/,h=/^hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/,i=/^hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/;if(d.test(a)||e.test(a))return!0;var j;if(null!==(b=f.exec(a))||null!==(b=g.exec(a)))for(j=b.length;j--;){if((2===j||4===j||6===j)&&"undefined"!=typeof b[j]&&""!==b[j]){if(!("undefined"!=typeof b[j-1]&&b[j-1]>=0&&b[j-1]<=100))return!1;c=!0}if(1===j||3===j||5===j&&("undefined"==typeof b[j+1]||""===b[j+1])){if(!("undefined"!=typeof b[j]&&b[j]>=0&&b[j]<=255))return!1;c=!0}}if(null!==(b=h.exec(a))||null!==(b=i.exec(a)))for(j=b.length;j--;){if(3===j||5===j){if(!("undefined"!=typeof b[j-1]&&"undefined"!=typeof b[j]&&""!==b[j]&&b[j-1]>=0&&b[j-1]<=100))return!1;c=!0}if(1===j){if(!("undefined"!=typeof b[j]&&b[j]>=0&&b[j]<=360))return!1;c=!0}}return c},isIP:function(a,b){if("string"!=typeof a)return!1;switch(b=(b||"ipv4").toLowerCase()){case"ipv4":return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(a);case"ipv6":return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);default:return!1}},_creditCardSpecs:{"default":{length:"13,14,15,16,17,18,19",prefix:/^.+/,luhn:!0},"american express":{length:"15",prefix:/^3[47]/,luhn:!0},"diners club":{length:"14,16",prefix:/^36|55|30[0-5]/,luhn:!0},discover:{length:"16",prefix:/^6(?:5|011)/,luhn:!0},jcb:{length:"15,16",prefix:/^3|1800|2131/,luhn:!0},maestro:{length:"16,18",prefix:/^50(?:20|38)|6(?:304|759)/,luhn:!0},mastercard:{length:"16",prefix:/^5[1-5]/,luhn:!0},visa:{length:"13,16",prefix:/^4/,luhn:!0}},_luhn:function(a){if(a=parseInt(a,10),"number"!=typeof a&&a%1!==0)return!1;a+="";var b,c=a.length,d=0;for(b=c-1;b>=0;b-=2)d+=parseInt(a.substr(b,1),10);for(b=c-2;b>=0;b-=2){var e=parseInt(2*a.substr(b,1),10);d+=e>=10?e-9:e}return d%10===0},isCreditCard:function(a,b){if(/\d+/.test(a)===!1)return!1;if("undefined"==typeof b)b="default";else if(b instanceof Array){var c,d=b.length;for(c=0;c<d;c++)if(this.isCreditCard(a,b[c]))return!0;return!1}if(b=b.toLowerCase(),"undefined"==typeof this._creditCardSpecs[b])return!1;var e=a.length+"";return this._creditCardSpecs[b].length.split(",").indexOf(e)!==-1&&(!!this._creditCardSpecs[b].prefix.test(a)&&(this._creditCardSpecs[b].luhn===!1||this._luhn(a)))},getEANCheckDigit:function(a){var b,c,d=0;for(a=String(a);a.length<12;)a="00000"+a;for(b=a.length,c=b-1;c>=0;c--)d+=(c%2*2+1)*Number(a.charAt(c));return 10-d%10},isEAN:function(b,c){switch(void 0===c&&(c="ean-13"),c){case"ean-13":if(13!==b.length)return!1;break;case"ean-8":if(8!==b.length)return!1;break;default:return!1}var d=b.substr(0,b.length-1),e=b.charAt(b.length-1),f=a.getEANCheckDigit(d);return String(f)===e}};return a}),Ink.createModule("Ink.UI.Carousel","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.UI.Pagination_1","Ink.Dom.Browser_1","Ink.Dom.Selector_1"],function(a,b,c,d,e,f){"use strict";function g(a,b,c){return Math.min(c,Math.max(b,a))}function h(){a.BaseUIComponent.apply(this,arguments)}function i(a,b){a.style.transitionProperty=a.style.oTransitionProperty=a.style.msTransitionProperty=a.style.mozTransitionProperty=a.style.webkitTransitionProperty=b}var j=window.requestAnimationFrame||function(a){return setTimeout(a,1e3/30)};return h._name="Carousel_1",h._optionDefinition={autoAdvance:["Integer",0],axis:["String","x"],initialPage:["Integer",0],spaceAfterLastSlide:["Boolean",!0],keyboardSupport:["Boolean",!1],pagination:["String",null],onChange:["Function",null],onInit:["Function",function(){}],swipe:["Boolean",!0]},h.prototype={_validate:function(){var a=Ink.s("ul.stage",this._element);if(!a)return new Error("Carousel must contain a ul.stage element!")},_init:function(){this._handlers={paginationChange:Ink.bindMethod(this,"_onPaginationChange"),windowResize:b.throttle(Ink.bindMethod(this,"refit"),200)},b.observe(window,"resize",this._handlers.windowResize),this._isY="y"===this._options.axis;var a=Ink.s("ul.stage",this._element);a.style.width="100%",this._ulEl=a,d.removeTextNodeChildren(a),null==this._options.pagination&&(this._currentPage=this._options.initialPage),this.refit(),this._isY&&(this._ulEl.style.whiteSpace="normal"),this._options.swipe&&(b.observe(this._element,"touchstart",Ink.bindMethod(this,"_onTouchStart")),b.observe(this._element,"touchmove",Ink.bindMethod(this,"_onTouchMove")),b.observe(this._element,"touchend",Ink.bindMethod(this,"_onTouchEnd"))),this._setUpPagination(),this._setUpAutoAdvance(),this._options.onInit.call(this,this)},refit:function(){var a=this._isY,b=function(b,c){return b?c?d.outerDimensions(b)[a?0:1]:d.outerDimensions(b)[a?1:0]:0};this._liEls=Ink.ss("li.slide",this._ulEl);var c=this._liEls.length,e=this._ulEl.getBoundingClientRect();this._ctnLength=a?e.bottom-e.top:e.right-e.left,this._elLength=b(this._liEls[0]),this._slidesPerPage=Math.floor(this._ctnLength/this._elLength)||1,isFinite(this._slidesPerPage)||(this._slidesPerPage=1);var f=Math.ceil(c/this._slidesPerPage),h=this._numPages!==f;this._numPages=f,this._deltaLength=this._slidesPerPage*this._elLength,this._IE7(),this._pagination&&h&&this._pagination.setSize(this._numPages),this.setPage(g(this.getPage(),0,this._numPages-1))},_setUpPagination:function(){this._options.pagination?(a.isDOMElement(this._options.pagination)||"string"==typeof this._options.pagination?this._pagination=new e(this._options.pagination,{size:this._numPages,onChange:this._handlers.paginationChange}):(this._pagination=this._options.pagination,this._pagination.setOnChange(this._handlers.paginationChange),this._pagination.setSize(this._numPages)),this._pagination.setCurrent(this._options.initialPage||0)):this._currentPage=this._options.initialPage||0},_setUpAutoAdvance:function(){this._options.autoAdvance&&this.autoAdvance(this._options.autoAdvance)},autoAdvance:function(a){function b(){c.nextPage(!0),c._autoAdvanceSto=setTimeout(b,a)}if(!this._autoAdvanceSto){var c=this;this._autoAdvanceSto=setTimeout(b,a)}},stopAutoAdvance:function(){this._autoAdvanceSto&&(clearTimeout(this._autoAdvanceSto),this._autoAdvanceSto=null)},_IE7:function(){if(f.IE&&""+f.version.split(".")[0]=="7")for(var a=Ink.ss("li.slide",this._ulEl),b=function(b,d){a[c].style[b]=d},c=0,d=a.length;c<d;c++)b("position","absolute"),b(this._isY?"top":"left",c*this._elLength+"px")},_onTouchStart:function(a){if(!(a.touches.length>1)){this._swipeData={x:b.pointerX(a),y:b.pointerY(a)};var c=this._ulEl.getBoundingClientRect();this._swipeData.firstUlPos=c[this._isY?"top":"left"],this._swipeData.inUlX=this._swipeData.x-c.left,this._swipeData.inUlY=this._swipeData.y-c.top,i(this._ulEl,"none"),this._touchMoveIsFirstTouchMove=!0}},_onTouchMove:function(a){if(!(a.touches.length>1)){var c=b.pointerX(a),d=b.pointerY(a),e=this._swipeData.y-d,f=this._swipeData.x-c;if(this._touchMoveIsFirstTouchMove){var g=Math.abs(e),h=Math.abs(f);this._touchMoveIsFirstTouchMove=void 0,this._scrolling=this._isY?h>g:g>h,this._scrolling||this._onAnimationFrame()}!this._scrolling&&this._swipeData&&(b.stopDefault(a),this._swipeData.pointerDelta=this._isY?e:f,this._swipeData.pointerPos=this._isY?d:c)}},_onAnimationFrame:function(){var a=this._swipeData;if(a&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var b,c=this._element.getBoundingClientRect();b=this._isY?a.pointerPos-a.inUlY-c.top:a.pointerPos-a.inUlX-c.left,this._ulEl.style[this._isY?"top":"left"]=b+"px",j(Ink.bindMethod(this,"_onAnimationFrame"))}},_onTouchEnd:function(a){if(this._swipeData&&this._swipeData.pointerPos&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var c=.1,d=this._swipeData.pointerDelta,e=this.getPage(),f=d/this._elLength/this._slidesPerPage;Math.abs(f)>c&&(e+=Math[d<0?"floor":"ceil"](f)),e=g(e,0,this._numPages-1),isNaN(e)||this.setPage(e),b.stopDefault(a)}i(this._ulEl,null),this._swipeData=null,this._touchMoveIsFirstTouchMove=void 0,this._scrolling=void 0},_onPaginationChange:function(a){this._setPage(a.getCurrent())},getPage:function(){return this._pagination?this._pagination.getCurrent():this._currentPage||0},getPagination:function(){return this._pagination||null},setPage:function(a,b){return b&&(a%=this._numPages,a<0&&(a=this._numPages-a)),a=g(a,0,this._numPages-1),a===this._currentPage?void(this._swipeData&&this._setPage(a)):void(this._pagination?this._pagination.setCurrent(a):this._setPage(a))},_setPage:function(a){var b=a*this._deltaLength,c=a===this._numPages-1;if(!this._options.spaceAfterLastSlide&&c&&a>0){var d=this._liEls.length-a*this._slidesPerPage;d<this._slidesPerPage&&(b=(a-1)*this._deltaLength+d*this._elLength)}this._ulEl.style[this._isY?"top":"left"]=["-",b/this._ctnLength*100,"%"].join(""),this._options.onChange&&this._options.onChange.call(this,a),this._currentPage=a},nextPage:function(a){this.setPage(this.getPage()+1,a)},previousPage:function(a){this.setPage(this.getPage()-1,a)},getSlidesPerPage:function(){return this._slidesPerPage},getTotalPages:function(){return this._numPages},getStageElm:function(){return this._ulEl},getSlidesList:function(){return this._liEls},getTotalSlides:function(){return this.getSlidesList().length}},a.createUIComponent(h),h}),Ink.createModule("Ink.UI.Close","1",["Ink.Dom.Event_1","Ink.Dom.Element_1"],function(a,b){"use strict";function c(){a.observe(document.body,"click",function(c){var d=a.element(c);if(d=b.findUpwardsByClass(d,"ink-close")||b.findUpwardsByClass(d,"ink-dismiss")){var e=b.findUpwardsByClass(d,"ink-alert")||b.findUpwardsByClass(d,"ink-alert-block")||d;e&&(a.stopDefault(c),b.remove(e))}})}return c._name="Close_1",c}),Ink.createModule("Ink.UI.Common","1",["Ink.Dom.Element_1","Ink.Net.Ajax_1","Ink.Dom.Css_1","Ink.Dom.Selector_1","Ink.Util.Url_1"],function(a,b,c,d,e){"use strict";function f(){this&&this!==window&&"function"==typeof this.constructor&&Ink.warn("You called a method on an incorrectly instantiated "+this.constructor._name+" component. Check the warnings above to see what went wrong.")}function g(a,b){for(var c in a)if(a.hasOwnProperty(c)){if("constructor"===c)continue;"function"==typeof b[c]&&(b[c]=f)}}function h(a,b){var c=this.constructor,d=c._name;if(!this||this===window)throw new Error('Use "new InkComponent()" instead of "InkComponent()"');if(this&&!(this instanceof h))throw new Error("You forgot to call Ink.UI.Common.createUIComponent() on this module!");if(!a&&!c._componentOptions.elementIsOptional)return void Ink.error(new Error(d+': You need to pass an element or a selector as the first argument to "new '+d+'()"'));this._element=o.elsOrSelector(a,d+': An element with the selector "'+a+'" was not found!')[0],this._element||c._componentOptions.elementIsOptional||(e=!1,Ink.error(new Error(a+' does not match an element on the page. You need to pass a valid selector to "new '+d+'".'))),this._options=o.options(d,c._optionDefinition,b,this._element);var e=h._validateInstance(this)===!0;if(e&&"function"==typeof this._init)try{this._init.apply(this,arguments)}catch(f){e=!1,Ink.error(f)}e?this._element&&o.registerInstance(this):h._stubInstance(this,c,d)}var i={},j=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},k="WeakMap"in window,l=k?new WeakMap:null,m=[],n={get:function(a){return k?l.get(a):m[a.getAttribute("__InkInstance")]},set:function(a,b){k?l.set(a,b):a.setAttribute("__InkInstance",m.push(b)-1)}},o={Layouts:{TINY:"tiny",SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},isDOMElement:a.isDOMElement,isInteger:function(a){return"number"==typeof a&&a%1===0},elOrSelector:function(a,b){if(!o.isDOMElement(a)){var c=d.select(a);return 0===c.length?(Ink.warn(b+" must either be a DOM Element or a selector expression!\nThe script element must also be after the DOM Element itself."),null):c[0]}return a},elsOrSelector:function(a,b,c){var e;if("string"==typeof a?e=d.select(a):o.isDOMElement(a)?e=[a]:a&&"object"==typeof a&&"number"==typeof a.length&&(e=a),e&&e.length)return e;if(c)throw new TypeError(b+" must either be a DOM Element, an Array of elements, or a selector expression!\nThe script element must also be after the DOM Element itself.");return[]},options:function(b,c,d,e){function f(a){return h=c[a][0],k=h.toLowerCase(),l=2===c[a].length?c[a][1]:i,h||r("Ink.UI.Common.options: Always specify a type!"),k in o._coerce_funcs||r("Ink.UI.Common.options: "+c[a][0]+" is not a valid type. Use one of "+j(o._coerce_funcs).join(", ")),(!c[a].length||c[a].length>2)&&r('the "defaults" argument must be an object mapping option names to [typestring, optional] arrays.'),g=a in n?o._coerce_from_string(k,n[a],a,b):i,g!==i?o._options_validate(g,k)?g:(s("("+a+" option) Invalid "+k+" "+q(g)),l):a in d?d[a]:l!==i?l:void r("Option "+a+" is required!")}"string"!=typeof b&&(e=d,d=c,c=b,b=""),d=d||{};var g,h,k,l,m={},n=e?a.data(e):{},p=function(a){return b&&(a=b+': "'+(""+a).replace(/"/,'\\"')+'"'),a},q=function(a){return'"'+(""+a).replace(/"/,'\\"')+'"'},r=function(a){throw new Error(p(a))},s=function(a){Ink.error(p(a)+". Ignoring option.")};for(var t in c)c.hasOwnProperty(t)&&(m[t]=f(t));return m},_coerce_from_string:function(a,b,c,d){return a in o._coerce_funcs?o._coerce_funcs[a](b,c,d):b},_options_validate:function(a,b){return b in o._options_validate_types&&o._options_validate_types[b].call(o,a)},_coerce_funcs:function(){var a={element:function(a){return o.elOrSelector(a,"")},elements:function(a){return o.elsOrSelector(a,"",!1)},object:function(a){return a},number:function(a){return parseFloat(a)},"boolean":function(a){return!("false"===a||""===a||null===a)},string:function(a){return a},"function":function(a,b,c){return Ink.error(c+': You cannot specify the option "'+b+"\" through data-attributes because it's a function"),i}};return a["float"]=a.integer=a.number,a}(),_options_validate_types:function(){var a={string:function(a){return"string"==typeof a},number:function(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)},integer:function(a){return a===Math.round(a)},element:function(a){return o.isDOMElement(a)},elements:function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&a.length},"boolean":function(a){return"boolean"==typeof a},object:function(){return!0}};return a["float"]=a.number,a}(),clone:function(a){try{return JSON.parse(JSON.stringify(a))}catch(b){throw new Error("Given object cannot have loops!")}},childIndex:a.parentIndexOf,ajaxJSON:function(a,c,d){new b(a,{evalJS:"force",method:"POST",parameters:c,onSuccess:function(a){try{if(a=a.responseJSON,"ok"!==a.status)throw"server error: "+a.message;d(null,a)}catch(b){d(b)}},onFailure:function(){d("communication failure")}})},currentLayout:function(){var a,b,e,f,g,h=d.select("#ink-layout-detector")[0];if(!h){h=document.createElement("div"),h.id="ink-layout-detector";for(e in o.Layouts)o.Layouts.hasOwnProperty(e)&&(f=o.Layouts[e],g=document.createElement("div"),g.className="show-"+f+" hide-all",g.setAttribute("data-ink-layout",f),h.appendChild(g));document.body.appendChild(h)}for(a=0,b=h.children.length;a<b;++a)if(g=h.children[a],"block"===c.getStyle(g,"display"))return g.getAttribute("data-ink-layout");return"large"},hashSet:function(a){if("object"!=typeof a)throw new TypeError("o should be an object!");var b=e.getAnchorString();b=Ink.extendObj(b,a),window.location.hash=e.genQueryString("",b).substring(1)},cleanChildren:function(b){if(!o.isDOMElement(b))throw new Error("Please provide a valid DOMElement");a.clear(b)},storeIdAndClasses:function(a,b){if(!o.isDOMElement(a))throw"Please provide a valid Element as first parameter";var c=a.id;c&&(b._id=c);var d=a.className;d&&(b._classes=d)},restoreIdAndClasses:function(a,b){if(!o.isDOMElement(a))throw"Please provide a valid Element as first parameter";b._id&&a.id!==b._id&&(a.id=b._id),b._classes&&a.className.indexOf(b._classes)===-1&&(a.className?a.className+=" "+b._classes:a.className=b._classes),b._instanceId&&!a.getAttribute("data-instance")&&a.setAttribute("data-instance",b._instanceId)},_warnDoubleInstantiation:function(a,b){function c(a){return(a.constructor&&a.constructor._name||a._name||"").replace(/_.*?$/,"")}var d=o.getInstance(a);if(""!==c(b)&&d){var e=c(b);if(e){for(var f=0,g=d.length;f<g;f++)if(e===c(d[f]))return Ink.warn("Creating more than one "+e+" for the same element.","(Was creating a "+e+" on:",a,")."),!1;return!0}}},registerInstance:function(a,b){if(a){if(b||(b=a._element),!o.isDOMElement(b))throw new TypeError("Ink.UI.Common.registerInstance: The element passed in is not a DOM element!");if(o._warnDoubleInstantiation(b,a)===!1)return!1;var c=n.get(b);return c||(c=[],n.set(b,c)),c.push(a),!0}},unregisterInstance:function(a){if(a&&a._element)for(var b=n.get(a._element),c=0,d=b.length;c<d;c++)b[c]===a&&b.splice(c,1)},getInstance:function(a,b){var c=a;if(a=o.elOrSelector(a),!o.isDOMElement(a))return Ink.warn("Ink.UI.Common: getInstance called on non-element ("+c+")"),[];var d=n.get(a);if(d||(d=[]),"function"!=typeof b)return d;for(var e=0,f=d.length;e<f;e++)if(d[e]instanceof b)return d[e];return null},getInstanceFromSelector:function(a){return o.getInstance(a)},getInstanceIds:function(){if(m.length>0)return m;var a=[];for(var b in l)l.hasOwnProperty(b)&&a.push(b);return a},getInstances:function(){if(m.length>0)return m;var a=[];for(var b in l)l.hasOwnProperty(b)&&a.push(l[b]);return a},destroyComponent:function(){o.unregisterInstance(this),this._element.parentNode.removeChild(this._element)}};return h._validateInstance=function(a){var b;if("function"!=typeof a._validate)return!0;try{b=a._validate()}catch(c){b=c}return!(b instanceof Error)||(a._validationError=b,!1)},h._stubInstance=function(a,b,c){g(b.prototype,a),g(h.prototype,a),Ink.warn(c+" was not correctly created. "+(a._validationError||""))},h.getInstance=function(a){return a=o.elOrSelector(a),o.getInstance(a,this)},Ink.extendObj(h.prototype,{getOption:function(a){return!this.constructor||a in this.constructor._optionDefinition?this._options[a]:void Ink.error('"'+a+'" is not an option for '+this.constructor._name)},setOption:function(a,b){return!this.constructor||a in this.constructor._optionDefinition?void(this._options[a]=b):void Ink.error('"'+a+" is not an option for "+this.constructor._name)},getElement:function(){return this._element}}),o.BaseUIComponent=h,o.createUIComponent=function(a,b){function c(a,b){if(!a)throw new Error("Ink.UI_1.createUIComponent: "+b)}function d(b,d,e){var f=a[b];c("undefined"!=typeof f,a+" doesn't have a \""+b+'" property. '+e),c(d&&typeof f===d,"typeof "+a+"."+b+' is not "'+d+'". '+e)}a._componentOptions=b||{},c("function"==typeof a,"constructor argument is not a function!"),d("_name","string","This property is used for error messages. Set it to the full module path and version (Ink.My.Module_1)."),d("_optionDefinition","object","This property contains the option names, types and defaults. See Ink.UI.Common.options() for reference.");var e=a.prototype;"function"==typeof Object.create?a.prototype=Object.create(h.prototype):a.prototype=function(){function a(){}return a.prototype=h.prototype,new a}(),Ink.extendObj(a.prototype,e),a.prototype.constructor=a,Ink.extendObj(a,h)},o}),Ink.createModule("Ink.UI.DatePicker","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Util.Date_1","Ink.Util.I18n_1"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c){return a>c&&(a=c),a<b&&(a=b),a}function j(a){var b=a.split("-");return l(+b[0],+b[1]-1,+b[2])}function k(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(a,b,c){return{_year:a,_month:b,_day:c}}function m(a){return{_year:a.getFullYear(),_month:a.getMonth(),_day:a.getDate()}}function n(a){return 10*Math.floor(a/10)}function o(){a.BaseUIComponent.apply(this,arguments)}var p=new h({pt_PT:{"datepicker.clean":"Limpar","datepicker.close":"Fechar","datepicker.format":"dd-mm-yyyy","datepicker.of":" de ","datepicker.next_button":"»","datepicker.prev_button":"«","datepicker.months":{1:"Janeiro",2:"Fevereiro",3:"Março",4:"Abril",5:"Maio",6:"Junho",7:"Julho",8:"Agosto",9:"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"},"datepicker.week_days":{0:"Domingo",1:"Segunda-feira",2:"Terça-feira",3:"Quarta-feira",4:"Quinta-feira",5:"Sexta-feira",6:"Sábado"}},en_US:{"datepicker.clean":"Clear","datepicker.close":"Close","datepicker.format":"dd-mm-yyyy","datepicker.of":" of ","datepicker.next_button":"»","datepicker.prev_button":"«","datepicker.months":{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},"datepicker.week_days":{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}}},"en_US");return o._name="DatePicker_1",o._optionDefinition={autoOpen:["Boolean",!1],pickerField:["Element",null],containerElement:["Element",null],cssClass:["String","ink-calendar bottom"],dateRange:["String",null],displayInSelect:["Boolean",!1],dayField:["Element",null],monthField:["Element",null],yearField:["Element",null],createSelectOptions:["Boolean",!1],format:["String","yyyy-mm-dd"],onFocus:["Boolean",!0],onMonthSelected:["Function",null],onSetDate:["Function",null],onYearSelected:["Function",null],position:["String","right"],showClean:["Boolean",!0],showClose:["Boolean",!0],shy:["Boolean",!0],startDate:["String",null],startWeekDay:["Number",1],validDayFn:["Function",null],validMonthFn:["Function",null],validYearFn:["Function",null],nextValidDateFn:["Function",null],prevValidDateFn:["Function",null],yearRange:["String",null],lang:["String",null],month:["Object",null],wDay:["Object",null],nextLinkText:["String",null],prevLinkText:["String",null],ofText:["String",null],cleanText:["String",null],closeText:["String",null]},o.prototype={_init:function(){this.i18n=p.clone(),this._options.lang&&this.i18n.lang(this._options.lang);var a=this._options.lang||p.lang(),b={};b[a]={},this._options.month&&(b[a]["datepicker.months"]=this._options.month),this._options.wDay&&(b[a]["datepicker.week_days"]=this._options.wDay),this._options.nextLinkText&&(b[a]["datepicker.next_button"]=this._options.nextLinkText),this._options.prevLinkText&&(b[a]["datepicker.prev_button"]=this._options.prevLinkText),this._options.ofText&&(b[a]["datepicker.of"]=this._options.ofText),this._options.cleanText&&(b[a]["datepicker.clean"]=this._options.cleanText),this._options.closeText&&(b[a]["datepicker.close"]=this._options.closeText),k(b[a]).length&&this.i18n.append(b),this._options.format=this._dateParsers[this._options.format]||this._options.format,this._hoverPicker=!1,this._picker=this._options.pickerField||null,this._setMinMax(this._options.dateRange||this._options.yearRange),this._options.startDate?this.setDate(this._options.startDate):this._element&&this._element.value?this.setDate(this._element.value):this.setDate(new Date),(this._options.startWeekDay<0||this._options.startWeekDay>6)&&(Ink.warn('Ink.UI.DatePicker_1: option "startWeekDay" must be between 0 (sunday) and 6 (saturday)'),this._options.startWeekDay=i(this._options.startWeekDay,0,6)),this._options.displayInSelect&&this._options.createSelectOptions&&this._createSelectOptions(),Ink.extendObj(this._options,this._lang||{}),this._render(),this._listenToContainerObjectEvents();
},_validate:function(){if(this._options.displayInSelect&&!(this._options.dayField&&this._options.monthField&&this._options.yearField))throw new Error("Ink.UI.DatePicker: displayInSelect option enabled.Please specify dayField, monthField and yearField selectors.")},_render:function(){this._containerObject=document.createElement("div"),this._containerObject.className=this._options.cssClass+" ink-datepicker-calendar hide-all",this._renderSuperTopBar();var b=document.createElement("div");b.className="ink-calendar-top",this._monthDescContainer=document.createElement("div"),this._monthDescContainer.className="ink-calendar-month_desc",this._monthPrev=document.createElement("div"),this._monthPrev.className="ink-calendar-prev",this._monthPrev.appendChild(d.create("a",{href:"#prev",className:"change_month_prev",setHTML:this.i18n.text("datepicker.prev_button")})),this._monthNext=document.createElement("div"),this._monthNext.className="ink-calendar-next",this._monthNext.appendChild(d.create("a",{href:"#next",className:"change_month_next",setHTML:this.i18n.text("datepicker.next_button")})),b.appendChild(this._monthPrev),b.appendChild(this._monthDescContainer),b.appendChild(this._monthNext),this._monthContainer=document.createElement("div"),this._monthContainer.className="ink-calendar-month",this._containerObject.appendChild(b),this._containerObject.appendChild(this._monthContainer),this._monthSelector=this._renderMonthSelector(),this._containerObject.appendChild(this._monthSelector),this._yearSelector=document.createElement("ul"),this._yearSelector.className="ink-calendar-year-selector",this._containerObject.appendChild(this._yearSelector),this._options.onFocus&&!this._options.displayInSelect||(this._options.pickerField?this._picker=a.elOrSelector(this._options.pickerField,"pickerField"):this._picker=d.create("a",{href:"#open_cal",setHTML:"open",insertBottom:this._element.parentNode,className:"ink-datepicker-picker-field"})),this._appendDatePickerToDom(),this._renderMonth(),this._monthChanger=d.create("a",{href:"#monthchanger",className:"ink-calendar-link-month",setTextContent:this.i18n.getKey("datepicker.months")[this._month+1]}),this._ofText=d.create("span",{className:"ink-calendar-of-text",setTextContent:this.i18n.text("datepicker.of")}),this._yearChanger=d.create("a",{href:"#yearchanger",className:"ink-calendar-link-year",setTextContent:this._year}),this._monthDescContainer.appendChild(this._monthChanger),this._monthDescContainer.appendChild(this._ofText),this._monthDescContainer.appendChild(this._yearChanger),this._options.inline?this.show():this._addOpenCloseEvents(),this._addDateChangeHandlersToInputs()},_addDateChangeHandlersToInputs:function(){var a=this._element;this._options.displayInSelect&&(a=[this._options.dayField,this._options.monthField,this._options.yearField]),b.observeMulti(a,"change",Ink.bindEvent(function(){this._updateDate(),this._showDefaultView(),this.setDate(),this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()}),this._inline||this._hoverPicker||this._hide(!0)},this))},show:function(){this._updateDate(),this._renderMonth(),c.removeClassName(this._containerObject,"hide-all")},_addOpenCloseEvents:function(){var a=this._picker||this._element;b.observe(a,"click",Ink.bindEvent(function(a){b.stopDefault(a),this.show()},this)),this._options.autoOpen&&this.show(),this._options.displayInSelect||b.observe(a,"blur",Ink.bindEvent(function(){this._hoverPicker||this._hide(!0)},this)),this._options.shy&&b.observe(document,"click",Ink.bindEvent(function(a){for(var c=b.element(a),e=[this._options.dayField,this._options.monthField,this._options.yearField,this._picker,this._containerObject,this._element],f=0,g=e.length;f<g;f++)if(e[f]&&(d.descendantOf(e[f],c)||e[f]===c))return;this._hide(!0)},this))},_renderMonthSelector:function(){var a=document.createElement("ul");a.className="ink-calendar-month-selector";for(var b=document.createElement("ul"),c=1;c<=12;c++)b.appendChild(this._renderMonthButton(c)),c%4===0&&(a.appendChild(b),b=document.createElement("ul"));return a},_renderMonthButton:function(a){var b=document.createElement("li");return b.appendChild(d.create("a",{"data-cal-month":a,setTextContent:this.i18n.getKey("datepicker.months")[a].substring(0,3)})),b},_appendDatePickerToDom:function(){if(this._options.containerElement){var b=a.elOrSelector(this._options.containerElement);b.appendChild(this._containerObject)}var c=e.matchesSelector(this._element.parentNode,".ink-form .control-group .control, .ink-form .control-group .control > *");c?(this._wrapper=this._element.parentNode,this._wrapperIsControl=!0):(this._wrapper=d.create("div",{className:"ink-datepicker-wrapper"}),d.wrap(this._element,this._wrapper)),d.insertAfter(this._containerObject,this._element)},_renderSuperTopBar:function(){this._options.showClose&&this._options.showClean&&(this._superTopBar=document.createElement("div"),this._superTopBar.className="ink-calendar-top-options",this._options.showClean&&this._superTopBar.appendChild(d.create("a",{className:"clean",setHTML:this.i18n.text("datepicker.clean")})),this._options.showClose&&this._superTopBar.appendChild(d.create("a",{className:"close",setHTML:this.i18n.text("datepicker.close")})),this._containerObject.appendChild(this._superTopBar))},_listenToContainerObjectEvents:function(){b.observe(this._containerObject,"mouseover",Ink.bindEvent(function(a){b.stopDefault(a),this._hoverPicker=!0},this)),b.observe(this._containerObject,"mouseout",Ink.bindEvent(function(a){b.stopDefault(a),this._hoverPicker=!1},this)),b.observe(this._containerObject,"click",Ink.bindEvent(this._onClick,this))},_onClick:function(a){var d=b.element(a);return c.hasClassName(d,"ink-calendar-off")?(b.stopDefault(a),null):(b.stopDefault(a),this._onRelativeChangerClick(d),this._onAbsoluteChangerClick(d),c.hasClassName(d,"ink-calendar-link-month")?this._showMonthSelector():c.hasClassName(d,"ink-calendar-link-year")?this._showYearSelector():c.hasClassName(d,"clean")?this._clean():c.hasClassName(d,"close")&&this._hide(!1),void this._updateDescription())},_onRelativeChangerClick:function(a){var b={change_year_next:1,change_year_prev:-1},c={change_month_next:1,change_month_prev:-1};a.className in c?this._updateCal(c[a.className]):a.className in b&&this._showYearSelector(b[a.className])},_onAbsoluteChangerClick:function(a){var b=d.data(a);Number(b.calDay)?(this.setDate(new Date(this._year,this._month,b.calDay),a),this._options.shy?this._hide():this._updateCal()):Number(b.calMonth)?(this._month=Number(b.calMonth)-1,this._showDefaultView(),this._updateCal()):Number(b.calYear)&&this._changeYear(Number(b.calYear))},_changeYear:function(a){a=+a,isNaN(a)||(this._year=a,"function"==typeof this._options.onYearSelected&&this._options.onYearSelected(this,{year:this._year}),this._showMonthSelector())},_clean:function(){this._options.displayInSelect?(this._options.yearField.selectedIndex=0,this._options.monthField.selectedIndex=0,this._options.dayField.selectedIndex=0):this._element.value=""},_hide:function(a){a=void 0===a||a,(a===!1||a&&this._options.shy)&&c.addClassName(this._containerObject,"hide-all")},_setMinMax:function(a){function b(){c._min=d,c._max=e}var c=this,d={_year:-Number.MAX_VALUE,_month:0,_day:1},e={_year:Number.MAX_VALUE,_month:11,_day:31};if(!a)return b();var g=a.split(":"),h=/^(\d{4})((\-)(\d{1,2})((\-)(\d{1,2}))?)?$/;f.each([{name:"_min",date:g[0],noLim:d},{name:"_max",date:g[1],noLim:e}],Ink.bind(function(a){var b=a.noLim;if("NOW"===a.date.toUpperCase()){var c=new Date;b=m(c)}else"EVER"===a.date.toUpperCase()?b=a.noLim:h.test(a.date)&&(b=j(a.date),b._month=i(b._month,0,11),b._day=i(b._day,1,this._daysInMonth(b._year,b._month+1)));this[a.name]=b},this));var k=this._dateCmp(this._max,this._min)!==-1;k||b()},_fitDateToRange:function(a){return this._isValidDate(a)||(a=m(new Date)),this._dateCmp(a,this._min)===-1?Ink.extendObj({},this._min):1===this._dateCmp(a,this._max)?Ink.extendObj({},this._max):Ink.extendObj({},a)},_dateWithinRange:function(a){return arguments.length||(a=this),!this._dateAboveMax(a)&&!this._dateBelowMin(a)},_dateAboveMax:function(a){return 1===this._dateCmp(a,this._max)},_dateBelowMin:function(a){return this._dateCmp(a,this._min)===-1},_dateCmp:function(a,b){return this._dateCmpUntil(a,b,"_day")},_dateCmpUntil:function(a,b,c){var d=["_year","_month","_day"],e=-1;do{if(e++,a[d[e]]>b[d[e]])return 1;if(a[d[e]]<b[d[e]])return-1}while(d[e]!==c&&void 0!==a[d[e+1]]&&void 0!==b[d[e+1]]);return 0},_createSelectOptions:function(){function a(){var a=new Date((+g.value),e.value-1+1,0).getDate();d.setHTML(c,""),d.fillSelect(c,f.range(1,a+1),!0)}var c=this._options.dayField,e=this._options.monthField,g=this._options.yearField;d.setHTML(e,""),d.setHTML(g,""),d.fillSelect(e,f.map(["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],function(a,b){return[b+1,a]}),!0),d.fillSelect(g,f.range(1900,2e3),!0),b.observeMulti([e,g],"change",a),a()},_showDefaultView:function(){this._yearSelector.style.display="none",this._monthSelector.style.display="none",this._monthPrev.childNodes[0].className="change_month_prev",this._monthNext.childNodes[0].className="change_month_next",this._getPrevMonth()||(this._monthPrev.childNodes[0].className="action_inactive"),this._getNextMonth()||(this._monthNext.childNodes[0].className="action_inactive"),this._monthContainer.style.display="block"},_updateDate:function(){var a;!this._options.displayInSelect&&this._element.value?a=this._parseDate(this._element.value):this._options.displayInSelect&&(a={_year:this._options.yearField[this._options.yearField.selectedIndex].value,_month:this._options.monthField[this._options.monthField.selectedIndex].value-1,_day:this._options.dayField[this._options.dayField.selectedIndex].value}),a&&(a=this._fitDateToRange(a),this._year=a._year,this._month=a._month,this._day=a._day),this._setDate(),this._updateDescription(),this._renderMonth()},_updateDescription:function(){d.setTextContent(this._monthChanger,this.i18n.getKey("datepicker.months")[this._month+1]),d.setTextContent(this._ofText,this.i18n.text("datepicker.of")),d.setTextContent(this._yearChanger,this._year)},_showYearSelector:function(a){this._incrementViewingYear(a);var b=this._year-this._year%10,c=b-1;d.setHTML(this._yearSelector,"");var e=d.create("ul");if(this._yearSelector.appendChild(e),c>this._min._year){var f=d.create("li");f.appendChild(d.create("a",{href:"#year_prev",className:"change_year_prev",setHTML:this.i18n.text("datepicker.prev_button")})),e.appendChild(f)}else e.appendChild(d.create("li",{setHTML:"&nbsp;"}));for(var g=1;g<11;g++)g%4===0&&(e=d.create("ul"),this._yearSelector.appendChild(e)),c=b+g-1,e.appendChild(this._getYearButton(c));if(c<this._max._year){var h=d.create("li");h.appendChild(d.create("a",{href:"#year_next",className:"change_year_next",setHTML:this.i18n.text("datepicker.next_button")})),e.appendChild(h)}else e.appendChild(d.create("li",{setHTML:"&nbsp;"}));this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._monthSelector.style.display="none",this._monthContainer.style.display="none",this._yearSelector.style.display="block"},_incrementViewingYear:function(a){if(a){var b=+this._year+10*a;b-=b%10,b>this._max._year||b+9<this._min._year||(this._year=+this._year+10*a)}},_getYearButton:function(a){var b="";this._acceptableYear({_year:a})?a===this._year&&(b="ink-calendar-on"):b="ink-calendar-off";var c=d.create("li");return c.appendChild(d.create("a",{href:"#","data-cal-year":a,className:b,setTextContent:a})),c},_showMonthSelector:function(){this._yearSelector.style.display="none",this._monthContainer.style.display="none",this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._addMonthClassNames(),this._monthSelector.style.display="block"},_parseDate:function(a){var b=g.set(this._options.format,a);return b?m(b):null},_isValidDate:function(a){var b=/^\d{4}$/,c=/^\d{1,2}$/;return b.test(a._year)&&c.test(a._month)&&c.test(a._day)&&+a._month+1>=1&&+a._month+1<=12&&+a._day>=1&&+a._day<=this._daysInMonth(a._year,a._month+1)},_isDate:function(a,b){try{if("undefined"==typeof a)return!1;var c=g.set(a,b);if(c&&this._isValidDate(m(c)))return!0}catch(d){}return!1},_acceptableDay:function(a){return this._acceptableDateComponent(a,"validDayFn")},_acceptableMonth:function(a){return this._acceptableDateComponent(a,"validMonthFn")},_acceptableYear:function(a){return this._acceptableDateComponent(a,"validYearFn")},_acceptableDateComponent:function(a,b){return this._options[b]?this._callUserCallbackBool(this._options[b],a):this._dateWithinRange(a)},_writeDateInFormat:function(){return g.get(this._options.format,this.getDate())},setDate:function(a,b){if(a&&"function"==typeof a.getDate&&(a=[a.getFullYear(),a.getMonth()+1,a.getDate()].join("-")),/\d{4}-\d{1,2}-\d{1,2}/.test(a)){var c=a.split("-");this._year=+c[0],this._month=+c[1]-1,this._day=+c[2]}this._setDate(b)},getDate:function(){if(!this._day)throw"Ink.UI.DatePicker: Still picking a date. Cannot getDate now!";return new Date(this._year,this._month,this._day)},_setDate:function(a){if(a){var b=d.data(a);this._day=+b.calDay||this._day,this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()})}var c=this._fitDateToRange(this);if(this._year=c._year,this._month=c._month,this._day=c._day,this._options.displayInSelect)this._options.dayField.value=this._day,this._options.monthField.value=this._month+1,this._options.yearField.value=this._year;else{var e=this._writeDateInFormat();e!==this._element.value&&(this._element.value=e)}},_updateCal:function(a){"function"==typeof this._options.onMonthSelected&&this._options.onMonthSelected(this,{year:this._year,month:this._month}),a&&null===this._updateMonth(a)||this._renderMonth()},_daysInMonth:function(a,b){var c={2:a%400===0||a%4===0&&a%100!==0?29:28,4:30,6:30,9:30,11:30};return c[b]||31},_updateMonth:function(a){var b;return a>0?b=this._getNextMonth():a<0&&(b=this._getPrevMonth()),b?(this._year=b._year,this._month=b._month,void(this._day=b._day)):null},_getNextMonth:function(a){return this._tryLeap(a,"Month","next",function(a){return a._month+=1,a._month>11&&(a._month=0,a._year+=1),a})},_getPrevMonth:function(a){return this._tryLeap(a,"Month","prev",function(a){return a._month-=1,a._month<0&&(a._month=11,a._year-=1),a})},_getPrevYear:function(a){return this._tryLeap(a,"Year","prev",function(a){return a._year-=1,a})},_getNextYear:function(a){return this._tryLeap(a,"Year","next",function(a){return a._year+=1,a})},_tryLeap:function(a,b,c,d){a=a||{_year:this._year,_month:this._month,_day:this._day};var e="prev"===c?"_min":"_max",f=this[e];if(0===this._dateCmpUntil(a,f,b))return null;var g=this._options[c+"ValidDateFn"];if(g)return this._callUserCallbackDate(g,a);a=d(a);var h=this._daysInMonth(a._year,a._month+1);return a._day>h&&(a._day=h),a=this._fitDateToRange(a),this["_acceptable"+b](a)?a:null},_getNextDecade:function(a){a=a||{_year:this._year,_month:this._month,_day:this._day};var b=this._getCurrentDecade(a);return b+10>this._max._year?null:b+10},_getPrevDecade:function(a){a=a||{_year:this._year,_month:this._month,_day:this._day};var b=this._getCurrentDecade(a);return n(b-10)<n(this._min._year)?null:b-10},_getCurrentDecade:function(a){return a=a?a._year||a:this._year,n(this._year)},_callUserCallbackBase:function(a,b){return a.call(this,b._year,b._month+1,b._day)},_callUserCallbackBool:function(a,b){return!!this._callUserCallbackBase(a,b)},_callUserCallbackDate:function(a,b){var c=this._callUserCallbackBase(a,b);return c?m(c):null},_dateParsers:{"yyyy-mm-dd":"Y-m-d","yyyy/mm/dd":"Y/m/d","yy-mm-dd":"y-m-d","yy/mm/dd":"y/m/d","dd-mm-yyyy":"d-m-Y","dd/mm/yyyy":"d/m/Y","dd-mm-yy":"d-m-y","dd/mm/yy":"d/m/y","mm/dd/yyyy":"m/d/Y","mm-dd-yyyy":"m-d-Y"},_renderMonth:function(){var a=this._month,b=this._year;this._showDefaultView(),d.setHTML(this._monthContainer,""),this._monthContainer.appendChild(this._getMonthCalendarHeader(this._options.startWeekDay)),this._monthContainer.appendChild(this._getDayButtons(b,a))},_getFirstDayIndex:function(a,b){var c=new Date(a,b,1).getDay(),d=this._options.startWeekDay||0,e=c-d;return e%=7,e<0&&(e+=7),e},_getDayButtons:function(a,b){var c=this._daysInMonth(a,b+1),e=document.createDocumentFragment(),f=d.create("ul");e.appendChild(f);for(var g=this._getFirstDayIndex(a,b),h=0;h<g;h++)f.appendChild(d.create("li",{className:"ink-calendar-empty",setHTML:"&nbsp;"}));for(var i=1;i<=c;i++)(i-1+g)%7===0&&(f=d.create("ul"),e.appendChild(f)),f.appendChild(this._getDayButton(a,b,i));return e},_getDayButton:function(a,b,c){var e={},f=l(a,b,c);this._acceptableDay(f)?(e["data-cal-day"]=c,this._day&&0===this._dateCmp(f,this)&&(e.className="ink-calendar-on")):e.className="ink-calendar-off",e.setTextContent=c;var g=d.create("li");return g.appendChild(d.create("a",e)),g},_getMonthCalendarHeader:function(a){for(var b,c=d.create("ul",{className:"ink-calendar-header"}),e=0;e<7;e++)b=(a+e)%7,c.appendChild(d.create("li",{setTextContent:this.i18n.getKey("datepicker.week_days")[b].substring(0,1)}));return c},_addMonthClassNames:function(a){f.forEach((a||this._monthSelector).getElementsByTagName("a"),Ink.bindMethod(this,"_addMonthButtonClassNames"))},_addMonthButtonClassNames:function(a){var b=d.data(a);if(!b.calMonth)throw"not a calendar month button!";var e=+b.calMonth-1;if(e===this._month)c.addClassName(a,"ink-calendar-on"),c.removeClassName(a,"ink-calendar-off");else{c.removeClassName(a,"ink-calendar-on");var f=!this._acceptableMonth({_year:this._year,_month:e});c.addRemoveClassName(a,"ink-calendar-off",f)}},setI18n:function(a){a.clone&&(a=a.clone()),this.i18n=a},getI18n:function(){return this.i18n||p},setLanguage:function(a){this.i18n||this.setI18n(p),this.i18n.lang(a)},getLanguage:function(){return this.i18n?this.i18n.lang():p.lang()},showMonth:function(){this._renderMonth()},isMonthRendered:function(){var a=e.select(".ink-calendar-header",this._containerObject)[0];return"none"!==c.getStyle(a.parentNode,"display")&&"none"!==c.getStyle(a.parentNode.parentNode,"display")},destroy:function(){d.unwrap(this._element),d.remove(this._wrapper),d.remove(this._containerObject),a.unregisterInstance.call(this)}},a.createUIComponent(o),o}),Ink.createModule("Ink.UI.Drawer","1",["Ink.UI.Common_1","Ink.Dom.Loaded_1","Ink.Dom.Selector_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1"],function(a,b,c,d,e,f){"use strict";function g(a){if(document.addEventListener){m&&h();var b=!1;m=function(c){return"mousedown"===c.type||"mouseup"===c.type?void(b="mousedown"===c.type):void(b||a(c.target))},document.addEventListener("focus",m,!0),document.addEventListener("mousedown",m,!0),document.addEventListener("mouseup",m,!0)}}function h(){document.addEventListener&&m&&(document.removeEventListener("focus",m,!0),document.removeEventListener("mousedown",m,!0),document.removeEventListener("mouseup",m,!0),m=null)}function i(a){for(var b=Ink.ss("[tabindex]",a),c=null,d=null,e=0;e<b.length;e++){var f=+b[e].tabIndex;f||b.splice(e,1),(null===c||f<c)&&(c=f,d=b[e])}if(d)return d.focus(),!0;var g=Ink.s(l,a);return!!g&&(g.focus(),!0)}function j(a){return'Ink.UI.Drawer_1: Could not find the "'+a+'" element on this page. Please make sure it exists.'}function k(b,c){a.isDOMElement(b)||(c=b),a.BaseUIComponent.apply(this,[document.body,c])}var l=['[tabindex]:not([tabindex="-1"])',"input","select","textarea","button","object","a[href]","area"].join(","),m=null,n=function(a){var b={WebkitTransitionProperty:"webkitTransitionEnd",transitionProperty:"transitionend"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return{styleProp:c,eventName:b[c]};return!1}(document.createElement("div"));return k.transitionSupport=n,k._name="Drawer_1",k._optionDefinition={parentSelector:["String",".ink-drawer"],leftDrawer:["String",".left-drawer"],leftTrigger:["String",".left-drawer-trigger"],rightDrawer:["String",".right-drawer"],rightTrigger:["String",".right-drawer-trigger"],contentDrawer:["String",".content-drawer"],mode:["String","push"],sides:["String","both"]},k.prototype={_init:function(){function a(a){a.drawer&&a.triggers.length?b=!0:c=j(a.drawer?a.drawerOption:a.triggerOption)}if(this._contentDrawers=Ink.ss(this._options.contentDrawer),this._leftDrawer=Ink.s(this._options.leftDrawer),this._leftTriggers=Ink.ss(this._options.leftTrigger),this._rightDrawer=Ink.s(this._options.rightDrawer),this._rightTriggers=Ink.ss(this._options.rightTrigger),f.addClassName(document.body,"ink-drawer"),0===this._contentDrawers.length)throw new Error('Ink.UI.Drawer_1: Could not find any "'+this._options.contentDrawer+'" elements on this page. Please make sure you have at least one.');switch(this._options.sides){case"both":this._triggers=this._options.leftTrigger+", "+this._options.rightTrigger+", "+this._options.contentDrawer;break;case"left":this._triggers=this._options.leftTrigger+", "+this._options.contentDrawer;break;case"right":this._triggers=this._options.rightTrigger+", "+this._options.contentDrawer}var b=!1,c=null;"left"!==this._options.sides&&"both"!==this._options.sides||a({name:"left",drawer:this._leftDrawer,drawerOption:this._options.leftDrawer,triggers:this._leftTriggers,triggerOption:this._options.leftTrigger}),"right"!==this._options.sides&&"both"!==this._options.sides||a({name:"right",drawer:this._rightDrawer,drawerOption:this._options.rightDrawer,triggers:this._rightTriggers,triggerOption:this._options.rightTrigger}),b||Ink.warn(c),this._isOpen=!1,this._direction=void 0,this._handlers={click:Ink.bindEvent(this._onClick,this),afterTransition:Ink.bindEvent(this._afterTransition,this)},this._addEvents()},_onClick:function(a){var b=d.findUpwardsBySelector(a.currentTarget,this._options.leftTrigger)?"left":d.findUpwardsBySelector(a.currentTarget,this._options.rightTrigger)?"right":null;if(b)return void this._onTriggerClicked(a,b);if(this._isOpen){var c=d.findUpwardsBySelector(a.currentTarget,this._options.contentDrawer),e=d.isLink(a.target);(c||e)&&this.close(),c&&a.preventDefault()}},_onTriggerClicked:function(a,b){this._isOpen?this.close():this.open(b),a.preventDefault()},_afterTransition:function(){this._isOpen||f.removeClassName(this._getRecentDrawer(),"show")},_addEvents:function(){e.on(document.body,"click",this._triggers+', a[href*="#"]',this._handlers.click)},_getRecentDrawer:function(){return"left"===this._direction?this._leftDrawer:"right"===this._direction?this._rightDrawer:null},open:function(a){this._isOpen=!0,this._direction=a;var b=this._getRecentDrawer();f.addClassName(b,"show"),setTimeout(Ink.bind(function(){f.addClassName(document.body,[this._options.mode,a])},this),0),n&&this._transitionWillOccur(b)&&e.one(b,n.eventName,function(){f.removeClassName(b,"show");+b.offsetWidth;f.addClassName(b,"show")});var c=document.activeElement,j=i(b);g(Ink.bind(function(a){var e=d.isAncestorOf(b,a);e||(this.close(),h(),j&&c&&c.focus())},this))},_transitionWillOccur:function(a){return!(!n||!f.getStyle(a,n.styleProp))},close:function(){if(this._isOpen!==!1){var a=this._getRecentDrawer();if(a){h(),this._isOpen=!1;var b=null;n&&(b=this._transitionWillOccur(this._getRecentDrawer())),f.removeClassName(document.body,[this._options.mode,this._direction]),b?e.one(document.body,n.eventName,this._handlers.afterTransition):this._handlers.afterTransition()}}}},a.createUIComponent(k),k}),Ink.createModule("Ink.UI.FormValidator","2",["Ink.UI.Common_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Selector_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Util.I18n_1","Ink.Util.Validator_1"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a.nodeName.toLowerCase()){case"select":var b=Ink.s("option:checked",a);return b?b.value:"";case"textarea":return a.value;case"input":if(!("type"in a))return a.value;if("radio"===a.type||"checkbox"===a.type){if(a.checked)return a.value}else if("file"!==a.type)return a.value;return;default:return a.innerHTML}}function j(){a.BaseUIComponent.apply(this,arguments)}function k(){a.BaseUIComponent.apply(this,arguments)}var l={required:function(a){return"undefined"!=typeof a&&!/^\s*$/.test(a)},min_length:function(a,b){return"string"==typeof a&&a.length>=parseInt(b,10)},max_length:function(a,b){return"string"==typeof a&&a.length<=parseInt(b,10)},exact_length:function(a,b){return"string"==typeof a&&a.length===parseInt(b,10)},email:function(a){return"string"==typeof a&&h.mail(a)},url:function(a,b){return b=b||!1,"string"==typeof a&&h.url(a,b)},ip:function(a,b){return"string"==typeof a&&h.isIP(a,b)},phone:function(a,b){if("string"!=typeof a)return!1;var c=b?b.toUpperCase():"";return h["is"+c+"Phone"](a)},credit_card:function(a,b){return"string"==typeof a&&h.isCreditCard(a,b||"default")},date:function(a,b){return"string"==typeof a&&h.isDate(b,a)},alpha:function(a,b){return h.ascii(a,{singleLineWhitespace:b})},text:function(a,b,c){return h.unicode(a,{singleLineWhitespace:b,numbers:!0,unicodePunctuation:c})},latin:function(a,b,c){return"string"==typeof a&&h.latin1(a,{latin1Punctuation:b,singleLineWhitespace:c,numbers:!0})},alpha_numeric:function(a){return h.ascii(a,{numbers:!0})},alpha_dash:function(a){return h.ascii(a,{dash:!0,underscore:!0})},digit:function(a){return"string"==typeof a&&/^[0-9]{1}$/.test(a)},integer:function(a,b){return h.number(a,{negative:!b,decimalPlaces:0})},decimal:function(a,b,c,d){return h.number(a,{decimalSep:b||".",decimalPlaces:+c||null,maxDigits:+d})},numeric:function(a,b,c,d){return b=b||".",a.indexOf(b)!==-1?l.decimal(a,b,c,d):l.integer(a)},range:function(a,b,c,d){return a=+a,b=+b,c=+c,!(isNaN(a)||isNaN(b)||isNaN(c))&&(!(a<b||a>c)&&(!d||(a-b)%d===0))},color:function(a){return h.isColor(a)},matches:function(a,b){var c=this.getFormElements()[b];if(!c){for(var d=Ink.ss("input, select, textarea, .control-group",this._options.form._element),e=0;e<d.length;e++)if((d[e].name||d[e].id)===b)return i(d[e])===a;return!1}c=c[0];var f=c.getValue();return(!c._rules.required||""!==f)&&a===f},ean:function(a){return h.isEAN(a.replace(/[^\d]/g,""),"ean-13")}},m=new g({en_US:{"formvalidator.generic_error":"{field} is invalid","formvalidator.required":"Filling {field} is mandatory","formvalidator.min_length":"The {field} must have a minimum size of {param1} characters","formvalidator.max_length":"The {field} must have a maximum size of {param1} characters","formvalidator.exact_length":"The {field} must have an exact size of {param1} characters","formvalidator.email":"The {field} must have a valid e-mail address","formvalidator.url":"The {field} must have a valid URL","formvalidator.ip":"The {field} does not contain a valid {param1} IP address","formvalidator.phone":"The {field} does not contain a valid {param1} phone number","formvalidator.credit_card":"The {field} does not contain a valid {param1} credit card","formvalidator.date":"The {field} should contain a date in the {param1} format","formvalidator.alpha":"The {field} should only contain letters","formvalidator.text":"The {field} should only contain alphabetic characters","formvalidator.latin":"The {field} should only contain alphabetic characters","formvalidator.alpha_numeric":"The {field} should only contain letters or numbers","formvalidator.alpha_dash":"The {field} should only contain letters or dashes","formvalidator.digit":"The {field} should only contain a digit","formvalidator.integer":"The {field} should only contain an integer","formvalidator.decimal":"The {field} should contain a valid decimal number","formvalidator.numeric":"The {field} should contain a number","formvalidator.range":"The {field} should contain a number between {param1} and {param2}","formvalidator.color":"The {field} should contain a valid color","formvalidator.matches":"The {field} should match the field {param1}"},pt_PT:{"formvalidator.generic_error":"{field} inválido","formvalidator.required":"Preencher {field} é obrigatório","formvalidator.min_length":"{field} deve ter no mínimo {param1} caracteres","formvalidator.max_length":"{field} tem um tamanho máximo de {param1} caracteres","formvalidator.exact_length":"{field} devia ter exactamente {param1} caracteres","formvalidator.email":"{field} deve ser um e-mail válido","formvalidator.url":"O {field} deve ser um URL válido","formvalidator.ip":"{field} não tem um endereço IP {param1} válido","formvalidator.phone":"{field} deve ser preenchido com um número de telefone {param1} válido.","formvalidator.credit_card":"{field} não tem um cartão de crédito {param1} válido","formvalidator.date":"{field} deve conter uma data no formato {param1}","formvalidator.alpha":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.text":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.latin":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.alpha_numeric":"{field} deve conter apenas letras e números","formvalidator.alpha_dash":"{field} deve conter apenas letras e traços","formvalidator.digit":"{field} destina-se a ser preenchido com apenas um dígito","formvalidator.integer":"{field} deve conter um número inteiro","formvalidator.decimal":"{field} deve conter um número válido","formvalidator.numeric":"{field} deve conter um número válido","formvalidator.range":"{field} deve conter um número entre {param1} e {param2}","formvalidator.color":"{field} deve conter uma cor válida","formvalidator.matches":"{field} deve corresponder ao campo {param1}"}},"en_US");return j._name="FormElement_1",j._optionDefinition={label:["String",null],rules:["String",null],error:["String",null],autoReparse:["Boolean",!1],form:["Object"]},j.prototype={_init:function(){this._errors={},this._rules={},this._value=null,this._forceInvalid=null,this._forceValid=null,this._errorParagraph=null,null===this._options.label&&(this._options.label=this._getLabel()),this._elementHadDataRules=this._element.hasAttribute("data-rules")},_getLabel:function(){var a=b.findUpwardsBySelector(this._element,".control-group label");return a?b.textContent(a):this._element.name||this._element.id||""},_parseRules:function(a){this._rules={},a=a.split("|");var b,c,d,e,f=a.length;if(f>0)for(b=0;b<f;b++)if(c=a[b])if((e=c.indexOf("["))!==-1){d=c.substr(e+1),d=d.split("]"),d=d[0],d=d.split(",");for(var g=0,h=d.length;g<h;g++)d[g]="true"===d[g]||"false"!==d[g]&&d[g];d.splice(0,0,this.getValue()),c=c.substr(0,e),this._rules[c]=d}else this._rules[c]=[this.getValue()]},_addError:function(a){"string"==typeof a&&(a={rule:a});var b=a.rule,c=a.message;if(!c&&!b)throw new Error("FormElement#_addError: Please pass an error message, or a rule that was broken");if(!c){for(var d=this._rules[b]||[],e={field:this._options.label,value:this.getValue()},f=1;f<d.length;f++)e["param"+f]=d[f];var g="formvalidator."+b;this._options.error?c=this._options.error:(c=this._options.form.getI18n().text(g,e),c===g&&(c="[Validation message not found for rule ]"+b))}this._errors[b]=c},getValue:function(){return i(this._element)},getLabel:function(){return this._options.label},getErrors:function(){return this._errors},getElement:function(){return this._element},getFormElements:function(){return this._options.form._formElements},setRules:function(a){this._options.rules=a},forceInvalid:function(a){this._forceInvalid=a?a:this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})},unforceInvalid:function(){this._forceInvalid=null},forceValid:function(){this._forceValid=!0},unforceValid:function(){this._forceValid=!1},getControlGroup:function(){return e.hasClassName(this._element,"control-group")?this._element:b.findUpwardsByClass(this._element,"control-group")},getControl:function(){return e.hasClassName(this._element,"control-group")?Ink.s(".control",this._element)||void 0:b.findUpwardsByClass(this._element,"control")},removeErrors:function(){var a=this.getControlGroup();a&&e.removeClassName(a,["validation","error"]),this._errorParagraph&&b.remove(this._errorParagraph)},displayErrors:function(){this.validate(),this.removeErrors();
var a=this.getErrors(),c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(a[d]);if(c.length){var f=this.getControlGroup(),g=this.getControl();f&&e.addClassName(f,["validation","error"]);var h=document.createElement("p");e.addClassName(h,"tip"),g||f?(g||f).appendChild(h):b.insertAfter(h,this._element),h.innerHTML=c.join("<br/>"),this._errorParagraph=h}},validate:function(){if(this._forceValid)return this._errors={},!0;if(this._element.disabled)return!0;if(this._forceInvalid)return this._addError({message:this._forceInvalid}),!1;if(this._errors={},this._options.autoReparse){var a=this._element.getAttribute("data-rules");if(a)this._options.rules=a;else if(this._elementHadDataRules&&!this._element.hasAttribute("data-rules"))return!0}this._parseRules(this._options.rules);var b=""!==this.getValue()||"required"in this._rules||"matches"in this._rules;if(b)for(var c in this._rules)if(this._rules.hasOwnProperty(c)){if("function"!=typeof l[c])return Ink.warn('Rule "'+c+'" not found. Used in element:',this._element),this._addError({message:this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})}),!1;if(l[c].apply(this,this._rules[c])===!1)return this._addError({rule:c}),!1}return!0}},a.createUIComponent(j),k._name="FormValidator_1",k._optionDefinition={lang:["String",null],eventTrigger:["String","submit"],neverSubmit:["Boolean",!1],autoReparse:["Boolean",!1],searchFor:["String","input, select, textarea, .control-group"],beforeValidation:["Function",void 0],onError:["Function",void 0],onSuccess:["Function",void 0],extraValidation:["Function",void 0]},k.setRule=function(a,b,c){if(l[a]=c,m.getKey("formvalidator."+a)!==b){var d={};d["formvalidator."+a]=b;var e={};e[m.lang()]=d,m.append(e)}},k.getI18n=function(){return m},k.setI18n=function(a){m=a},k.appendI18n=function(){m.append.apply(m,[].slice.call(arguments))},k.setLanguage=function(a){m.lang(a)},k.getRules=function(){return l},k.prototype={_init:function(){this._rootElement=this._element,this._formElements={},this._errorMessages=[],this._markedErrorElements=[],"string"==typeof this._options.eventTrigger&&c.observe(this._rootElement,this._options.eventTrigger,Ink.bindEvent(this.validate,this)),this._options.lang&&this.setLanguage(this._options.lang)},getElements:function(){this._formElements||(this._formElements={});var a;for(var c in this._formElements)if(this._formElements.hasOwnProperty(c)){for(a=this._formElements[c].length;a--;)b.isAncestorOf(document.documentElement,this._formElements[c][a]._element)||(this._formElements[c][a].removeErrors(),this._formElements[c].splice(a,1));0===this._formElements[c].length&&delete this._formElements[c]}var e=d.select(this._options.searchFor,this._rootElement);for(a=0;a<e.length;a+=1){var f=e[a],g=b.data(f);if("rules"in g){var h,i={form:this};"name"in f&&f.name?h=f.name:"id"in f&&f.id?h=f.id:(h="element_"+Math.floor(100*Math.random()),f.id=h),h in this._formElements||(this._formElements[h]=[]);var j=this._getOrCreateFormElementInstance(h,f,i);j&&this._formElements[h].push(j)}}return this._formElements},_getOrCreateFormElementInstance:function(a,b,c){for(var d=0;d<this._formElements[a].length;d++)if(this._formElements[a][d].getElement()===b)return null;return b.getAttribute("data-auto-reparse")||(c.autoReparse=this._options.autoReparse),new j(b,c)},setI18n:function(a){a.clone&&(a=a.clone()),this.i18n=a},getI18n:function(){return this.i18n||m},setLanguage:function(a){this.i18n||this.setI18n(m),this.i18n.lang(a)},getLanguage:function(){return this.i18n?this.i18n.lang():m.lang()},validate:function(a){this._options.neverSubmit&&a&&c.stopDefault(a),this.getElements(),"function"==typeof this._options.beforeValidation&&this._options.beforeValidation.call(this,{event:a,validator:this,elements:this._formElements}),e.removeClassName(this._element,"form-error");var b=[];for(var d in this._formElements)if(this._formElements.hasOwnProperty(d))for(var f=0;f<this._formElements[d].length;f+=1)this._formElements[d][f].removeErrors(),this._formElements[d][f].validate()||b.push(this._formElements[d][f]);var g=0===b.length;if("function"==typeof this._options.extraValidation){var h={event:a,validator:this,elements:this._formElements,errorCount:b.length},i=this._options.extraValidation.call(this,h);i===!1&&(g=!1)}return g?"function"==typeof this._options.onSuccess&&this._options.onSuccess():(a&&c.stopDefault(a),"function"==typeof this._options.onError&&this._options.onError(b),this._invalid(b)),g},_invalid:function(a){a=a||[],this._errorMessages=[],e.addClassName(this._element,"form-error");for(var b=0;b<a.length;b++)a[b].displayErrors()}},a.createUIComponent(k),k.FormElement=j,k.validationFunctions=l,k}),Ink.createModule("Ink.UI.Modal","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],function(a,b,c,d,e,f){"use strict";function g(){a.BaseUIComponent.apply(this,arguments)}var h=function(a){return a.style.opacity="invalid","invalid"!==a.style.opacity}(d.create("div",{style:"opacity: 1"})),i=function(a){var b=parseInt(window.innerHeight/2,10),c=parseInt((window.getComputedStyle?getComputedStyle(a,null):a.currentStyle).height,10),d=parseInt(window.innerWidth/2,10),e=parseInt((window.getComputedStyle?getComputedStyle(a,null):a.currentStyle).width,10);return c===b&&e===d}(d.create("div",{style:"height:50vh;width:50vw"})),j=function(a){return""!==a.style.display}(d.create("div",{style:"display: flex"})),k=function(a){a=a.replace(/^\s+|\s+$/g,"");var b=a.indexOf("%")!==-1,c=a.indexOf("px")!==-1;return b||c?!b&&c?a:!c&&b?a:a+"px":a+"%"},l=function(a,b){for(var c,d=a.split(/\s+/g),e=0;e<d.length;e++){var f=d[e].split("-"),g=f[0].replace(/^\s+|\s+$/g,"");if(g===b)return k(f[1]);"all"===g&&(c=k(f[1]))}return c},m=[];return g._name="Modal_1",g._optionDefinition={width:["String","90%"],height:["String","90%"],shadeClass:["String",void 0],modalClass:["String",void 0],trigger:["String",void 0],triggerEvent:["String","click"],autoDisplay:["Boolean",!0],markup:["String",void 0],onShow:["Function",void 0],onDismiss:["Function",void 0],closeOnClick:["Boolean",!1],closeOnEscape:["Boolean",!0],responsive:["Boolean",!0]},g.prototype={_init:function(){if(this._handlers={click:Ink.bindEvent(this._onShadeClick,this),keyDown:Ink.bindEvent(this._onKeyDown,this),resize:null},this._dimensionIsVariant={width:(""+this._options.width).indexOf(" ")!==-1,height:(""+this._options.height).indexOf(" ")!==-1},this._isOpen=!1,this._element?this._markupMode=c.hasClassName(this._element,"ink-modal"):this._markupMode=!1,this._markupMode){if(this._modalDiv=this._element,this._modalShadow=this._modalDiv.parentNode,this._contentContainer=e.select(".modal-body",this._modalDiv)[0],!this._contentContainer)throw new Error('Ink.UI.Modal: Missing div with class "modal-body"');this._options.markup=this._contentContainer.innerHTML}else this._modalShadow=d.create("div",{className:"ink-shade"}),this._modalDiv=d.create("div",{className:"ink-modal ink-space"}),this._element&&(this._options.markup=this._element.innerHTML),this._modalShadow.appendChild(this._modalDiv),document.body.appendChild(this._modalShadow);if(this._markupMode||this.setContentMarkup(this._options.markup),"string"==typeof this._options.shadeClass&&c.addClassName(this._modalShadow,this._options.shadeClass),"string"==typeof this._options.modalClass&&c.addClassName(this._modalDiv,this._options.modalClass),this._options.trigger){var f=a.elsOrSelector(this._options.trigger,"");b.observeMulti(f,this._options.triggerEvent,Ink.bindEvent(this.open,this))}else this._options.autoDisplay&&this.open()},_dimensionIsPercentage:function(){var a=this._getDimensions();return{width:(""+a.width).indexOf("%")!==-1,height:(""+a.height).indexOf("%")!==-1}},_getDimensions:function(b){b=b||{};var c,e={width:this._options.width,height:this._options.height};if((this._dimensionIsVariant.width||this._dimensionIsVariant.height)&&(c=a.currentLayout()),this._dimensionIsVariant.width&&(e.width=l(e.width,c)),this._dimensionIsVariant.height&&(e.height=l(e.height,c)),b.dynamic){var f=this._dimensionIsPercentage();if(!f.width){var g=.9*d.viewportWidth();parseFloat(e.width)>=g&&(e.width=g+"px")}if(!f.height){var h=.9*d.viewportHeight();parseFloat(e.height)>=h&&(e.height=h+"px")}}return e},_reposition:function(){var a,b=this._dimensionIsPercentage(),c=this._getDimensions();i&&b.height?this._modalDiv.style.marginTop=-parseFloat(c.height)/2+"vh":i?(a=parseFloat(c.height)>.9*d.viewportHeight(),a===this._heightWasLargerThan90Percent&&a&&!this._dimensionIsVariant.height||(this._heightWasLargerThan90Percent=a,a?(this._modalDiv.style.marginTop="0",this._modalDiv.style.top="5vh"):(this._modalDiv.style.marginTop=-parseFloat(c.height)/2+"px",this._modalDiv.style.top=""))):this._modalDiv.style.marginTop=-d.elementHeight(this._modalDiv)/2+"px",i&&b.width?this._modalDiv.style.marginLeft=-parseFloat(c.width)/2+"vw":i?(a=parseFloat(c.width)>.9*d.viewportWidth(),a===this._widthWasLargerThan90Percent&&a&&!this._dimensionIsVariant.width||(this._widthWasLargerThan90Percent=a,a?(this._modalDiv.style.marginLeft="0",this._modalDiv.style.left="5vw"):(this._modalDiv.style.marginLeft=-parseFloat(c.width)/2+"px",this._modalDiv.style.left=""))):this._modalDiv.style.marginLeft=-d.elementWidth(this._modalDiv)/2+"px"},_onResize:function(){var a=this._dimensionIsVariant.height||this._dimensionIsVariant.width,b=this._dimensionIsPercentage(),c=!b.height||!b.width;a&&this._resize(),i&&!a||this._avoidModalLargerThanScreen(),(!i||c||a)&&this._reposition(),j||this._resizeContainer()},_onShadeClick:function(a){if(this._isOpen){var f=b.element(a);if(f===this._modalShadow&&this._options.closeOnClick)this.dismiss();else if(c.hasClassName(f,"ink-close")||c.hasClassName(f,"ink-dismiss")||d.findUpwardsBySelector(f,".ink-close,.ink-dismiss")||this._options.closeOnClick&&(!d.descendantOf(this._shadeElement,f)||f===this._shadeElement)){for(var g=e.select(".ink-alert",this._shadeElement),h=g.length,i=0;i<h;i++)if(d.descendantOf(g[i],f))return;this.dismiss(),this._isOpen||b.stop(a)}}},_onKeyDown:function(a){27===a.keyCode&&this._isOpen&&this._options.closeOnEscape&&m[m.length-1]===this&&(this.dismiss(),this._isOpen||b.stopDefault(a))},_resize:function(){var a=this._getDimensions();this._modalDiv.style.width=a.width,this._modalDiv.style.height=a.height},_resizeContainer:function(){var a=d.elementHeight(this._modalDiv);this._modalHeader=e.select(".modal-header",this._modalDiv)[0],this._modalHeader&&(a-=d.elementHeight(this._modalHeader)),this._modalFooter=e.select(".modal-footer",this._modalDiv)[0],this._modalFooter&&(a-=d.elementHeight(this._modalFooter)),this._contentContainer.style.height=a+"px",this._markupMode},_resizeContainerFlex:function(){this._contentContainer.style.flex="1",this._modalDiv.style.display="flex",this._modalDiv.style.flexDirection="column"},_avoidModalLargerThanScreen:function(){var a=this._dimensionIsPercentage();if(i)a.width||(this._modalDiv.style.maxWidth="90vw"),a.height||(this._modalDiv.style.maxHeight="90vh");else{var b={height:d.viewportHeight(),width:d.viewportWidth()},c=this._getDimensions();f.forEach(["height","width"],Ink.bind(function(d){if(!a[d]){var e=Math.round(.9*b[d]);if(parseFloat(c[d])>e)this._modalDiv.style[d]=e+"px";else{if(isNaN(parseFloat(c[d])))return;this._modalDiv.style[d]=parseFloat(c[d])+"px"}}},this))}},open:function(a){if(this.isOpen())return!1;if(a&&b.stopDefault(a),c.addClassName(this._modalShadow,"ink-shade"),this._modalShadow.style.display=this._modalDiv.style.display="block",this._modalShadow.offsetHeight,c.addClassName(this._modalShadow,"visible"),c.addClassName(this._modalDiv,"visible"),this._contentElement=this._modalDiv,this._shadeElement=this._modalShadow,this._markupMode||this.setContentMarkup(this._options.markup),this._resize(),this._avoidModalLargerThanScreen(),this._reposition(),j?this._resizeContainerFlex():this._resizeContainer(),this._options.responsive){var e=this._dimensionIsPercentage(),f=!(i&&j&&e.height&&e.width&&!this._dimensionIsVariant.height&&!this._dimensionIsVariant.width);f&&(this._handlers.resize=b.throttle(Ink.bind(this._onResize,this),500),b.observe(window,"resize",this._handlers.resize))}if(this._options.onShow){if(a)var g=d.findUpwardsBySelector(b.element(a),this._options.trigger);this._options.onShow.call(this,this,{trigger:g})}b.observe(this._shadeElement,"click",this._handlers.click),this._options.closeOnEscape&&b.observe(document,"keydown",this._handlers.keyDown),this._isOpen=!0,m.push(this),c.addClassName(document.documentElement,"ink-modal-open")},isOpen:function(){return this._isOpen},dismiss:function(){if(this._isOpen){if(this._options.onDismiss){var a=this._options.onDismiss(this);if(a===!1)return}if(this._isOpen=!1,this._handlers.resize&&b.stopObserving(window,"resize",this._handlers.resize),this._markupMode?(c.removeClassName(this._modalDiv,"visible"),c.removeClassName(this._modalShadow,"visible"),this._waitForFade(this._modalShadow,Ink.bind(function(){this._modalShadow.style.display="none"},this))):(this._modalShadow.parentNode.removeChild(this._modalShadow),this.destroy()),m=f.remove(m,f.keyValue(this,m),1),0===m.length){var d=document.documentElement;c.removeClassName(d,"ink-modal-open")}}},_waitForFade:function(a,b){if(!h)return b();var d=5,e=function(){+c.getStyle(a,"opacity")>0&&d>0?(d--,setTimeout(e,250)):b()};setTimeout(e,500)},destroy:function(){a.unregisterInstance(this._instanceId)},getContentElement:function(){return this._contentContainer||null},getModalElement:function(){return this._modalDiv||null},getShadeElement:function(){return this._modalShadow||null},setContentMarkup:function(a){if(this._markupMode)this._contentContainer.innerHTML=a;else{if(this._modalDiv.innerHTML=[a].join(""),this._contentContainer=e.select(".modal-body",this._modalDiv),!this._contentContainer.length){var b=e.select(".modal-header",this._modalDiv),g=e.select(".modal-footer",this._modalDiv);f.each(b,d.remove),f.each(g,d.remove);var h=document.createElement("div");c.addClassName(h,"modal-body"),h.innerHTML=this._modalDiv.innerHTML,this._modalDiv.innerHTML="";var i=b.concat([h]).concat(g);f.each(i,Ink.bindMethod(this._modalDiv,"appendChild")),this._contentContainer=e.select(".modal-body",this._modalDiv)}this._contentContainer=this._contentContainer[0]}this._contentElement=this._modalDiv,this._resizeContainer()}},a.createUIComponent(g,{elementIsOptional:!0}),g._vhVwSupported=i,g._flexSupported=j,g}),Ink.createModule("Ink.UI.Pagination","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(a,b,c,d,e){"use strict";function f(){a.BaseUIComponent.apply(this,arguments)}var g=function(a,b,c){var d=document.createElement("a");if(d.setAttribute("href","#"),"number"==typeof b&&d.setAttribute("data-index",b),c&&c.wrapText){var e=document.createElement("span");d.appendChild(e),e.innerHTML=a}else d.innerHTML=a;return d};return f._name="Pagination_1",f._optionDefinition={size:["Integer",null],totalItemCount:["Integer",null],itemsPerPage:["Integer",null],maxSize:["Integer",null],start:["Integer",1],sideButtons:["Boolean",1],firstLabel:["String","First"],lastLabel:["String","Last"],previousLabel:["String","Previous"],nextLabel:["String","Next"],previousPageLabel:["String",null],nextPageLabel:["String",null],onChange:["Function",void 0],hashParameter:["String","page"],parentTag:["String","ul"],childTag:["String","li"],wrapperClass:["String","ink-navigation"],paginationClass:["String","pagination"],activeClass:["String","active"],disabledClass:["String","disabled"],hideClass:["String","hide-all"],previousClass:["String","previous"],previousPageClass:["String","previousPage"],nextClass:["String","next"],nextPageClass:["String","nextPage"],firstClass:["String","first"],lastClass:["String","last"],numberFormatter:["Function",function(a){return a+1}],autoWrap:["Boolean",!1]},f.prototype={_init:function(){this._options.previousPageLabel||(this._options.previousPageLabel=this._options.previousLabel+" "+this._options.maxSize),this._options.nextPageLabel||(this._options.nextPageLabel=this._options.nextLabel+" "+this._options.maxSize),this._handlers={click:Ink.bindEvent(this._onClick,this)},a.isInteger(this._options.totalItemCount)&&a.isInteger(this._options.itemsPerPage)?this._size=this._calculateSize(this._options.totalItemCount,this._options.itemsPerPage):a.isInteger(this._options.size)?this._size=this._options.size:(Ink.error("Ink.UI.Pagination: Please supply a size option or totalItemCount and itemsPerPage options."),this._size=0),this._current=this._options.start-1,this._itemLiEls=[],this._generateMarkup(this._element),this._updateItems(),this._observe()},_observe:function(){b.observeDelegated(this._element,"click","."+this._options.paginationClass+" > "+this._options.childTag,this._handlers.click)},_calculateSize:function(a,b){return Math.ceil(a/b)},_updateItems:function(){var a,b,d,e=this._itemLiEls,f=this._size===e.length;if(f)for(a=0,b=this._size;a<b;++a)c.setClassName(e[a],this._options.activeClass,a===this._current);else{for(a=e.length-1;a>=0;--a)this._ulEl.removeChild(e[a]);for(e=[],a=0,b=this._size;a<b;++a)d=document.createElement(this._options.childTag),d.appendChild(g(this._options.numberFormatter(a,this._size),a)),c.setClassName(d,this._options.activeClass,a===this._current),this._nextEl?this._ulEl.insertBefore(d,this._nextEl):this._ulEl.appendChild(d),e.push(d);this._itemLiEls=e}if(this._options.maxSize){var h=Math.floor(this._current/this._options.maxSize),i=this._options.maxSize*h,j=i+this._options.maxSize-1;for(a=0,b=this._size;a<b;++a)d=e[a],c.setClassName(d,this._options.hideClass,a<i||a>j);this._pageStart=i,this._pageEnd=j,this._page=h,c.setClassName(this._prevPageEl,this._options.disabledClass,!this.hasPreviousPage()),c.setClassName(this._nextPageEl,this._options.disabledClass,!this.hasNextPage()),c.setClassName(this._firstEl,this._options.disabledClass,this.isFirst()),c.setClassName(this._lastEl,this._options.disabledClass,this.isLast())}this._prevEl&&!this._options.autoWrap&&c.setClassName(this._prevEl,this._options.disabledClass,!this.hasPrevious()),this._nextEl&&!this._options.autoWrap&&c.setClassName(this._nextEl,this._options.disabledClass,!this.hasNext())},_generateMarkup:function(a){c.addClassName(a,"ink-navigation");var b=Ink.s("."+this._options.paginationClass,a),d=!1;b?d=!0:(b=document.createElement(this._options.parentTag),c.addClassName(b,this._options.paginationClass));var e=c.hasClassName(b,"chevron"),f=c.hasClassName(b,"dotted"),h=Ink.bind(function(a,d){var e=document.createElement(this._options.childTag),f=g(this._options[a+"Label"],void 0,{wrapText:d&&d.wrapText});return c.addClassName(e,this._options[a+"Class"]),e.appendChild(f),b.appendChild(e),e},this);!f&&this._options.maxSize&&(this._firstEl=h("first"),this._prevPageEl=h("previousPage"));var i=f&&e||f&&!e&&this._options.sideButtons===!0||!f&&!!this._options.sideButtons;i&&(this._prevEl=h("previous",{wrapText:e}),this._nextEl=h("next",{wrapText:e})),!f&&this._options.maxSize&&(this._nextPageEl=h("nextPage"),this._lastEl=h("last")),d||a.appendChild(b),this._ulEl=b},_onClick:function(a){b.stopDefault(a);var d=b.element(a);if(!c.hasClassName(d,this._options.activeClass)&&!c.hasClassName(d,this._options.disabledClass)){var f=c.hasClassName(d,this._options.previousClass),g=c.hasClassName(d,this._options.nextClass),h=c.hasClassName(d,this._options.previousPageClass),i=c.hasClassName(d,this._options.nextPageClass),j=c.hasClassName(d,this._options.firstClass),k=c.hasClassName(d,this._options.lastClass);if(j)this.setCurrent(0);else if(k)this.setCurrent(this._size-1);else if(h||i)this.setCurrent((h?-1:1)*this._options.maxSize,!0,!!this._options.autoWrap);else if(f||g)this.setCurrent(f?-1:1,!0,!!this._options.autoWrap);else{var l=e.select("[data-index]",d)[0],m=l&&parseInt(l.getAttribute("data-index"),10);this.setCurrent(m)}}},setOnChange:function(a){if(a&&"function"!=typeof a)throw new TypeError("onChange option must be a function!");this._options.onChange=a},setSize:function(b){if(!a.isInteger(b))throw new TypeError("1st argument must be an integer number!");this._size=b,this._updateItems(),this._current=0},setSizeInItems:function(a,b){var c=Math.ceil(a/b);this.setSize(c)},setCurrent:function(b,c,d,e){if(!a.isInteger(b))throw new TypeError("1st argument must be an integer number!");c&&(b+=this._current),d?(b%=this._size,b<0&&(b+=this._size)):(b>this._size-1&&(b=this._size-1),b<0&&(b=0)),this._current=b,this._updateItems(),this._options.onChange&&!e&&this._options.onChange(this,b)},next:function(a){this.setCurrent(1,!0,a)},previous:function(a){this.setCurrent(-1,!0,a)},getSize:function(){return this._size},getCurrent:function(){return this._current},isFirst:function(){return 0===this._current},isLast:function(){return this._current===this._size-1},hasPrevious:function(){return this._current>0},hasNext:function(){return this._current<this._size-1},hasPreviousPage:function(){return this._options.maxSize&&this._current>this._options.maxSize-1},hasNextPage:function(){return this._options.maxSize&&this._size-this._current>=this._options.maxSize+1},destroy:a.destroyComponent},a.createUIComponent(f),f}),Ink.createModule("Ink.UI.SmoothScroller","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Dom.Css_1"],function(a,b,c,d,e){"use strict";var f=window.requestAnimationFrame||function(a){return setTimeout(a,10)},g=window.cancelAnimationFrame||function(a){clearTimeout(a)},h={speed:10,changeHash:!0,margin:0,scroll:function(a,b){var d=Math.round(c.scrollHeight()),e=Math.round(a-(b.margin||0));d+=e>d?Math.ceil((e-d)/b.speed):(e-d)/b.speed,g(h.interval),d!==e&&h.offsetTop!==d?h.interval=f(Ink.bindMethod(h,"scroll",a,b),document.body):h.onDone(b),window.scrollTo(0,d),h.offsetTop=d},init:function(a){b.on(document,"click",a||"a.scrollableLink, a.ink-smooth-scroll",h.onClick)},render:function(){},onClick:function(b){var d=b.currentTarget,f=(location+"").replace(/#.*?$/,""),g=(d.href+"").replace(/#.*?$/,"");if(g===f){var i=d.getAttribute("data-hash")||(d.getAttribute("href")||"").replace(/^.*?#/,"");if(i){b.preventDefault();var j='a[name="'+i+'"],#'+i,k=Ink.s(j),l=c.findUpwardsBySelector(d,"ul");if(l){var m=Ink.s("li.active",l);e.removeClassName(m,"active")}if(k){d.parentNode&&"li"===d.parentNode.tagName.toLowerCase()&&e.addClassName(d.parentNode,"active");var n=a.options("SmoothScroller link options",{margin:["Number",h.margin],speed:["Number",h.speed],changeHash:["Boolean",h.changeHash]},{},d);h.hash=i,h.scroll(c.offsetTop(k),n)}}}},onDone:function(a){a.changeHash===!0&&(window.location.hash=h.hash),h.hash=h.offsetTop=null}};return h}),Ink.createModule("Ink.UI.Spy","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(a,b,c,d,e){"use strict";function f(a){for(var b=0,c=m.length;b<c;b++)if(m[b][0]===a)return b;return null}function g(a,b,c){var d=f(b);null===d?m.push([b,[a],c]):m[d][1].push(a)}function h(){n||(n=!0,b.observe(document,"scroll",b.throttle(i,300)))}function i(){for(var a=0,b=m.length;a<b;a++)j(m[a][0],m[a][1],m[a][2])}function j(a,b,f){for(var g=k(b,f),h=e.select("li.active",a),i=0,j=h.length;i<j;i++)c.removeClassName(h[i],"active");if(null!==g){var l='a[href$="#'+(g.name||g.id)+'"]',m=e.select(l,a);for(i=0,j=m.length;i<j;i++)c.addClassName(d.findUpwardsByTag(m[i],"li"),"active")}}function k(a,b){for(var c,d,e=-(1/0),f=0,g=a.length;f<g;f++)d=a[f].getBoundingClientRect().top,b.margin&&(d-=b.margin),d<=0&&d>e&&(e=d,c=f);return void 0===c?null:a[c]}function l(){a.BaseUIComponent.apply(this,arguments)}var m=[],n=!1;return l._name="Spy_1",l._optionDefinition={target:["Element",void 0],margin:["Number",0]},l.prototype={_init:function(){g(this._element,this._options.target,this._options),h(),i()}},a.createUIComponent(l),l}),Ink.createModule("Ink.UI.Sticky","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1"],function(a,b,c,d){"use strict";function e(){a.BaseUIComponent.apply(this,arguments)}return e._name="Sticky_1",e._optionDefinition={offsetBottom:["Integer",0],offsetTop:["Integer",0],topElement:["Element",null],wrapperClass:["String","ink-sticky-wrapper"],stickyClass:["String","ink-sticky-stuck"],inlineDimensions:["Boolean",!0],inlinePosition:["Boolean",!0],bottomElement:["Element",null],activateInLayouts:["String",null]},e.prototype={_init:function(){this._options.activateInLayouts&&(this._options.activateInLayouts=this._options.activateInLayouts.toString()),this._dims=null,this._options.offsetTop=parseInt(this._options.offsetTop,10)||0,this._options.offsetBottom=parseInt(this._options.offsetBottom,10)||0,this._options.topElement&&(this._options.topElement=a.elOrSelector(this._options.topElement,"Top Element")),this._options.bottomElement&&(this._options.bottomElement=a.elOrSelector(this._options.bottomElement,"Sticky bottom Element")),this._wrapper=c.create("div",{className:this._options.wrapperClass}),c.wrap(this._element,this._wrapper);var d=document.addEventListener?document:window;this._onScroll=Ink.bind(b.throttle(this._onScroll,33),this),b.observe(d,"scroll",this._onScroll),b.observe(window,"resize",Ink.bindEvent(b.throttle(this._onResize,100),this)),this._onScroll()},_isDisabledInLayout:function(){if(!this._options.activateInLayouts)return!1;var b=a.currentLayout();return!!b&&this._options.activateInLayouts.indexOf(b)===-1},_onScroll:function(){var a=this._getDims(),b=c.scrollHeight(),d=this._isDisabledInLayout()||b<=a.top-this._options.offsetTop||this._options.topElement&&this._options.topElement.getBoundingClientRect().bottom+this._options.offsetTop>0;if(d)return void this._unstick();var e=this._options.offsetTop+a.height+c.scrollHeight(),f=document.body.scrollHeight;this._options.bottomElement&&(f=this._options.bottomElement.getBoundingClientRect().top+c.scrollHeight()),f-=this._options.offsetBottom,e<f?this._stickTo("screen"):this._stickTo("bottom")},_stickTo:function(a){var b=this._element.style,e=this._getDims();if(d.addClassName(this._element,this._options.stickyClass),this._wrapper.style.height=e.height+"px",this._inlineDimensions(e.height+"px",e.width+"px"),this._options.inlinePosition!==!1)if(b.left=e.left+"px","screen"===a)b.bottom=null,b.top=this._options.offsetTop+"px";else if("bottom"===a){var f=this._getBottomOffset(),g=c.scrollHeight()+c.viewportHeight(),h=c.pageHeight()-g;b.bottom=f-h+"px",b.top="auto"}},_unstick:function(){d.removeClassName(this._element,this._options.stickyClass),this._inlineDimensions(null,null),this._options.inlinePosition&&(this._element.style.left=null,this._element.style.top=null,this._element.style.bottom=null),this._wrapper.style.height=null,this._wrapper.style.width=null,this._dims=null},_onResize:function(){this._dims=null,this._onScroll()},_getDims:function(){if(null!==this._dims)return this._dims;var a=this._element.style,b=a.position,d=a.width;a.position="static",a.width=null;var e=c.outerDimensions(this._element),f=this._wrapper.getBoundingClientRect();return this._dims={height:e[1],width:e[0],left:f.left+c.scrollWidth(),top:f.top+c.scrollHeight()},a.position=b,a.width=d,this._dims},_inlineDimensions:function(a,b){this._options.inlineDimensions&&(this._element.style.height=a,this._element.style.width=b)},_getBottomOffset:function(){var a=this._options.offsetBottom;return this._options.bottomElement&&(a+=c.pageHeight()-c.offsetTop(this._options.bottomElement)),a}},a.createUIComponent(e),e}),Ink.createModule("Ink.UI.Tabs","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],function(a,b,c,d,e){"use strict";function f(){a.BaseUIComponent.apply(this,arguments)}return f._name="Tabs_1",f._optionDefinition={preventUrlChange:["Boolean",!1],scrollUrlChange:["Boolean",!0],active:["String",void 0],onBeforeChange:["Function",void 0],onChange:["Function",void 0],menuSelector:["String",".tabs-nav"],contentSelector:["String",".tabs-content"],triggerEventsOnLoad:["Boolean",!0]},f.prototype={_init:function(){return this._menu=e.select(this._options.menuSelector,this._element)[0],this._menu?(this._initializeDom(),b.on(this._menu,"click","a",Ink.bindMethod(this,"_onTabClickedGeneric")),void this._setFirstActive()):void Ink.warn('Ink.UI.Tabs: An element selected by "'+this._options.menuSelector+'" needs to exist inside the element!')},_initializeDom:function(){for(var a=e.select(this._options.contentSelector,this._element),b=0;b<a.length;b++)c.addClassName(a[b],"hide-all")},_setFirstActive:function(){var a=window.location.hash,b=this._findLinkByHref(a)||this._options.active&&this._findLinkByHref(this._options.active)||e.select(".active a",this._menu)[0]||e.select("a",this._menu)[0];b&&(this._firstTime=!0,this._changeTab(b,this._options.triggerEventsOnLoad),this._firstTime=!1)},_changeTab:function(a,b){b&&"undefined"!=typeof this._options.onBeforeChange&&this._options.onBeforeChange(this);var d=a.getAttribute("href"),f=d.substr(d.indexOf("#"));if(window.location.hash!==f&&!this._options.preventUrlChange&&!this._firstTime)if(this._options.scrollUrlChange)window.location.hash=f;else if("replaceState"in history)history.replaceState("",document.title,location.pathname+location.search+f);else{var g=document.body.scrollTop,h=document.body.scrollLeft;location.hash=f,document.body.scrollTop=g,document.body.scrollLeft=h}for(var i=e.select("> li.active",this._menu),j=0,k=i.length;j<k;j++)i[j]!==a&&c.removeClassName(i[j],"active");return this._activeMenuTab&&(c.removeClassName(this._activeMenuTab,"active"),c.removeClassName(this._activeSection,"active"),c.addClassName(this._activeSection,"hide-all")),this._activeMenuLink=a,this._activeMenuTab=this._activeMenuLink.parentNode,this._activeSection=e.select(f,this._element)[0],this._activeSection?(c.addClassName(this._activeMenuTab,"active"),c.addClassName(this._activeSection,"active"),c.removeClassName(this._activeSection,"hide-all"),void(b&&"undefined"!=typeof this._options.onChange&&this._options.onChange(this))):void(this._activeMenuLink=this._activeMenuTab=this._activeSection=null)},_onTabClickedGeneric:function(a){a.preventDefault();var b=!c.hasClassName(a.currentTarget,"ink-disabled")&&a.currentTarget!==this._activeMenuLink;b&&this._onTabClicked(a.currentTarget)},_onTabClicked:function(a){var b=a.getAttribute("href")||"";b=b.substr(b.indexOf("#")),b&&null!==Ink.i(this._dehashify(b))&&a!==this._activeMenuLink&&this.changeTab(a)},_hashify:function(a){return a?0===a.indexOf("#")?a:"#"+a:""},_dehashify:function(a){return a?(""+a).replace(/^#/,""):""},_findLinkByHref:function(a){if(!a)return null;if(1===a.nodeType){if(d.isAncestorOf(a,this._element))return null;for(var b=e.select("a",this._menu),c=a.getAttribute("id"),f=0,g=b.length;f<g;f++){if(b[f]===a||d.isAncestorOf(a,b[f]))return b[f];if(c&&c===this._dehashify(b[f].hash))return b[f]}return null}return a=this._hashify(a),e.select('a[href$="'+a+'"]',this._menu)[0]||null},changeTab:function(a){a=this._findLinkByHref(a),a&&!c.hasClassName(a,"ink-disabled")&&this._changeTab(a,!0)},disable:function(a){c.addClassName(this._findLinkByHref(a),"ink-disabled")},enable:function(a){c.removeClassName(this._findLinkByHref(a),"ink-disabled")},activeTab:function(){return this._activeSection.getAttribute("id")},activeMenuLink:function(){return this._activeMenuLink},activeSection:function(){return this._activeSection},destroy:a.destroyComponent},a.createUIComponent(f),f}),Ink.createModule("Ink.UI.Toggle","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],function(a,b,c,d,e,f){"use strict";function g(){a.BaseUIComponent.apply(this,arguments)}return g._name="Toggle_1",g._optionDefinition={target:["Elements"],triggerEvent:["String","click"],closeOnClick:["Boolean",null],canToggleAnAncestor:["Boolean",!1],isAccordion:["Boolean",!1],initialState:["Boolean",null],classNameOn:["String","show-all"],classNameOff:["String","hide-all"],closeOnInsideClick:["String","a[href]"],onChangeState:["Function",null]
},g.prototype={_init:function(){var b,e;if(this._targets=a.elsOrSelector(this._options.target),null===this._options.closeOnClick&&(this._options.closeOnClick=!this._options.isAccordion&&!this._options.canToggleAnAncestor),null===this._options.initialState&&(this._options.initialState=c.hasClassName(this._targets[0],this._options.classNameOn)),"show-all"!==this._options.classNameOn||"hide-all"!==this._options.classNameOff)for(b=0,e=this._targets.length;b<e;b++)c.removeClassName(this._targets[b],"show-all"),c.removeClassName(this._targets[b],"hide-all");if(this._options.isAccordion&&(this._accordionContainer=d.findUpwardsByClass(this._element,"accordion"),this._accordionContainer||Ink.warn('Ink.UI.Toggle_1: This toggle has the isAccordion option set to `true`, but is not a descendant of an element with the class "accordion"! Because of this, it won\'t be able to find other toggles in the same accordion and cooperate with them.')),this._constructing=!0,this._bindEvents(),null!==this._options.initialState)this.setState(this._options.initialState,!0);else{var f="none"!==c.getStyle(this._targets[0],"display");this.setState(f,!0)}for(b=0,e=this._targets.length;b<e;b++)this._targets[b].style.display&&(this._targets[b].style.display="");this._element.setAttribute("data-is-toggle-trigger","true"),this._constructing=!1},_bindEvents:function(){if(this._options.triggerEvent&&b.on(this._element,this._options.triggerEvent,Ink.bind(this._onTriggerEvent,this)),this._options.closeOnClick&&b.observe(document,"click",Ink.bind(this._onOutsideClick,this)),this._options.closeOnInsideClick){var a=this._options.closeOnInsideClick;"true"===a.toString()&&(a="*"),b.observeMulti(this._targets,"click",Ink.bind(function(c){d.findUpwardsBySelector(b.element(c),a)&&this.setState(!1,!0)},this))}},_onTriggerEvent:function(a){var c=b.element(a),e=f.some(this._targets,function(a){return a===c||d.isAncestorOf(a,c)});if(this._options.canToggleAnAncestor||!e){var g=this.getState();this.setState(!g,!0),!g&&this._firstTime&&(this._firstTime=!1),b.stopDefault(a)}},_updateAccordion:function(){if(this._accordionContainer&&this.getState()!==!1)for(var a=e.select("[data-is-toggle-trigger]",this._accordionContainer),b=0;b<a.length;b++){var c=g.getInstance(a[b]);c&&c!==this&&c.getState()===!0&&c.setState(!1,!0)}},_onOutsideClick:function(a){var c,e=b.element(a);if(d.isAncestorOf(document.documentElement,e)){var g=f.some(this._targets,function(a){return d.isAncestorOf(a,e)||a===e});if(this._element!==e&&!d.isAncestorOf(this._element,e)&&!g){if((c=Ink.ss(".ink-shade")).length)for(var h=c.length,i=0;i<h;i++)if(d.isAncestorOf(c[i],e)&&d.isAncestorOf(c[i],this._element))return;this.setState(!1,!0)}}},setState:function(a,b){if(a!==this.getState()||this._constructing){var d,e;if(this._group&&a)for(d=0,e=this._group.length;d<e;d++)this._group[d].getState()===!0&&this._group[d].setState(!1,!0);if(b&&"function"==typeof this._options.onChangeState){var f=this._options.onChangeState.call(this,a,{element:this._element});if(f===!1)return!1}for(d=0,e=this._targets.length;d<e;d++)c.addRemoveClassName(this._targets[d],this._options.classNameOn,a),c.addRemoveClassName(this._targets[d],this._options.classNameOff,!a);c.addRemoveClassName(this._element,"active",a),this._accordionContainer&&this._updateAccordion()}},getState:function(){return c.hasClassName(this._element,"active")}},a.createUIComponent(g),g}),Ink.createModule("Ink.UI.Tooltip","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Browser_1"],function(a,b,c,d,e,f){"use strict";function g(a,b){this._init(a,b||{})}function h(a,b){this._init(a,b)}var i,j,k;!function(){for(var a=document.createElement("DIV"),b=["transition","oTransition","msTransition","mozTransition","webkitTransition"],c=0;c<b.length;c++)if("undefined"!=typeof a.style[b[c]+"Duration"]){i=b[c]+"Duration",j=b[c]+"Property",k=b[c]+"TimingFunction";break}}();var l=document.getElementsByTagName("body"),m=l.length?l[0]:document.documentElement;return g.prototype={_init:function(a,b){var c;if(this.options=Ink.extendObj({where:"up",zIndex:1e4,left:10,top:10,spacing:8,forever:0,color:"",timeout:0,delay:0,template:null,templatefield:null,fade:.3,text:""},b||{}),"string"==typeof a)c=d.select(a);else{if("object"!=typeof a)throw"Element expected";c=[a]}this.tooltips=[];for(var e=0,f=c.length;e<f;e++)this.tooltips[e]=new h(this,c[e])},destroy:function(){e.each(this.tooltips,function(a){a._destroy()}),this.tooltips=null,this.options=null}},h.prototype={_oppositeDirections:{left:"right",right:"left",up:"down",down:"up"},_init:function(c,d){b.observe(d,"mouseover",Ink.bindEvent(this._onMouseOver,this)),b.observe(d,"focus",Ink.bindEvent(this._onMouseOver,this)),b.observe(d,"mouseout",Ink.bindEvent(this._onMouseOut,this)),b.observe(d,"blur",Ink.bindEvent(this._onMouseOut,this)),b.observe(d,"mousemove",Ink.bindEvent(this._onMouseMove,this)),this.root=c,this.element=d,this._delayTimeout=null,this.tooltip=null,a.registerInstance(this,this.element)},_makeTooltip:function(a){if(!this._getOpt("text")&&!this._getOpt("html")&&!c.hasAttribute(this.element,"title"))return!1;var d=this._createTooltipElement();this.tooltip&&this._removeTooltip(),this.tooltip=d,this._fadeInTooltipElement(d),this._placeTooltipElement(d,a),b.observe(d,"mouseover",Ink.bindEvent(this._onTooltipMouseOver,this));var e=this._getFloatOpt("timeout");e&&setTimeout(Ink.bind(function(){this.tooltip===d&&this._removeTooltip()},this),1e3*e)},_createTooltipElement:function(){var b,e,g=this._getOpt("template"),h=this._getOpt("templatefield");if(g){var i=document.createElement("DIV");if(i.innerHTML=a.elOrSelector(g,"options.template").outerHTML,b=i.firstChild,h){if(e=d.select(h,b),!e)throw"options.templatefield must be a valid selector within options.template";e=e[0]}else e=b}else b=document.createElement("DIV"),f.addClassName(b,"ink-tooltip"),f.addClassName(b,this._getOpt("color")),e=document.createElement("DIV"),f.addClassName(e,"content"),b.appendChild(e);return this._getOpt("html")?e.innerHTML=this._getOpt("html"):this._getOpt("text")?c.setTextContent(e,this._getOpt("text")):c.setTextContent(e,this.element.getAttribute("title")),b.style.display="block",b.style.position="absolute",b.style.zIndex=this._getIntOpt("zIndex"),b},_fadeInTooltipElement:function(a){var b=this._getFloatOpt("fade");i&&b&&(a.style.opacity="0",a.style[i]=b+"s",a.style[j]="opacity",a.style[k]="ease-in-out",setTimeout(function(){a.style.opacity="1"},0))},_placeTooltipElement:function(a,b){var d=this._getOpt("where");if(null!==b||"mousemove"!==d&&"mousefix"!==d||(d="up"),"mousemove"===d||"mousefix"===d){var e=b;this._setPos(e[0],e[1]),m.appendChild(a)}else if(d.match(/(up|down|left|right)/)){m.appendChild(a);var g=c.offset(this.element),h=g[0],i=g[1],j=c.elementWidth(this.element)/2-c.elementWidth(a)/2,k=c.elementHeight(this.element)/2-c.elementHeight(a)/2,l=this._getIntOpt("spacing"),n=c.elementDimensions(a),o=c.elementDimensions(this.element),p=c.scrollWidth()+c.viewportWidth(),q=c.scrollHeight()+c.viewportHeight();d=this._getWhereValueInsideViewport(d,{left:h-n[0],right:h+n[0],top:i+n[1],bottom:i+n[1]},{right:p,bottom:q}),"up"===d?(i-=n[1],i-=l,h+=j):"down"===d?(i+=o[1],i+=l,h+=j):"left"===d?(h-=n[0],h-=l,i+=k):"right"===d&&(h+=o[0],h+=l,i+=k);var r=null;d.match(/(up|down|left|right)/)&&(r=document.createElement("SPAN"),f.addClassName(r,"arrow"),f.addClassName(r,this._oppositeDirections[d]),a.appendChild(r));var s=h,t=i,u=t+n[1]-q,v=s+n[0]-p,w=0-s,x=0-t;u>0?(r&&(r.style.top=n[1]/2+u+"px"),t-=u):x>0?(r&&(r.style.top=n[1]/2-x+"px"),t+=x):v>0?(r&&(r.style.left=n[0]/2+v+"px"),s-=v):w>0&&(r&&(r.style.left=n[0]/2-w+"px"),s+=w),a.style.left=s+"px",a.style.top=t+"px"}},_getWhereValueInsideViewport:function(a,b,c){return"left"===a&&b.left<0?"right":"right"===a&&b.right>c.right?"left":"up"===a&&b.top<0?"down":"down"===a&&b.bottom>c.bottom?"up":a},_removeTooltip:function(){var a=this.tooltip;if(a){var b=Ink.bind(c.remove,{},a);"mousemove"!==this._getOpt("where")&&i?(a.style.opacity=0,setTimeout(b,1e3*this._getFloatOpt("fade"))):b(),this.tooltip=null}},_getOpt:function(a){var b=c.data(this.element)[c._camelCase("tip-"+a)];if(b)return b;var d=this.root.options[a];return"undefined"!=typeof d?d:void 0},_getIntOpt:function(a){return parseInt(this._getOpt(a),10)},_getFloatOpt:function(a){return parseFloat(this._getOpt(a),10)},_destroy:function(){this.tooltip&&c.remove(this.tooltip),this.root=null,this.element=null,this.tooltip=null},_onMouseOver:function(a){var b;b="mouseover"!==a.type?null:this._getMousePosition(a);var c=this._getFloatOpt("delay");c?this._delayTimeout=setTimeout(Ink.bind(function(){this.tooltip||this._makeTooltip(b),this._delayTimeout=null},this),1e3*c):this._makeTooltip(b)},_onMouseMove:function(a){if("mousemove"===this._getOpt("where")&&this.tooltip){var b=this._getMousePosition(a);this._setPos(b[0],b[1])}},_onMouseOut:function(){this._getIntOpt("forever")||this._removeTooltip(),this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=null)},_onTooltipMouseOver:function(){this.tooltip&&this._removeTooltip()},_setPos:function(a,b){a+=this._getIntOpt("left"),b+=this._getIntOpt("top");var d=this._getPageXY();if(this.tooltip){var e=[c.elementWidth(this.tooltip),c.elementHeight(this.tooltip)],f=this._getScroll();e[0]+a-f[0]>=d[0]-20&&(a=a-e[0]-this._getIntOpt("left")-10),e[1]+b-f[1]>=d[1]-20&&(b=b-e[1]-this._getIntOpt("top")-10),this.tooltip.style.left=a+"px",this.tooltip.style.top=b+"px"}},_getPageXY:function(){var a=0,b=0;return"number"==typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(a=document.body.clientWidth,b=document.body.clientHeight),[parseInt(a,10),parseInt(b,10)]},_getScroll:function(){var a=document.documentElement,b=document.body;return a&&(a.scrollLeft||a.scrollTop)?[a.scrollLeft,a.scrollTop]:b?[b.scrollLeft,b.scrollTop]:[0,0]},_getMousePosition:function(a){return[parseInt(b.pointerX(a),10),parseInt(b.pointerY(a),10)]}},g}),Ink.createModule("Ink.Autoload",1,["Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Loaded_1","Ink.UI.SmoothScroller_1","Ink.UI.Close_1","Ink.UI.Drawer_1"],function(a,b,c,d,e,f){"use strict";function g(b){try{a.select(b,h)}catch(c){return Ink.error(c),!1}return!0}var h=document.createElement("div"),i={selectors:{Carousel_1:".ink-carousel",DatePicker_1:".ink-datepicker",FormValidator_2:".ink-formvalidator",Modal_1:".ink-modal",Sticky_1:".ink-sticky, .sticky",Tabs_1:".ink-tabs",Toggle_1:".ink-toggle, .toggle",Tooltip_1:".ink-tooltip, .tooltip"},defaultOptions:{},run:function(c,g){function h(d){var e;/\./.test(d)&&(d=d.split("."),e=d[1],d=d[0]);var f="Ink.UI."+d,h=a.select(g.selectors[d],c);h=b.filter(h,j),h.length&&Ink.requireModules([f],function(a){b.forEach(h,function(b){"function"==typeof a.getInstance&&null!=a.getInstance(b)||(e?a[e](b,i.defaultOptions[d]):new a(b,i.defaultOptions[d]))})})}function j(a){return g.forceAutoload===!0||("function"==typeof a.getAttribute||"object"==typeof a.getAttribute?"false"!==a.getAttribute("data-autoload"):void 0)}g=Ink.extendObj({selectors:i.selectors},g||{});for(var k in g.selectors)g.selectors.hasOwnProperty(k)&&h(k);g.createClose!==!1&&new e,g.createSmoothScroller!==!1&&d.init(),g.createDrawer!==!1&&(!a.matchesSelector(document.body,".ink-drawer")||f.getInstance&&f.getInstance(document.body)||new f(document.body))},add:function(a,b){return!!g(b)&&void(i.selectors[a]?i.selectors[a]+=", "+b:i.selectors[a]=b)},remove:function(a){delete i.selectors[a]}};for(var j in i.selectors)i.selectors.hasOwnProperty(j)&&(i.defaultOptions[j]={});return window.INK_NO_AUTO_LOAD||c.run(function(){i.run(document,{createSmoothScroller:!0,createClose:!0}),i.firstRunDone=!0}),i}),Ink.createModule("SAPO.Utils",1,["Ink.Util.Array_1","Ink.Util.Url_1","Ink.Dom.Event_1"],function(a,b,c){"use strict";function d(c,d,e){return encodeURIComponent(a.filter([e||window.location.protocol+"//"+window.location.host+window.location.pathname,b.getAnchorString().pid?"?pid="+b.getAnchorString().pid:null,window.location.hash,this.swaShareAttrs(d,c,document.title,this.includes(window.location.pathname,"?"))],function(a){return Boolean(a)}).join(""))}function e(a,b,c,d){var e=[d?"&":"?","utm_source="+b.charAt(0).toUpperCase()+b.slice(1),"&utm_medium=web","&utm_campaign=sharebutton"].join("");return e}function f(a){switch(a){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u=";case"google":return"http://plus.google.com/share?url=";case"pinterest":return"http://pinterest.com/pin/create/link/?url=";case"twitter":return"https://twitter.com/intent/tweet?url=";case"linkedin":return"https://www.linkedin.com/sharing/share-offsite/?url=";case"whatsapp":return"https://api.whatsapp.com/send";case"facebook-messenger":return"fb-messenger://share";default:return}}function g(){dataLayer&&(dataLayer.push({is_virtualPageview:"true"}),dataLayer.push({event:"virtualPageView"}))}function h(a,b,c){dataLayer&&(dataLayer.push({pageview_type:"widget"}),dataLayer.push({event:"widgetEvent",Category:a,Action:b,Label:c}))}function i(a,b,c){dataLayer&&dataLayer.push({event:"eventSAPO",Category:a,Action:b,Label:c})}function j(a){if(!a||"undefined"===a)return"";var b="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",c="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnooooooooprrsssssttuuuuuuuuuwxyyzzz------";a=a.toLowerCase();for(var d=0;d<b.length;d++)a=a.replace(new RegExp(b[d],"g"),c[d]);return a.replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function k(a){c.observe(a,"touchstart",function(a){c.stopDefault(a),history.go(-1)}),c.observe(a,"click",function(a){c.stopDefault(a),history.go(-1)})}function l(a,b){return a.indexOf(b)>-1}function m(a){return Math.random().toString(36).slice(2,a||11)}function n(a,b){var c=document.createElement("script");c.src=a,null!==b&&(c.readyState?c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onreadystatechange=null,b())}:c.onload=function(){b()}),document.getElementsByTagName("head")[0].appendChild(c)}function o(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}function p(a){var b={};try{a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,c,d){a&&(b[decodeURIComponent(c)]=decodeURIComponent(d))})}catch(c){}return b}function q(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function r(a,b){return b=q(b),b?a+(/\?|&/.test(a)?"&":"?")+b:a}function s(a){a=/^(?:(?![^:@?]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@?]*):?([^:@?]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);for(var b=["href","protocol","host","userInfo","user","pass","hostname","port","relative","pathname","directory","file","search","hash"],c=b.length,d={};c--;)a[c]&&(d[b[c]]=a[c]);return d.search&&(d.searchParams=p(d.search)),d.hash&&(d.hashParams=p(d.hash)),d}function t(a,b){b=[].slice.call(arguments,1);for(var c=0,d=b.length;c<d;c++)if(b[c])for(var e in b[c])Object.prototype.hasOwnProperty.call(b[c],e)&&(a[e]=b[c][e]);return a}function u(){return/iphone|ipad|ipod|android/i.test(navigator.userAgent)}function v(a){return null!=a&&void 0!=a}function w(){return window.getComputedStyle(Ink.s("body"),":before").getPropertyValue("content").replace(/\"/g,"")}function x(){return/Trident/.test(navigator.userAgent)}function y(){return/iPad|iPod|iPhone|iOS/.test(navigator.userAgent)}function z(){return/Edge/.test(navigator.userAgent)}function A(a){var b="//thumbs.web.sapo.io/?",c=[];return a.src&&c.push("p="+encodeURIComponent(a.src)),a.epic&&c.push("epic="+a.epic),a.hash&&c.push("hash="+a.hash),a.width&&c.push("W="+a.width),a.height&&c.push("H="+a.height),a.quality&&c.push("Q="+a.quality),a.crop&&c.push("crop="+a.crop),c.push("errorpic="+(a.error?encodeURIComponent(a.error):"transparent")),a.png&&c.push("png=1"),a.optimize&&c.push("optim=1"),a.delay&&c.push("delay_optim=1"),a.tv&&c.push("tv="+a.tv),b+c.join("&")}function B(){return!!(G||window.vc&&window.vc.isPlaying()||window.LiveBlogVideo&&Object.keys(window.LiveBlogVideo).length||window.SAPO&&window.SAPO.VideoPlayer&&window.SAPO.VideoPlayer.playing&&window.SAPO.VideoPlayer.playing())}function C(a){if(a?"#"!=a.charAt(0)&&(a="#"+a):a="","replaceState"in history)history.replaceState("",document.title,location.pathname+location.search+a);else{var b=document.body.scrollTop,c=document.body.scrollLeft;location.hash=a,document.body.scrollTop=b,document.body.scrollLeft=c}}function D(b,c){var d=[];if(b)if(b.path||b.composedPath)d=b.path||b.composedPath(),c&&a.each(d,c);else if(b.target)for(var e=b.target;e&&e.parentNode;)d.push(e),c(e),e=e.parentNode;return d}function E(a,b){for(;(a=a.parentElement)&&!(a.matches||a.matchesSelector).call(a,b););return a}function F(a,b,c,d,e,f){v(f)?console.log(a,b,c,d,e,f):v(e)?console.log(a,b,c,d,e):v(d)?console.log(a,b,c,d):v(c)?console.log(a,b,c):v(b)?console.log(a,b):console.log(a)}var G=!1;return c.observe(window,"message",function(a){try{var b=JSON.parse(a.data);G=b&&b.method&&l(["adPlay","play"],b.method)}catch(a){}}),window._getSocialShareUrl||(window._getSocialShareUrl=f),{swaShareAttrs:e,getShareUrl:d,getSocialShareUrl:f,trackGTMPageView:g,trackGTMEvent:i,trackGTMWidget:h,slugify:j,backHistory:k,includes:l,random:m,loadAsync:n,hasLocalStorage:o,keyValueDecode:p,keyValueEncode:q,urlEncode:r,urlDecode:s,extend:t,isTouchDevice:u,isset:v,breakpoint:w,isIE:x,isIOS:y,isOldEdge:z,getThumbnail:A,isPlaying:B,setHash:C,parents:D,findAncestor:E,log:F}}),Ink.createModule("SAPO.SocialButtons",1,["Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Util.Array_1","SAPO.Utils_1"],function(a,b,c,d,e){"use strict";function f(a,b){p.copy||(p.copy=document.createElement("input"),b.appendChild(p.copy)),p.copy.value=a,p.copy.focus(),p.copy.select(),p.copy.setSelectionRange(0,99999),document.execCommand("copy"),p.copy.blur()}function g(a,b,c,d,g){if(d&&(d.preventDefault(),d.stopPropagation()),"copy"==a)f(c||window.location.href,g);else{var h=e.getShareUrl(a,b,c),i=e.getSocialShareUrl(a),j="";switch(a){case"facebook":j="height=650,width=1024,scrollbars=1";break;case"google":break;case"pinterest":j="height=440,width=620,scrollbars=1";break;case"twitter":j="height=650,width=1024,scrollbars=1";break;case"linkedin":j="height=650,width=1024,scrollbars=1";break;case"whatsapp":h="?text="+h;break;case"facebook-messenger":h="?link="+h}var k=[i,h].join("");window.open(k,"",j)}l()}function h(a){a&&d.forEach(a,function(a){var b=a.getAttribute("data-social-replace-url")||"";b&&!a.hasAttribute("href")&&a.setAttribute("href",b),c.observe(a,"click",function(b){var c=a.getAttribute("data-social-share-name"),d=a.getAttribute("data-social"),e=a.getAttribute("data-social-replace-url")||"";g(d,c,e,b,a)})})}function i(a,c){var d=o.selectors.url;c&&o.selectors[c]&&(d=o.selectors[c]);var e=a.getAttribute(d);if(!e){var f=b.findUpwardsBySelector(a,"["+d+"]");f&&(e=f.getAttribute(d))}return e&&window.location.hash&&(e+=window.location.hash),e}function j(a,b,d,e){d&&(o.hidden=d),p.modal=document.createElement("div");for(var f in o.modal)p.modal.setAttribute(f,o.modal[f]);p.modal.setAttribute("id",o.id);var g=[];g.push("<button "+o.selectors.close+' data-kpi="social-buttons-close,nav,static"><i class="fa fa-times"></i></button>'),g.push("<ul>");var j=i(a,e);b&&!j&&(j=i(b,e));for(var k in o.social)g.push('<li><a aria-label="'+o.social[k].title+'" title="'+o.social[k].title+'" data-kpi="social-buttons-'+k+',nav,static" data-social="'+k+'" '+(j?'data-social-replace-url="'+j+'"':"")+' data-social-share-name="sapo_share"><i class="'+o.social[k].icon+'"></i></a></li>');g.push("</ul>"),p.modal.innerHTML=g.join("");var m=Ink.s("["+o.selectors.close+"]",p.modal);m&&c.on(m,"click",l);var n=Ink.ss(o.selectors.item,p.modal);n&&h(n),a.appendChild(p.modal)}function k(b,c,d,e){l(),b||(b=p.body),j(b,c,d,e),!a.hasClassName(b,o.style.parent)&&a.addClassName(b,o.style.parent)}function l(){p.modal&&b.remove(p.modal),delete p.modal,delete p.copy,o.hidden&&o.hidden(),delete o.hidden}function m(){var a="["+o.selectors.link+"]",b=Ink.ss(a);b&&d.each(b,function(a){var b=a,d=Ink.s("["+o.selectors.trigger+"]",b);d&&(a=d),c.on(a,"click",function(){k(b,a,null,"link")})})}function n(){var a=Ink.ss(o.selectors.item);a&&h(a),p.body=document.body||document.documentElement||Ink.s("body"),m()}var o={id:"modal-social-share",selectors:{item:"a[data-social]",url:"data-social-share-url",link:"data-social-share-link",trigger:"data-social-share-trigger",modal:"data-social-share-modal",close:"data-social-share-close"},style:{hide:"hide-all",parent:"modal-social-share"},modal:{role:"dialog","aria-hidden":"true","aria-label":"Partilhar"},social:{facebook:{title:"Facebook",icon:"fa-brands fa-facebook-f"},twitter:{title:"X",icon:"fa-brands fa-x-twitter"},x:{title:"X",icon:"fa-brands fa-x-twitter"},whatsapp:{title:"WhatsApp",icon:"fa-brands fa-whatsapp"},linkedin:{title:"LinkedIn",icon:"fa-brands fa-linkedin-in"},copy:{title:"Copiar Link",icon:"fa fa-link"}}},p={};return{init:n,show:k,hide:l}}),Ink.requireModules(["SAPO.SocialButtons_1"],function(a){"use strict";window.SocialButtons=a,a.init()}),Ink.requireModules(["Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Util.Url_1","Ink.Net.Ajax_1","SAPO.Utils_1","Ink.Dom.Element_1"],function(a,b,c,d,e,f,g){"use strict";var h;"undefined"!=typeof window.dataLayer&&window.dataLayer.forEach(function(a){"undefined"!=typeof a.page_type&&(h=a.page_type)});var i="";Ink.s(".pswp-ad")&&(i=Ink.s(".pswp-ad").getAttribute("data-pub-target")||"");var j=document.title,k=0,l=!1,m={},n=!1,o=!1,p=!0,q=function(){var a="lossy",b={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},c=new Image;c.onload=function(){o=c.width>0&&c.height>0},c.onerror=function(){o=!1},c.src="data:image/webp;base64,"+b[a]};q();for(var r=function(a){var c=Ink.s(".pswp-related-articles .close"),d=Ink.s(".pswp-related-articles"),e=a.target;c!=e&&!c.contains(e)&&d.contains(e)||(b.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("click",r))},s=function(a){var c=/(27|39|37)/;c.test(a.keyCode)&&(b.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("keydown",s))},t=function(){setTimeout(function(){document.addEventListener("click",r,!1),document.addEventListener("keydown",s,!1)},0),b.addClassName(Ink.s(".pswp-ctn"),"show-related-articles"),"undefined"!=typeof SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()},u=function(c,q){function u(c,d,e,g){var q,u,w=Ink.s(".pswp"),B=!0;e=!0,F(),A(d,function(A){if(u={galleryUID:d.getAttribute("data-pswp-uid"),clickToCloseNonZoomable:!1},u.getThumbBoundsFn=function(a){if(A[a].html)return!1;var b=d,c=window.pageYOffset||document.documentElement.scrollTop,e=b.getBoundingClientRect();return{x:e.left,y:e.top+c,w:e.width}},g)if(u.galleryPIDs){for(var C=0;C<A.length;C++)if(A[C].pid===c){u.index=C;break}}else u.index=parseInt(c,10)-1;else u.index=parseInt(c,10);if(!isNaN(u.index)){e?(u.showAnimationDuration=0,u.hideAnimationDuration=0):u.showHideOpacity=!0,u.closeOnScroll=!1,u.fullscreenEl=!1,u.closeElClasses=[],u.shareButtons=[{id:"facebook",label:"Partilhar no Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Partilhar no Twitter",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"}],q=new PhotoSwipe(w,PhotoSwipeUI_Default,A,u);var D={};Ink.ss(".pswp-ad").forEach(function(a){l&&(D.oldPubTarget=a.getAttribute("data-pub-target"),D.oldPubSiteId=a.getAttribute("data-pub-siteid"),D.oldPubPageId=a.getAttribute("data-pub-pageid"),i=m.pubTarget,a.setAttribute("data-pub-target",m.pubTarget),a.setAttribute("data-pub-siteid",m.siteId),a.setAttribute("data-pub-pageid",m.pageId))}),m.pubTarget=D.oldPubTarget,m.siteId=D.oldPubSiteId,m.pageId=D.oldPubPageId;var E=function(){return q.getCurrentIndex()===q.items.length-1};q.listen("gettingData",function(a,b){if(o&&(b.src.indexOf("webp=1")==-1&&(b.src=b.src+"&webp=1"),b.msrc.indexOf("webp=1")==-1&&(b.msrc=b.msrc+"&webp=1")),1==b.w||1==b.h){var c=new Image;c.onload=function(){b.w=this.width,b.h=this.height,q.invalidateCurrItems(),q.updateSize(!0)},c.src=b.src}}),q.listen("close",function(){setTimeout(function(){x=999999,document.title=j,b.removeClassName(Ink.s(".pswp-ctn"),"open"),I(G),window.dataLayer=window.dataLayer||[],window.dataLayer.push({page_type:h,page_number:void 0}),b.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("click",r),document.removeEventListener("keydown",s),l&&(dataLayer.push(dataLayer[0]),Ink.ss(".pswp-ad").forEach(function(a){i=m.pubTarget,a.setAttribute("data-pub-target",m.pubTarget),a.setAttribute("data-pub-siteid",m.siteId),a.setAttribute("data-pub-pageid",m.pageId)}))},0)});var F;if(q.listen("afterChange",function(){clearTimeout(F),F=setTimeout(function(){if(!q.currItem||1!=q.currItem.w||1!=q.currItem.h){document.title=q.currItem.dataTitle,p&&H(q.currItem.shareUrl);var a=q.getCurrentIndex();if(0==k&&(Ink.ss(".pswp-ad").forEach(function(a){a.setAttribute("data-pub-target",i+(""!=q.currItem.extraMetadata&&i.indexOf("extraMetadata")<0?"extraMetadata="+q.currItem.extraMetadata:""))}),"undefined"!=typeof SAPO&&SAPO.CPU&&SAPO.CPU.afterProcess(function(){SAPO.CPU.refresh(".pswp-ad")})),k<2?k++:k=0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({page_type:"gallery",page_number:"photo-"+(q.getCurrentIndex()+1),first_photo:O}),B&&!O&&f.trackGTMPageView(),O=!1,x==y&&0==a&&v&&!n&&q.items&&q.items.length>1){if(z)return;t(),z=!0}E()&&(x=a),y=q.getCurrentIndex()}},150)}),q.listen("shareLinkClick",function(a,b){var c=b.className.replace("pswp__share--","");b.href=[f.getSocialShareUrl(c),encodeURIComponent([q.currItem.shareUrl,f.swaShareAttrs(q.currItem.projectName,c,q.currItem.title,!1)].join(""))].join("")}),/^(tiny|small|medium)$/.test(Ink.UI.Common_1.currentLayout())){var J,K=(Ink.s(".pswp"),{showAd:"show-mobile-ad",enterLeft:"pswp-mobile-ad-enter-left",enterRight:"pswp-mobile-ad-enter-right",exitLeft:"pswp-mobile-ad-exit-left",exitRight:"pswp-mobile-ad-exit-right"}),L=".pswp-mobile-ad",M=Ink.s(".pswp__container"),N=5,P=3,Q=-1,R=1e4,S=300,T=function(){return b.hasClassName(w,K.showAd)},U=function(){return b.hasClassName(Ink.s("body"),"hide-ads")},V=function(){clearTimeout(J),Ink.s(L)&&(Ink.s(L).innerHTML=""),setTimeout(function(){var a=Q;Q=-1,q.goTo(a)},0),setTimeout(function(){M.style.visibility="visible"},S/2),setTimeout(function(){b.removeClassName(w,[K.showAd,K.enterRight,K.enterLeft,K.exitRight,K.exitLeft])},S),a.stopObserving(Ink.s(".pswp-ctn"),"click",Y)},W=function(){U()||(P=N-1,M.style.visibility="hidden",b.addClassName(w,K.showAd),"undefined"!=typeof SAPO&&SAPO.CPU&&SAPO.CPU.afterProcess(function(){SAPO.CPU.refresh(L)}),Q=q.getCurrentIndex(),J=setTimeout(V,R),a.observe(Ink.s(".pswp-ctn"),"click",Y))};window.onpopstate=function(a){T()&&V()};var X;q.listen("beforeChange",function(a){clearTimeout(X),X=setTimeout(function(){T()&&Q!==-1?(b.addClassName(w,a>0?K.exitLeft:K.exitRight),V()):0===P--&&(b.addClassName(w,a>0?K.enterRight:K.enterLeft),W())},150)});var Y=function(a){a.target!==Ink.s(L)&&V()}}b.addClassName(Ink.s(".pswp-ctn"),"open"),q.init()}})}f.includes(window.location.href,"manchetes")&&(p=!1);for(var v=c.getAttribute("data-ps-photogallery-id"),w=Ink.s("#pswp-related-articles-ctn"),x=9999999,y=99999999,z=!1,A=function(a,c){if(l){var f=a.getAttribute("data-ps-ajax-trigger"),h=a.getAttribute("href");!h&&(h="");var i=g.findUpwardsByTag(a,"li").children[0];b.addClassName(i,"loading"),new e(f,{method:"GET",onSuccess:function(d,f){var g=d.responseJSON;g.forEach(function(b){b.dataTitle=b.title,b.title=b.titleHtml,b.shareUrl=a.href}),new e(h,{method:"GET",onSuccess:function(a,b){var d=JSON.parse(b.dataLayer),e=JSON.parse(b.publicity);dataLayer.push(d),m.siteId=e.siteId,m.pageId=e.galleryPageId,m.pubTarget=e.target,c(g)},parameters:{show_data_layer:!0},onComplete:function(){b.removeClassName(i,"loading")}})}})}else{var j=null,k=[];if(b.hasClassName(a.parentNode,"photo-swipe")?j=a.parentNode:b.hasClassName(a.parentNode.parentNode,"photo-swipe")?j=a.parentNode.parentNode:b.hasClassName(a.parentNode.parentNode.parentNode,"photo-swipe")&&(j=a.parentNode.parentNode.parentNode),null!=j&&(k=Ink.ss("[data-ps-trigger]",j)),0==k.length&&(k=Ink.ss("li",a.parentNode.parentNode)),0==k.length&&(k=Ink.ss("li",a.parentNode.parentNode.parentNode)),0==k.length&&(k=Ink.ss("li",a.parentNode.parentNode.parentNode.parentNode.parentNode)),a.getAttribute("data-ps-single-photo")){var k=[];k.push(a)}for(var n,o,p,q,r,s,t=k.length,u=[],v=0;v<t;v++)1===k[v].nodeType&&(p=Ink.s("picture",k[v]),n=[parseInt(p.getAttribute("data-original-w"),10),parseInt(p.getAttribute("data-original-h"),10)],n[0]>=n[1]?(r=Math.min(n[0],2100),q=n[0]/r,s=Math.min(n[1]/q,2100*q)):(s=Math.min(n[1],2100),q=n[1]/s,r=Math.min(n[0]/q,2100*q)),null!=p.getAttribute("data-original-src")&&p.setAttribute("data-msrc","//thumbs.web.sapo.io/?pic="+("//"==p.getAttribute("data-original-src").substring(0,2)?"http:":"")+p.getAttribute("data-original-src")+"&W="+parseInt(r)+"&H="+parseInt(s)+"&delay_optim=1&tv=2"),"//thumbs.web.sapo.io/"==d.parseUrl(p.getAttribute("data-original-src")).path&&p.setAttribute("data-msrc",p.getAttribute("data-original-src")),o={src:p.getAttribute("data-msrc"),w:r,h:s,title:p.getAttribute("data-caption")||p.alt||p.title||"",extraMetadata:p.getAttribute("data-data-extrameta")||"",dataTitle:p.getAttribute("data-title")||"",msrc:p.getAttribute("data-msrc")||p.getAttribute("data-title")||"",shareUrl:p.getAttribute("data-share-url")||window.location.href.substring(0,window.location.href.indexOf("#"))||"",projectName:p.getAttribute("data-social-share-name")||"sapo"},o.el=p,u.push(o));c(u)}},B=function P(a,b){return a&&(b(a)?a:P(a.parentNode,b))},C=function(a){a=a||window.event,z=!1,a.preventDefault?a.preventDefault():a.returnValue=!1,l=!1;var b=a.target||a.srcElement,c=B(b,function(a){return a.getAttribute("data-pswp-uid")});if(c){var d=c,e=B(b,function(a){return a.getAttribute("data-index")}).getAttribute("data-index");u(e||0,d,!1)}},D=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1,l=!0;var b=a.currentTarget||a.target||a.srcElement,d=b;v=c.getAttribute("data-ps-photogallery-id"),u(0,d,!1)},E=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=b.gid),b},F=function(){v&&new e("/api/service/photo_gallery_related/"+v,{method:"GET",onSuccess:function(a,b){var c=a.responseText;w.innerHTML="",w.innerHTML=c,n=!1},onFailure:function(){n=!0},on404:function(){n=!0}})},G=window.location.href,H=function(a){if(a||(a="#"),!b.hasClassName(Ink.s(".pswp"),"show-mobile-ad")){var c=document.createElement("a");c.href=a,c.host=location.host,c.protocol=location.protocol,history.replaceState({},j,c.href)}},I=function(a){var b=document.createElement("a");b.href=a,b.host=location.host,b.protocol=location.protocol,history.replaceState({},"",b.href),history.pushState({},j,a)},J="a[data-ps-trigger]",K=Ink.ss(J,c),L=0,M=K.length;L<M;L++)K[L].setAttribute("data-pswp-uid",q);a.observeDelegated(c,"click",J,C),c.getAttribute("data-ps-ajax-trigger")&&(c.setAttribute("data-pswp-uid",1),
a.observe(c,"click",D));var N=E(),O=!1;!c.getAttribute("data-ps-ajax-trigger")&&N.gid&&N.gid==q&&N.pid&&(O=!0,u(N.pid,Ink.s("[data-pswp-uid="+N.gid+"]"),!1,!0)),Ink.ss("[data-newspaper-id]",c)&&window.location.href.replace(/jornais\/([a-zA-Z-]+)\/(\d+)/,function(a,b,d){var e=!c.getAttribute("data-pswp-open");!f.includes(window.location.href,"arquivo")&&e&&Ink.s('[data-newspaper-id="'+d+'"]')&&Ink.s('[data-newspaper-id="'+d+'"]').click()})},v=0;v<Ink.ss(".photo-swipe").length;v++)u(Ink.ss(".photo-swipe")[v],v+1);for(var v=0;v<Ink.ss("a[data-ps-ajax-trigger]").length;v++)u(Ink.ss("a[data-ps-ajax-trigger]")[v],v+1)}),function(){"use strict";var a=window,b=document,c=!1,d=!1,e=!!navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection),f={debug:!1,doubleSize:!1,quality:25,showRetina:!(e&&(["slow-2g","2g","3g"].indexOf(e.effectiveType)>-1||"cellular"===e.type)),selector:"data-lazy",picture:'picture[data-lazy="true"]',margin:"250",lazy:["","img","style","taboola","facebook","script","sapovideos","iframe","sapofun","widget"]};!a.SAPO&&(a.SAPO={}),!a.SAPO.LAZYPICTURE&&(a.SAPO.LAZYPICTURE=function(){function e(a,c){var d=c?c:b;return d.querySelector(a)}function g(a,c){var d=c?c:b;return d.querySelectorAll(a)}function h(a){if(f.doubleSize){var b=/&W=([0-9]{1,4})&H=([0-9]{1,4})/g,c=b.exec(a);if(c&&c.length>2){var d=2*parseInt(c[1]),e=2*parseInt(c[2]),g=a;(d>2100||e>2100)&&(d>=e?(e=2100*e/d,d=2100):d<e&&(d=2100*d/e,e=2100)),g=g.replace("&W="+Math.ceil(c[1]),"&W="+Math.ceil(d)),g=g.replace("&H="+Math.ceil(c[2]),"&H="+Math.ceil(e))}return g+"&Q="+f.quality+(f.showRetina?" 1x, "+g+" 2x":"")}if(!f.showRetina)return a;var b=/[&\?]W=([0-9]{1,4})&H=([0-9]{1,4})/g,c=b.exec(a);if(c&&c.length>2){var d=2*parseInt(c[1]),e=2*parseInt(c[2]),g=a;return(d>2100||e>2100)&&(d>=e?(e=2100*e/d,d=2100):d<e&&(d=2100*d/e,e=2100)),g=g.replace("?W="+Math.ceil(c[1]),"?W="+Math.ceil(d)),g=g.replace("&W="+Math.ceil(c[1]),"&W="+Math.ceil(d)),g=g.replace("&H="+Math.ceil(c[2]),"&H="+Math.ceil(e)),a+" 1x, "+g+" 2x"}return a}function i(b,c,d){c.addEventListener?c.addEventListener(b,d,!1):c.attachEvent&&c.attachEvent("on"+b,function(b){d(b||a.event)})}function j(b,c){"boolean"==typeof c&&(c={partial:c,margin:0});var d=b.getBoundingClientRect(),e={width:a.innerWidth,height:a.innerHeight};return c.partial?d.bottom+c.margin>0&&d.left-c.margin<e.width&&d.top-c.margin<e.height&&d.right+c.margin>0:d.top+c.margin>0&&d.right-c.margin<e.width&&d.bottom-c.margin<e.height&&d.left+c.margin>0}function k(a){a.init&&(a.init(),a.removeAttribute(f.selector+"-widget"),a.rendering&&clearInterval(a.rendering),delete a.init,delete a.rendering)}function l(b){return f.lazy.forEach(function(a){if(b.hasAttribute(f.selector+""+(a?"-"+a:""))&&"false"===b.getAttribute(f.selector+""+(a?"-"+a:"")))return!0}),!!b.offsetParent&&((!("onscroll"in window)||j(b,{partial:!0,margin:f.margin}))&&"none"!==a.getComputedStyle(b).display&&"hidden"!==a.getComputedStyle(b).visibility&&b.offsetWidth>0&&b.offsetHeight>0)}function m(a){if(a.hasAttribute(f.selector+"-style"))return a.setAttribute("style",(a.getAttribute("style")?a.getAttribute("style")+"; ":"")+a.getAttribute(f.selector+"-style")),void a.removeAttribute(f.selector+"-style");if(a.hasAttribute(f.selector+"-sapovideos")){var b=document.createElement("iframe");return b.frameBorder=0,b.scrolling="no",b.src=a.getAttribute("data-sapovideos-src"),b.allowFullscreen=!0,b.setAttribute("mozallowfullscreen",""),b.setAttribute("webkitallowfullscreen",""),b&&a.appendChild(b),void a.removeAttribute(f.selector+"-sapovideos")}if(a.hasAttribute(f.selector+"-iframe")){if(!a.hasAttribute("data-iframe-src"))return;return a.src=a.getAttribute("data-iframe-src"),void a.removeAttribute(f.selector+"-iframe")}if(a.hasAttribute(f.selector+"-img")){if(!a.hasAttribute("data-src"))return;return a.src=a.getAttribute("data-src").includes("[timestamp]")?a.getAttribute("data-src").replace("[timestamp]",(new Date).getTime()):a.getAttribute("data-src"),void a.removeAttribute(f.selector+"-img")}if(a.hasAttribute(f.selector+"-taboola"))return window._taboola=window._taboola||[],_taboola.push({article:"auto"}),!function(a,b,c,d){document.getElementById(d)||(a.async=1,a.src=c,a.id=d,b.parentNode.insertBefore(a,b))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/"+a.getAttribute("data-taboola-account")+"/loader.js","tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"),_taboola.push({mode:a.getAttribute("data-taboola-mode"),container:a.getAttribute("data-taboola-container"),placement:a.getAttribute("data-taboola-placement"),target_type:a.getAttribute("data-taboola-type")}),void a.removeAttribute(f.selector+"-taboola");if(a.hasAttribute(f.selector+"-facebook"))return function(b,c,d){var e,f=b.getElementsByTagName(c)[0];if(!b.getElementById(d)){var g=function(c){var d=c&&window.FB?document.querySelector(".fb_iframe_widget"):null;if(!d){var e={view:document.querySelector("#comentarios .fb-comments"),error:document.querySelector("#comentarios [data-fb-comments-err]")};e.view&&e.view.classList&&e.view.classList.add("hide-all"),e.error&&e.error.classList&&e.error.classList.remove("hide-all")}b.getElementById(a.getAttribute("data-facebook-comment-id")).classList.remove("loading")};e=b.createElement(c),e.id=d,e.onload=function(){setTimeout(function(){window.FB?window.FB.getLoginStatus(function(a){g(a&&a.status&&"unknown"!=a.status)}):g()},1500)},e.src="https://connect.facebook.net/pt_PT/sdk.js#xfbml=1&version=v13.0"+(a.getAttribute("data-facebook-app-id")?"&appId="+a.getAttribute("data-facebook-app-id"):"")+"&autoLogAppEvents=1",f.parentNode.insertBefore(e,f)}}(document,"script","facebook-jssdk"),void a.removeAttribute(f.selector+"-facebook");if(a.hasAttribute(f.selector+"-script")){var c=a.getAttribute("data-src");if(c){a.removeAttribute(f.selector+"-script"),a.removeAttribute("data-src");var d=Ink.loadScript(c);d&&a.appendChild(d)}}else{if(a.hasAttribute(f.selector+"-widget"))return void(a.init?k(a):a.rendering||(a.rendering=setInterval(function(){k(a)},150)));for(var i=g("source",a),j=e("img",a),l=!1,m=0;m<i.length;m++)i[m].hasAttribute("data-srcset")&&(i[m].setAttribute("srcset",h(i[m].getAttribute("data-srcset"))),i[m].removeAttribute("data-srcset"),l||"image/webp"!==i[m].getAttribute("type")||(l=!0));j&&j.getAttribute("data-src")&&(j.setAttribute("src",j.getAttribute("data-src")),j.setAttribute("srcset",h(j.getAttribute("data-src"))),j.removeAttribute("data-src")),a.setAttribute(f.selector+"","done"),a.className.indexOf("loaded")<0&&(a.className=a.className+" loaded",!l&&f.debug&&(a.style=a.style.cssText+"border: 4px solid red;"))}}function n(a,b){function c(){var f=+new Date,g=f-e,h=arguments,i=this;return g>=b?(e=f,a.apply(this,arguments)):(d&&clearTimeout(d),void(d=setTimeout(function(){return d=null,c.apply(i,h)},b-g)))}b=b||0;var d,e=0;return c}function o(b){if(!d){d=!0,b&&(b.selector&&(f.picture=b.selector),b.margin&&(f.margin=b.margin)),p();for(var c=g("["+f.selector+"-horizontal]"),e=0;e<c.length;e++)i("scroll",c[e],n(p,100));i("scroll",a,n(p,100)),i("resize",a,n(p,100))}}function p(){if(!d)return!1;if(!c){c=!0;for(var a=g(f.picture),b=0;b<a.length;b+=1)l(a[b])&&m(a[b]);f.lazy.forEach(function(a){for(var b=g("["+f.selector+(a?"-"+a:"")+"]"),c=0;c<b.length;c++)l(b[c])&&m(b[c])}),c=!1}}return{init:o,refresh:p}}()),SAPO.LAZYPICTURE.init()}(),Ink.createModule("SAPO.Notifications",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.UI.Modal_1","Ink.Dom.Loaded_1","SAPO.Utils_1"],function(a,b,c,d,e,f,g){"use strict";function h(){"undefined"!=typeof InstallTrigger?N.browser="firefox":window.chrome&&(window.chrome.webstore||window.chrome.runtime)&&(N.browser=navigator.userAgent.indexOf("Edg")!=-1?"edge":"chrome")}function i(a){return"data-notifications-"+a}function j(b){b&&O.buttons&&a.forEach(O.buttons,b)}function k(){var a="granted"==N.permission&&N.subscribed;return a}function l(){q(),k()&&(N.button&&(r(N.button),delete N.button),N.promo&&N.promo()),n("denied"==N.permission),q(!1)}function m(){if(N.browser){if(N.denied){var a=Ink.s("["+i("image")+"]");a&&!a.innerHTML&&(a.innerHTML='<img src="https://homepagept.web.sapo.io/assets/img/'+N.site+"/notifications/"+N.browser+'.jpg"/>')}var b=N.denied?"firefox"==N.browser?378:430:N.height;O.modal&&(O.modal.style.height=b+"px",O.modal.style.marginTop="-"+b/2+"px")}}function n(a){if(!N.init.subdomainName){N.denied=a;var b=Ink.s("["+i("denied")+"]");b&&d.setClassName(b,N.css.hide,!a);var c=Ink.s("["+i("view")+"]");c&&d.setClassName(c,N.css.hide,a),m()}}function o(){OneSignal.setSubscription(!0)}function p(){n(!1),OneSignal.registerForPushNotifications()}function q(a){var a=0!=a;a?N.loader++:N.loader--,O.body&&(a&&N.loader||!a&&!N.loader)&&d.setClassName(O.body,"loading",a)}function r(a,b){q();var c=a.hasAttribute(i("single")),e=a.getAttribute(i("tag")),f=0;j(function(a){var b=a.getAttribute(i("tag")),g=d.hasClassName(a,N.css.subscribed);e==b?g=!g:c&&(g=!1),N.site&&"desporto-sapo"==N.site&&(g&&f++,f>2&&(g=!1)),d.setClassName(a,N.css.subscribed,g),P[b]=g});for(var g in P)P[g]||delete P[g];b?q(!1):OneSignal.sendTags(P,function(){s(P),q(!1)})}function s(a){if(N.site){var b=N.site.replace("-sapo","");if(b)for(var c in a)switch(b){case"homepage":"ultima-hora"!=c&&(1!=a[c]&&"true"!=a[c]||(a.geral=!0),"geral"!=c&&delete a[c]);break;case"24":"ultimahora"!=c&&(1!=a[c]&&"true"!=a[c]||(a.geral=!0),"geral"!=c&&delete a[c]);break;case"lifestyle":"ultima-hora"!=c&&(1!=a[c]&&"true"!=a[c]||(a.geral=!0),"geral"!=c&&delete a[c]);break;case"mag":"ultima-hora"!=c&&(1!=a[c]&&"true"!=a[c]||(a.geral=!0),"geral"!=c&&delete a[c])}}q();var e=!1;a&&(P=a),P&&j(function(a){var b=a.getAttribute(i("tag")),c="true"==P[b]||1==P[b];c&&(e=!0,P[b]=!0),b&&d.setClassName(a,N.css.subscribed,c)}),e&&o(),Notifications&&(Notifications.status=e),q(!1)}function t(a){q(),OneSignal.getTags().then(function(b){a&&a(),s(b)}),q(!1)}function u(){if(q(),N.init.subdomainName)OneSignal.getNotificationPermission(function(a){N.permission=a});else{var a=window.Notification||window.webkitNotifications||navigator.mozNotification;N.permission=a&&a.permission?a.permission:""}q(!1)}function v(){q(),OneSignal.isPushNotificationsEnabled(function(a){N.subscribed=a,q(!1)})}function w(){OneSignal.on("notificationPermissionChange",function(a){u(),l()})}function x(){return!!(window.Notification||window.webkitNotifications||navigator.mozNotification)&&!y()&&!e.SAFARI}function y(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function z(){var c=Ink.ss(N.css.promos);c&&a.each(c,function(a){a&&d.addClassName(a,N.css.hide)});var e=Ink.s("."+N.css.trigger);if(e){var f=e.parentElement;if(f){var g=f.previousElementSibling;g&&(d.addClassName(g,"all-100"),d.removeClassName(g,"all-50")),b.remove(f)}}var h=Ink.s("."+N.css.box);if(h){var f=h.parentElement;if(f){var i=f.previousElementSibling;i&&(d.addClassName(i,"medium-50 large-50 xlarge-50"),d.removeClassName(i,"medium-33 large-33 xlarge-33"));var j=i.previousElementSibling;j&&(d.addClassName(j,"medium-50 large-50 xlarge-50"),d.removeClassName(j,"medium-33 large-33 xlarge-33")),b.remove(f)}}}function A(a){N.ready=!0,t(),u(),v(),l(),w(),OneSignal.on("subscriptionChange",function(a){N.subscribed=a,l()}),j(function(a){c.observe(a,"click",function(b){if(c.stopDefault(b),a.hasAttribute("data-preview"))r(a,!0);else if(!a.clicked){if(a.clicked=!0,k())r(a);else switch(N.button=a,N.permission){case"granted":o();break;case"denied":N.init.subdomainName?p():n(!0);break;default:p()}document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),setTimeout(function(){a.clicked=!1},1e3)}})}),a&&a()}function B(a){if(Ink.s("["+i("script")+"]"))a&&a();else{q();var b=Ink.loadScript(N.script);b&&(b.setAttribute(i("script"),""),b.onload=function(){C(a),q(!1)},O.body.appendChild(b))}}function C(a){window.OneSignal=window.OneSignal||[],h();for(var b in oneSignalConfigs)N.init[b]=oneSignalConfigs[b];N.init.assetsPath&&(N.site=N.init.assetsPath,delete N.init.assetsPath),location&&"localhost"==location.hostname&&(N.init.subdomainName||(w=function(){navigator&&!N.init.subdomainName&&window.Promise&&"permissions"in navigator&&navigator.permissions&&navigator.permissions.query({name:"notifications"}).then(function(a){a.onchange=function(){u(),l()}})})),OneSignal.push(["init",N.init]),OneSignal.push(function(){A(a)}),oneSignalConfigs=N.init}function D(a){N.opened=1,N.loader=0,q(),!N.height&&O.modal&&(N.height=O.modal.offsetHeight),m(),N.ready?t(a):B(a),q(!1)}function E(){if(!O.filling&&O.modal){N.filling=!0;var a=Ink.s(".modal-footer",O.modal),e=Ink.s(".modal-body",O.modal);if(a){O.text&&d.addClassName(O.text,N.css.hide),O.filling=b.create("div",{style:"z-index: 10; position: absolute; left: 1rem; right: 1rem; bottom: 1rem; background: var(--site-bg-color); display: grid; grid-template-columns: 1fr 1fr; gap: 0% 1rem;"});var f=b.create("button",{"class":"ink-button main-action"});f.innerHTML="Sim",c.on(f,"click",function(){q(),N.promo=function(){OneSignal.sendTags(P,function(){q(!1),K.dismiss()})},"granted"!=N.permission?p():(o(),N.promo())}),O.filling.appendChild(f);var g=b.create("button",{"class":"ink-button"});g.innerHTML="Não",c.on(g,"click",function(){j(function(a){d.removeClassName(a,N.css.subscribed)}),K.dismiss()}),O.filling.appendChild(g),a.appendChild(O.filling),j(function(a){a.setAttribute("data-preview",1)})}e&&(O.promo=b.create("div"),d.addClassName(O.promo,"align-center"),O.promo.innerHTML="<h3>Esteja em cima do acontecimento.</h3><p>Ative as notificações do SAPO.</p>",e.insertBefore(O.promo,e.firstChild))}}function F(a){N.supported&&setTimeout(function(){a&&!N.opened&&!k()&&E(),(!a||!N.opened&&!k())&&N.supported&&"denied"!=N.permission&&(!Notifications.status||!N.subscribed)&&K.open()},5e3)}function G(a){N.supported&&(N.ready?F(a):B(function(){F(a)}))}function H(){N.supported=x(),N.supported&&(location&&(N.show=location.hash&&"#subscrever-notificacoes"==location.hash),O.buttons=Ink.ss("["+i("tag")+"]"),O.text=Ink.s("["+i("text")+"]"),j(function(a){var b=a.getAttribute(i("tag"));b&&(P[b]=!1)})),g.run(function(){if(N.supported){if(K=f.getInstance(N.modal),!K&&!oneSignalConfigs)return;O.modal=K._element,O.body=K.getContentElement(),K._options.onShow=function(){Notifications.status=1,D(function(){setTimeout(function(){N.filling&&j(function(a){a.click&&a.click()}),N.filling=!1},250)})},K._options.onDismiss=function(){Notifications.status=0,b.remove(O.filling),b.remove(O.promo),j(function(a){a.removeAttribute("data-preview")}),N.promo=!1,O.text&&d.hasClassName(O.text,N.css.hide)&&d.removeClassName(O.text,N.css.hide)},N.show?D():N.opened||k()||I()}else z()})}function I(){if(Ink.s("["+i("hello")+"]")){var a=parseInt(window.localStorage.getItem("_sphp_try")||0);(!a||Date.now()>a)&&setTimeout(function(){var a=parseInt(window.localStorage.getItem("_sphp_visits")||0);a++,window.localStorage.setItem("_sphp_visits",a),a>=N.times.visits&&(G(!0),window.localStorage.setItem("_sphp_visits",0),window.localStorage.setItem("_sphp_try",Date.now()+N.times.rejected))},N.times.delay)}}function J(){K&&K.open?K.open():N.ready?F():B(F)}var K,L=1e3,M=86400*L,N=("/testes"==location.pathname,{site:"homepage",modal:"#modal-notifications",script:"https://cdn.onesignal.com/sdks/OneSignalSDK.js",css:{subscribed:"subscribed on",hide:"hide-all",trigger:"notifications-modal-trigger",box:"box.notifications",promos:".notifications-promo"},init:{autoResubscribe:!0,notifyButton:{enable:!1},persistNotification:!1,welcomeNotification:{title:"Obrigado pela subscrição",message:"Pode deixar de receber as notificações a qualquer altura"}},times:{visits:3,delay:15*L,rejected:15*M}}),O={buttons:[],body:Ink.s("body")},P={};return{init:H,promotion:G,open:J,show:J,test:J,debug:function(){var a="[one-signal]",b=[];j(function(a){var c=a.getAttribute(i("tag"));c&&b.push(c)}),console.log(a,"tags",b),console.log(a,"supported",x()),console.log(a,"config",oneSignalConfigs),window.OneSignal&&(OneSignal.getTags().then(function(b){console.log(a,"user tags",b)}),OneSignal.isPushNotificationsEnabled(function(b){console.log(a,"push enabled",b)}),OneSignal.getUserId(function(b){console.log(a,"user id",b)}))}}}),Ink.requireModules(["SAPO.Notifications_1"],function(a){"use strict";window.Notifications=a,a.init()}),Ink.createModule("SAPO.AnimatedThumbs",2,["Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Array_1"],function(a,b,c,d){"use strict";function e(){if(h()&&(t("INIT"),i(),j(),a.observe(window,"scroll",a.throttle(j,H)),y||(a.observeMulti(u,"mouseover",function(a){f(this)}),a.observeMulti(u,"mouseleave",function(a){g(this)})),K)){var b=Ink.s("body");b&&c.addClassName(b,"debug_thumbs")}}function f(a){B||(B=!0,a.timer=setTimeout(function(){l(a),B=!1},A))}function g(a){clearTimeout(a.timer),a&&m(a),B=!1}function h(){if(0==u.length)return!1;var a,b,c,d,e=document.createElement("video");return e.canPlayType&&(a=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),b=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),c=""!==e.canPlayType('video/ogg; codecs="theora"'),d=""!==e.canPlayType('video/webm; codecs="vp8, vorbis"')),!(!navigator||!navigator.connection||"cellular"===navigator.connection.type||navigator.connection.saveData||!b)}function i(){d.forEach(u,function(a){o(a)})}function j(){k();var a=[];d.forEach(Ink.ss(z),function(b){n(b)&&a.push(b)}),t("NUM_VIDEOS: "+a.length);var b=Ink.ss("["+v+'="'+w.PLAY+'"]')||[];t("PLAYING: "+b.length),!b.length&&1==a.length&&p(a[0])&&l(a[0])}function k(){d.forEach(Ink.ss("["+v+"]"),function(a){r(a)&&!n(a)&&m(a)})}function l(a){var b=Ink.s("video",a);if(b)b.play(),b.addEventListener("playing",function(){q(a)});else{var d=a.getAttribute(F);d.length==J&&(d=I.replace("{{randname}}",d));var e=d+"?countView=false",f=Ink.s(E,a)||a;if(!f)return void t("no thumb elem");if(!c.hasClassName(f,"thumb"))return void t("no thumb class");var b=document.createElement("video");b.src=e,b.autoplay=!0,b.muted=!0,b.preload=!1,b.addEventListener("loadedmetadata",function(){this.currentTime=b.duration/3},!1),b.addEventListener("playing",function(){a.playing=!0,q(a)}),b.addEventListener("ended",function(){a.playing&&(a.playing=!1,m(a),j())},!1),b.addEventListener("timeupdate",function(){var c=this.duration/3+C>this.duration?this.duration:this.duration/3+C;if((this.currentTime>=c||this.currentTime<this.duration/3)&&!b.paused&&a.playing)return a.playing=!1,t("timeupdate: pauseVideo ---> "+e),m(a),void j()},!1),f.appendChild(b)}}function m(a){var c=a.getAttribute(F)+"?countView=false";t("pauseVideo ---> "+c);var d=Ink.s("video",a);return s(a),d?void setTimeout(function(){d.duration?(t("pauseVideo: inside timeout"),d.currentTime=d.duration/3,d.pause(),s(a)):(b.remove(d),o(a))},G):void t("pauseVideo: no video loaded ---> "+c)}function n(a){return b.inViewport(a)}function o(a){a.setAttribute(v,w.AVAILABLE)}function p(a){return a.getAttribute(v)===w.AVAILABLE}function q(a){a.setAttribute(v,w.PLAY),c.addClassName(a,D)}function r(a){return a.getAttribute(v)===w.PLAY}function s(a){a.setAttribute(v,w.PAUSE),c.removeClassName(a,D)}function t(a,b,c){K&&console.log("AnimatedThumbs: "+a,b||"",c||"")}t("---->AnimatedThumbs<----");var u=Ink.ss("[data-video-randname]"),v="data-animated-thumb",w={AVAILABLE:"available",PAUSE:"pause",LOADING:"loading",PLAY:"play"},x=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,y=!(x>640),z=y?'[data-animated-thumb="available"]':'[data-animated-thumb="available"]:not(.video)',A=300,B=!1,C=6,D="show-video-preview",E=".thumb",F="data-video-randname",G=400,H=700,I="https://rd.videos.sapo.pt/{{randname}}/mov/1",J=20,K=!1;return{init:e}}),Ink.requireModules(["SAPO.AnimatedThumbs_2"],function(a){"use strict";window.AnimatedThumbs=a,a.init()}),Ink.requireModules(["Ink.Dom.Css_1","Ink.Net.JsonP_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Utils_1"],function(a,b,c,d,e){!window.SAPO&&(window.SAPO={}),!SAPO.Project&&(SAPO.Project={}),SAPO.Project.LiveBlogWidget=function(){function f(a,b){var e=Ink.s("[data-mini-widget-results]",b),f="true"===b.getAttribute("data-mini-widget-show-all-links"),g=b.getAttribute("data-mini-widget-article-url");if(e&&a){var h=[];a.live&&c.forEach(a.live,function(a,b){var c='<span class="text"> '+a.title+"</span>";""!==a.url?c='<a class="text" href="'+a.url+'"> '+a.title+"</a>":f&&(c='<a class="text" href="'+g+"#liveblog-event-"+b+'"> '+a.title+"</a>"),h.push('<li class="[ no-margin-top ]"><span class="time">'+d.get("H:i",d.set("Y-m-d H:i",a.date+" "+a.time))+"</span>"+c+"</li>")}),h.length&&(e.innerHTML=h.slice(0,50).join(""))}}function g(c){var d=n[c];d&&setTimeout(function(){if(d){a.addClassName(d,"loading");var e=d.getAttribute("data-mini-widget-live-id"),g=d.getAttribute("data-mini-widget-live-partner");new b("//liveblogging.sapo.pt/v3/services/live/jsonp?liveId="+e+"&rnd_seed="+(new Date).getTime(),{onSuccess:function(a){d&&(a.checksum!==d.lastChecksum&&(a&&"null"!=a&&f(a,d),i(g,"undefined"==typeof d.lastChecksum)),j(d,c),d.lastChecksum=a.checksum)},onFailure:function(){j(d,c)},randVar:"",internalCallback:"live"})}},c)}function h(){n.length&&g(0)}function i(a,b){""!==a&&(b?e.trackGTMEvent("LiveBlogWidgetImpression",a,window.location.pathname):e.trackGTMEvent("LiveBlogWidgetImpressionUpdate",a,window.location.pathname))}function j(b,c){b&&a.removeClassName(b,"loading"),g(c+1)}function k(){clearInterval(m)}function l(a){k(),m=setInterval(h,a||18e4)}var m,n=Ink.ss("[data-mini-widget=liveblog]");return n&&n.length&&(h(),l()),{sendEvent:i,start:l,stop:k}}()}),Ink.createModule("SAPO.VideoPlayer",1,["Ink.Util.Array_1","Ink.Dom.Element_1","SAPO.Utils_1"],function(a,b,c){"use strict";function d(a,d,f,g,h,i){p[a]&&m(a),q[a]=h||{},c.includes(d,"vsports")?(p[a]=document.createElement("iframe"),p[a].src=d,p[a].title="VideoPlayer",p[a].off=function(){if(p[a]){try{p[a].src="data:text/html;charset=utf-8,"+escape("<html></html>")}catch(c){}try{b.remove(p[a])}catch(c){}}},p[a].addEventListener("load",function(){g&&g(p[a]),e("on",a),document.querySelector(".main-video-ctn.loading").classList.remove("loading"),h&&h.ready&&h.ready()}),f.appendChild(p[a])):p[a]=new window.SapoPlayer(f,d,{displaytitle:i||!1,skipSuggestions:!0,onReady:function(b){g&&g(p[a]),e("on",a),document.querySelector(".main-video-ctn.loading").classList.remove("loading"),b.play(),h&&h.ready&&h.ready()}}),p[a].name=a,p[a].randname=l(d)}function e(a,b){if(b&&a&&p[b]&&q[b])for(var c in q[b])p[b][a]&&p[b][a](c,q[b][c])}function f(a,b){try{return p[a]&&p[a][b]&&p[a][b]()}catch(c){return}}function g(a){for(var b in p)a!=b&&f(b,"pause")}function h(a){g(a);for(var b in p)a!=b&&f(b,"stop")}function i(a){if(a){if(f(a,"isPlaying"))return!0}else for(var b in p)if(f(b,"isPlaying"))return!0;return!1}function j(a,b,e,f,g,h){var i=c.includes(b,"vsports")?b:k(b);o.ready?d(a,i,e,f,g,h):(o.loaded=!1,!o.loaded&&c.loadAsync(o.player,function(){d(a,i,e,f,g,h),o.ready=!0,o.loaded=!0}))}function k(a){return o.link.replace("{{randname}}",a)}function l(a){var b="";return a&&a.replace(/\/\/(.*)\/(\w{20})(?:\/mov\/(\d+))?/,function(a,c,d,e){b=d}),b}function m(a){if(a){var b;if("string"==typeof a&&(b=a,a=p[b]),a){b||(b=a.name),e("off",b);try{a.pause&&a.pause()}catch(c){o.debug&&console.error(c)}try{a.stop&&a.stop()}catch(c){o.debug&&console.error(c)}try{a.unload&&a.unload()}catch(c){o.debug&&console.error(c)}}}}function n(a,b,c){a&&b&&HP&&HP.Kpis&&HP.Kpis.registerExternalKpi&&HP.Kpis.registerExternalKpi({zone:a,title:c||"",url:b,event:"message",type:"content",frequency:"dynamic"})}var o={debug:!1,link:"https://rd.videos.sapo.pt/{{randname}}/mov",player:"https://js.sapo.pt/Projects/SAPOPlayer/latest/SapoPlayer.js",loaded:!1,autoplay:!(/(iPhone|iPod|iPad)/i.test(window.navigator.userAgent)&&!/(Linux)/i.test(window.navigator.userAgent)||window.navigator.userAgent.indexOf("Safari")!=-1&&window.navigator.userAgent.indexOf("Chrome")==-1)},p={},q={};return{play:j,pause:g,stop:h,playing:i,link:k,randname:l,reset:m,analytics:n,autoplay:o.autoplay}}),Ink.requireModules(["SAPO.VideoPlayer_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.VideoPlayer=a}),Ink.createModule("SAPO.AmpStory",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","SAPO.Utils_1"],function(a,b,c,d,e){"use strict";function f(a,b){var c={page_type:"story",story_name:w[a].slug,story_process:(w[a].progress||0).toFixed(2),story_number:w[a].story+" de "+w[a].total,first_photo:w[a].first_slide};b?(c.event="eventSAPO",c.Category="story",c.Action=b,c.Label=w[a].slug):c.is_virtualPageview="true",dataLayer.push(c),!b&&dataLayer.push({event:"virtualPageView"}),u.debug&&console.warn("Amp Story Data Layer",c)}function g(a,b,c){if(w[a]||(w[a]={}),c)for(var d in c)w[a][d]=c[d];u.debug&&console.log("Amp Story",a,b,w[a])}function h(){!d.hasClassName(v.body,u.done)&&d.addClassName(v.body,u.done),o()}function i(a,b,c){window.SocialButtons&&window.SocialButtons.show&&window.SocialButtons.show(a,b,c)}function j(b,c,d,j,k){var l=document.createElement(u.player),m=[];d&&m.push('<script type="application/json">'+JSON.stringify(d)+"</script>");var n=(new Date).getTime();return g(b,"player",{total:(c||[]).length,slug:c[0],story:1,first:!0,progress:0}),a.each(c,function(a){var b=(e.includes(u.old.stories,a)?u.old.path+"hp/":u.path)+a+"/";u.reset&&(b+="index.html?t="+n),m.push('<a href="'+b+'"></a>')}),l.innerHTML=m.join(""),l.addEventListener("ready",function(){g(b,"ready")}),l.addEventListener("navigation",function(a){window.SocialButtons&&window.SocialButtons.hide&&window.SocialButtons.hide();var d=a.detail.index+1;delete w[b].slide,g(b,"story_change",{slug:c[a.detail.index],story:d,last:d==c.length,first:!a.detail.index}),w[b].first&&g(b,"first_story"),w[b].last&&g(b,"last_story"),e.setHash(u.hash+"-"+w[b].slug)}),l.addEventListener("storyNavigation",function(a){h(),g(b,"slide_change",{progress:a.detail.progress,pageId:a.detail.pageId,first_slide:!a.detail.progress}),f(b)}),l.addEventListener("amp-story-player-exit",function(){f(b,"close"),g(b,"amp-story-player-close"),p()}),l.addEventListener("amp-story-player-social",function(){f(b,"open_share"),g(b,"amp-story-player-social"),l.pause(),i(j,k,l.play)}),l}function k(){delete v.script,v.script&&b.remove(v.script),v.script=document.createElement("script"),v.script.setAttribute("async",!0),v.script.setAttribute("src","https://cdn.ampproject.org/amp-story-player-v0.js"),v.head.appendChild(v.script)}function l(a,b){AmpStory.status=!0,g(u.analytics,"show"),w[u.analytics].story=a[0],e.setHash(u.hash+"-"+w[u.analytics].story),u.circular&&(u.json.player.behavior={on:"end",action:"circular-wrapping"}),v.player=j(u.analytics,a,u.json.player,v.preview,b),v.preview.appendChild(v.player),d.addClassName(v.body,u.ready),k()}function m(c){var d=c.getAttribute(u.selector),e=[d],f=[],g=!1,h=b.findUpwardsBySelector(c,u.multiple);if(h){var i=Ink.ss("["+u.selector+"]",h);a.each(i,function(a){var b=a.getAttribute(u.selector);c==a&&(g=!0),c!=a&&(g?e.push(b):f.push(b))})}l(f.length?e.concat(f):e,c)}function n(){o(),b.remove(v.player),delete v.player,w[u.analytics]={}}function o(){v.thumb&&d.removeClassName(v.thumb,u.loading),delete v.thumb}function p(a){g("close"),a&&a.preventDefault(),d.removeClassName(v.body,u.done),d.removeClassName(v.body,u.ready),window.SocialButtons&&window.SocialButtons.hide&&window.SocialButtons.hide(),AmpStory.status=!1,e.setHash(),n()}function q(){if(window.location&&window.location.hash&&window.location.hash.indexOf(u.hash)>-1){var b=window.location.hash.replace("#",""),c=b.replace(u.hash+"-",""),d=[];c&&c!=u.hash?d.push(c):(v.article&&a.each(v.article,function(a){var b=a.getAttribute(u.article);b&&d.push(b)}),v.stories&&a.each(v.stories,function(a){var b=a.getAttribute(u.selector);b&&d.push(b)})),u.enabled&&d&&d.length&&l(d)}}function r(a){var c=a.getAttribute(u.article);if(c&&!x[c]){x[c]=!0;var d=[c],e=j(c,d,u.json.common,a);a.appendChild(e),b.remove(v.script),delete v.script,k()}}function s(){v.body=document.body||document.documentElement||Ink.s("body"),v.preview=document.createElement("div"),v.preview.setAttribute("id","amp-story"),v.body.appendChild(v.preview),a.each(v.stories,function(a){!v.thumb&&c.on(a,"click",function(b){b&&b.preventDefault(),m(a),v.thumb=Ink.s(".thumb",a),v.thumb&&d.addClassName(v.thumb,u.loading)})}),v.article&&c.on(window,"scroll",function(){a.each(v.article,function(a){b.inViewport(a,{partial:!0})&&r(a)})}),q(),c.on(document,"keydown",function(a){a=a||window.event;var b="key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode;b&&AmpStory&&AmpStory.status&&p()})}function t(){if(u.enabled=!(e.isIE()||e.isOldEdge()),u.enabled&&(v.stories=Ink.ss("["+u.selector+"]")),v.article=Ink.ss("["+u.article+"]"),v.stories&&v.stories.length||v.stories&&v.article.length){v.head=document.head||Ink.s("head");var a=document.createElement("link");a.setAttribute("href","https://cdn.ampproject.org/amp-story-player-v0.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),v.head.appendChild(a),u.json.player.controls=u.json.common.controls.concat(u.json.player.controls),s()}}var u={debug:!1,selector:"data-amp-story",article:"data-amp-story-slug",multiple:"[data-amp-stories]",player:"amp-story-player",id:"amp-story",ready:"amp-story",done:"done",loading:"loading",hash:"story",reset:!0,circular:!1,analytics:"player",json:{player:{controls:[{name:"skip-next",position:"end"},{name:"exit",backgroundImageUrl:"https://www.sapo.pt/assets/img/widgets/amp-story/close-01.png"}]},common:{controls:[{name:"close",visibility:"hidden"},{name:"share",visibility:"hidden"},{name:"social",backgroundImageUrl:"https://www.sapo.pt/assets/img/widgets/amp-story/social-01.png"}]}},path:"https://stories.sapo.pt/",old:{stories:["aconchegar","ines","adeptos","solteiros_pandemia","infetados","bemquere","estanislau","nau","barbara_ambros","frases","susana","mudancas","memes","medica","daniela","jose","livros2","futebol","restaurantes","testemunhos","boaventura","mertola","hospedeira_arte","pandemia_regressar","saude_mental","familias","ilha_do_corvo","pandemia: dias que marcaram o desporto","atletas","paises","denunciar1","email3","links1","ciberataques1","bancos1"],path:"https://imgs.sapo.pt/amp_stories/"}},v={},w={},x={};return window.dataLayer=window.dataLayer||[],{init:t,debug:function(){u.debug=!u.debug}}}),Ink.requireModules(["SAPO.AmpStory_1"],function(a){"use strict";window.AmpStory=a,a.init()}),Ink.createModule("SAPO.Bets",1,["Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Net.Ajax_1"],function(a,b,c,d){"use strict";function e(){f(),k=setInterval(f,n.timer)}function f(){var a=[];c.forEach(Ink.ss(n.selectors.placeholder),function(b){a.push(b.getAttribute(n.selectors.getId))}),a.length<1||new d(n.endpoint+a.join(";"),{method:"GET",cors:!0,evalJS:"force",timeout:1,onSuccess:function(a){a.responseJSON.length>0?g(a.responseJSON):h()},on404:function(){h()},onFailure:function(){h()}})}function g(a){c.forEach(a,function(a){c.forEach(Ink.ss("["+n.selectors.getId+'="'+a.game_id+'"]'),function(b){i(b,a)})}),h()}function h(){c.forEach(Ink.ss(n.selectors.placeholder),function(a){var b=parseInt(a.getAttribute(n.selectors.getId));c.inArray(b,o)||(a.innerHTML="")}),o=[]}function i(b,d){if(b.innerHTML="",d){var e,f=a.findUpwardsBySelector(b,n.selectors.widgetCalendar);if(f&&window.getComputedStyle&&c.forEach([window.getComputedStyle(f),window.getComputedStyle(f.parentElement)],function(a){a&&a.display&&"none"==a.display&&(e=!0)}),!e){var g=(new Date).getTime(),h={};if(n.active&&n.provider[n.active])for(var i in n.provider[n.active])h[i]=n.provider[n.active][i];var j=d.competition_id?n.provider[d.competition_id]:null;if(j)for(var i in j)h[i]=j[i];if(!h.name&&n.active&&(h.name=n.active),
!h.url)return;if(h.secondaryUrl||(h.secondaryUrl=h.url),h.pixelUrl){var k='   <div style="position:relative:"><iframe _data-lazy-iframe="true" src="'+h.pixelUrl+"&cb="+g+'" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="1" height="1" style="position:absolute;top:0px;left:0px;pointer-events:none;"></iframe></div>';h.pixelImg='   <iframe _data-lazy-iframe="true" src="'+h.pixelUrl+"&cb="+g+'" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="1" height="1" style="position:absolute;top:-999999px;left:-999999px;pointer-events:none;"></iframe>',f&&(!f.hasAttribute("ready")&&a.appendHTML(f,k),f.setAttribute("ready","true"),h.pixelImg="")}var l=b.getAttribute("data-match-start");if(l)try{l=parseInt(l)}catch(m){}if((l?g<l-6e4:"Agendado"==d.status)&&d.odds.tr_1x2&&d.odds.tr_1x2[h.name]&&d.odds.tr_1x2[h.name].length>2){var p=2==d.competition_id||49595==d.season_id,q=['<div class="[ align-center ] match-odds">','<div class="align-center match-odd match-odd-label">Odds de Resultado Final</div>','<div style="display:flex; flex-wrap:wrap; align-items:center; justify-content:center; gap:5px;">','<a href="'+h.url+"&matchid="+d.game_id+'" target="_blank" class="logo-sponsor">','<picture _data-lazy="true" data-color-scheme-picture>','<source srcset="'+(p?"/assets/img/logo-betclic-liga23.jpg":h.mainImgLight)+'" media="(prefers-color-scheme: light)" type="image/jpeg">','<source srcset="'+(p?"/assets/img/logo-betclic-liga23.jpg":h.mainImgDark)+'" media="(prefers-color-scheme: dark)" type="image/jpeg">','<img src="'+(p?"/assets/img/logo-betclic-liga23.jpg":h.mainImgLight)+'" alt="'+h.mainImgAlt+'" style="width:auto;height:27px;">',"</picture>","</a>",'<a href="'+h.url+"&matchid="+d.game_id+'" target="_blank" class="match-odd match-odd-home-team-wins" data-odd-id="'+d.odds.tr_1x2[h.name][0].id+'">1<br>'+d.odds.tr_1x2[h.name][0].odd.toFixed(2)+"</a>",'<a href="'+h.url+"&matchid="+d.game_id+'" target="_blank" class="match-odd match-odd-teams-tie" data-odd-id="'+d.odds.tr_1x2[h.name][1].id+'">X<br>'+d.odds.tr_1x2[h.name][1].odd.toFixed(2)+"</a>",'<a href="'+h.url+"&matchid="+d.game_id+'" target="_blank" class="match-odd match-odd-away-team-wins" data-odd-id="'+d.odds.tr_1x2[h.name][2].id+'">2<br>'+d.odds.tr_1x2[h.name][2].odd.toFixed(2)+"</a>",'<a href="'+h.secondaryUrl+"&matchid="+d.game_id+'" data-widget-view="aposta-link" class="match-odd-bet-button" target="_blank" rel="noopener">',h.pixelImg||"",'<img src="'+h.secondaryImg+'" alt="'+h.secondaryImgAlt+'" _loading="lazy" style="max-width:66px;height:auto;">',"</a>","</div>","</div>"].join("");b.innerHTML=q,o.push(d.game_id)}}if(SAPO&&SAPO.ColorScheme&&SAPO.ColorScheme.getUserPreference){var r=SAPO.ColorScheme.getUserPreference()||"auto";SAPO.ColorScheme.setPicturesColorScheme&&SAPO.ColorScheme.setPicturesColorScheme(r,SAPO.ColorScheme.getAutoColor())}}}function j(){k&&clearInterval(k),e()}var k,l=/iphone|ipad|ipod|android/i.test(navigator.userAgent),m="?id=SAO8_pt&zone="+(l?"mbl":"dskt"),n={debug:!1,timer:6e4,endpoint:"/api/service/odds/",selectors:{placeholder:"[data-match-odds-match-id]",getId:"data-match-odds-match-id",widgetCalendar:"[data-widget-calendar]"},valid:{market:"tr_1x2",provider:"betclic"},active:"betclic",provider:{betclic:{url:"https://www.betclic.pt"+m,mainImgLight:"/assets/img/logo-betclic.png",mainImgDark:"/assets/img/logo-betclic.png",mainImgAlt:"BetClic",secondaryImg:"/assets/img/button-apostar-01.png",secondaryImgAlt:"Apostar"},placard:{name:"placard_online",url:"https://secure.adnxs.com/clktrb?id=768987",secondaryUrl:"https://secure.adnxs.com/clktrb?id=768987&utm_source=Sapo&utm_medium=Widget&utm_campaign=WidgetApostar&utm_content=LPFootballInplayPlacardPT",mainImgLight:"/assets/img/logo-placard-02.png",mainImgDark:"/assets/img/logo-placard-01.png",mainImgAlt:"Placard",secondaryImg:"/assets/img/button-apostar-ja-02.png",secondaryImgAlt:"Apostar",pixelUrl:"https://secure.adnxs.com/tt?id=21538465"},7:{url:"https://www.betclic.pt/futebol-s1/liga-europa-c3453"+m},2:{url:"https://www.betclic.pt/futebol-s1/portugal-primeira-liga-c32"+m},11:{url:"https://www.betclic.pt/futebol-s1/inglaterra-premier-league-c3"+m},6:{url:"https://www.betclic.pt/futebol-s1/liga-dos-campeoes-c8"+m},12:{url:"https://www.betclic.pt/futebol-s1/espanha-la-liga-c7"+m},14:{url:"https://www.betclic.pt/futebol-s1/alemanha-bundesliga-c5"+m},15:{url:"https://www.betclic.pt/futebol-s1/franca-ligue-1-c4"+m}}},o=[],p=window.innerWidth>640,q=p;return window.addEventListener("resize",function(){p=window.innerWidth>640,p!=q&&(q=p,j())}),{init:e,reload:j}}),Ink.requireModules(["SAPO.Bets_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Bets=a,a.init()}),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Css_1"],function(a,b,c){"use strict";!function(){function d(a){var b=parseInt(a),c=new Date(parseInt(a)),d=k-b,f=Math.floor(d/l),g=Math.floor(d/m);Math.floor(d/n);if(d<0&&c.setHours(d=0),d<=0)return"";var o="";return b<j?o="":b<i?o="anteontem às "+e(c.getHours())+":"+e(c.getMinutes()):b<h&&b>i||!d?o="ontem às "+e(c.getHours())+":"+e(c.getMinutes()):b>h&&g>1?o="há "+g+" horas":b>h&&1==g?o="há "+g+" hora":b>h&&g<1&&f>1?o="há "+f+" minutos":f<=2&&(o="há um minuto"),o}function e(a){return(a<10?"0":"")+a}var f=".block-latest-news-by-category ul li .article .date[data-timestamp]",g=new Date;g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0);var h=g.getTime(),i=h-864e5,j=i-864e5,k=(new Date).getTime(),l=6e4,m=60*l,n=24*m;a.forEach(Ink.ss(f),function(a){var e=d(a.getAttribute("data-timestamp")),f=b.create("span",{className:"moment-date",setTextContent:e});""!==e&&(c.addClassName(a,"hide-all"),b.insertAfter(f,a))})}()}),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Util.Url_1","SAPO.Utils_1"],function(a,b,c,d,e,f){"use strict";!function(){function g(a,b){return Ink.s("["+o.attribute+'="'+a+'"]'+(b?" "+b:""))}function h(a){a&&(window.location=a+(q.q?"?q="+q.q:""))}function i(){p.body=Ink.s("body"),p.ads=g(o.ads),p.input=g(o.input),p.input&&c.on(p.input,"input",function(a){q.q=p.input.value||""}),p.search=g(o.search),p.search&&c.on(p.search,"click",function(a){a.preventDefault(),h(p.search.getAttribute(o.link))}),p.container=g(o.container),a.each(o.types,function(a){if(p[a]=g("type-"+a,"a")){var b=p[a].getAttribute(o.link);b&&c.on(p[a],"click",function(a){a.preventDefault(),h(b)})}})}function j(){d.addClassName(p.container,"loading");var a=e.getQueryString();if(a){a.q&&(q.q=a.q);var b=window.location.pathname.split("/");b.length&&(b[2]&&(q.mode=b[2]),b[3]&&(q.type=b[3]))}var c=o.modes[q.mode][q.type];if(c&&a.q){var f=o.path+c;f&&Ink.loadScript(f)}}function k(){if(window.Adwords){var b=window.Adwords.ads;if(b&&b.length){var c='<div class="[ padding ]"><h2>Anúncios SAPO</h2><ul class="[ unstyled ]">';a.each(b,function(a,b){c+='<li class="'+(0===b?"first":b===l-1?"last":"")+'"><a href="'+a.u+'" data-source="'+a.l+'"><span class="title">'+a.t+'</span></a><div class="[ fs-small fw-400 ] lead">'+a.d+'</div><a class="[ fs-small fw-400 ] url" href="'+a.u+'" data-source="'+a.l+'">'+a.l+"</a></li>"}),c+="</ul></div>",p.ads.innerHTML=c}}}function m(){var a=document.createElement("script");a[document.addEventListener?"onload":"onreadystatechange"]=k,a.src="https://adw.sapo.pt/search.html?ad_type=txt&adb=0&adr=0&adt=5&affiliate_id=38&cluster_id=2&o=json&position_id=1&site_id=1&q=teste&rand=sdfdsf",p.body.appendChild(a)}function n(){var a=g(o.trigger);a&&d.removeClassName(a,"ink-toggle");var c=g(o.searching);c&&b.remove(c),window.__gcse={callback:function(){setTimeout(function(){d.removeClassName(p.container,"loading")},1e3)}},i(),j(),"sapo"==q.mode&&"noticias"==q.type&&(location=location.href.replace("/sapo/","/web/")),m()}var o={trigger:"trigger",searching:"searching",ads:"ads",input:"input",search:"search",container:"container",path:"https://www.google.com/cse/cse.js?cx=",modes:{web:{tudo:"013879456795131126190:b28fzen5mem",noticias:"013879456795131126190:gug6c4vgjja",imagens:"013879456795131126190:38zut31olj4",videos:"013879456795131126190:hdhgm7d2bdy"},sapo:{tudo:"013879456795131126190:rmy1sm_ir4m",noticias:"013879456795131126190:gug6c4vgjja",imagens:"013879456795131126190:ztsxfc-4iic",videos:"013879456795131126190:9-x8gn-xgeq"}},types:["tudo","noticias","imagens","videos"],attribute:"data-search-id",link:"data-search-link",tab:"/pesquisa/"},p={},q={q:"",mode:"web",type:"tudo"};f.includes(window.location.pathname,o.tab)&&n()}()}),Ink.requireModules([],function(){"use strict";!function(){var a={selector:"#header nav.primary-menu ul.menu"},b=Ink.s(a.selector);if(b){var c=Ink.s(".current",b);if(c){var d=c.getBoundingClientRect(),e=d.x-window.innerWidth+d.width;d&&e>0&&d.x&&d.width&&b.scrollTo({left:e+d.width,top:0,behavior:"smooth"})}}}()}),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.UI.Carousel_1"],function(a,b,c){"use strict";function d(a){var b="",c=j[a];if(c){var d=Ink.s(".title",c);d&&(b=d.innerText)}return a+1==i&&l?l:b}function e(){setTimeout(function(){var a=f.getPage();g.innerHTML=a?d(a-1):"",h.innerHTML=a+1<i?d(a+1):""},500)}var f,g,h,i,j,k="#sapo-timeline",l="futuro",m=Ink.s(k);m&&(f=new c(k,{onChange:function(a){a&&SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh(),e()}}),i=f.getTotalPages(),j=Ink.ss(k+" .slide"),g=Ink.s(k+" nav .prev"),g&&b.on(g,"click",function(){f&&f.previousPage&&f.previousPage()}),h=Ink.s(k+" nav .next"),h&&b.on(h,"click",function(){f&&f.nextPage&&f.nextPage()}),e())}),Ink.createModule("SAPO.Datalist",1,["Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Util.Array_1","SAPO.Utils_1"],function(a,b,c,d){"use strict";function e(a){return Ink.s("["+q.selectors.attr+'="'+a+'"]')}function f(a){if(!a)return"";a=a.toLowerCase();for(var b in q.diacritics)for(;d.includes(a,b);)a=a.replace(b,q.diacritics[b]);return a}function g(a,b){var c=s.alias&&s.alias.value?a[s.alias.value]:a.value,e=s.alias&&s.alias.name?a[s.alias.name]:a.name,g=f((c||"")+(e||""));return b&&g&&d.includes(g,f(b))}function h(a,b){s.callback&&s.callback(a,b),k()}function i(){var a=[];s.options&&c.each(s.options,function(b){if(!r.input.value||r.input.value&&g(b,r.input.value)){var c=s.alias&&s.alias.value?b[s.alias.value]:b.value,d=s.alias&&s.alias.name?b[s.alias.name]:b.name,e=q.html.option.replace(q.attrs.value,c).replace(q.attrs.name,d);a.push(e)}}),r.options.innerHTML=a.join("")}function j(b,c,d,e){s={options:b||[],alias:c,callback:d},i(),a.removeClassName(r.datalist,"hide-all"),r.input&&(r.input.value="",r.input.focus(),r.input.setAttribute("placeholder",e))}function k(){s={},r.input&&(r.input.value="",r.input.blur(),r.input.setAttribute("placeholder","")),a.addClassName(r.datalist,"hide-all")}function l(){r.close=e("close"),r.close&&b.on(r.close,"click",function(a){b.stop(a),k()}),r.input=e("input"),r.input&&b.on(r.input,"input",function(a){b.stop(a),i()}),r.options=e("options"),r.options&&b.on(r.options,"click",function(a){if(b.stop(a),a.target){var c=a.target.getAttribute(q.selectors.attr+"-"+q.selectors.value),d=a.target.getAttribute(q.selectors.attr+"-"+q.selectors.name);h(c,d)}})}function m(){var a=Ink.s("body");a&&(r.datalist=document.createElement("div"),r.datalist.setAttribute("class",q.css),r.datalist.innerHTML=q.html.container,a.appendChild(r.datalist),l())}function n(){if((d.isIOS()||window.innerWidth<=640)&&!p){p=!0;var a=Ink.ss(q.selectors.datalist);a&&a.length&&m()}}function o(){n(),p&&window.removeEventListener("resize",o)}var p,q={selectors:{datalist:"datalist",attr:"data-list",value:"value",name:"name"},attrs:{value:/\{{value}}/g,name:/\{{name}}/g},diacritics:{"à":"a","á":"a","ã":"a","â":"a","é":"e","è":"e","ê":"e","í":"i","ì":"i","î":"i","ó":"o","ò":"o","õ":"o","ô":"o","ú":"u","ù":"u","û":"u","ç":"c"},css:"[ padding hide-all ] fake-datalist-ctn",html:{container:'<form class="[ ink-form ]"><div class="[ column-group half-horizontal-gutters ]"><div class="[ all-80 ]"><div class="[ control-group no-margin-bottom ]"><div class="[ control no-margin-bottom ]"><input data-list="input" type="text"></div></div></div><div class="[ all-20 ]"><button data-list="close" class="[ ink-button ] full-width"><i class="fa fa-times"></i><span class="[ hide-all ]">Fechar</span></button></div></div></form><ul data-list="options" class="[ unstyled no-margin-top no-margin-bottom ] fake-datalist"></ul>',option:'<li><a data-list-value="{{value}}" data-list-name="{{name}}" href="">{{name}}</a></li>'}},r={},s={};return window.addEventListener("resize",o),n(),{open:j,close:k}}),Ink.requireModules(["SAPO.Datalist_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Datalist=a}),Ink.createModule("SAPO.Pub",1,["Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Array_1","SAPO.Utils_1"],function(a,b,c,d,e){"use strict";function f(a){d.each(Ink.ss("["+k.prefix+"]"),function(b,c){var d=[];(a?k.attrs.concat(k.full):k.attrs).forEach(function(a){d.push((a||"pub")+" => ["+b.getAttribute(k.prefix+(a?"-"+a:""))+"]")}),console.log(c+" - "+d.join(", ")+"\n")})}function g(a,b){return"["+k.format+'="'+a+'"]'+(b?"["+k.rendered+'="yes"]':"")}function h(){if(e.includes(k.sizes,k.breakpoint)){if(l.pub||(l.pub=Ink.s(g("Halfpage",!0))),l.pub||(l.pub=Ink.s(g("MPU",!0))),l.pub||(l.pub=Ink.s(g("Halfpage_SLHQ",!0))),l.pub||(l.pub=Ink.s(g("MPU_SLHQ",!0))),l.parent||(l.parent=l.pub?l.pub.parentNode:null),!l.parent)return;var a=l.parent.getBoundingClientRect(),d=b.inViewport(l.parent)||a.bottom>0,f=l.slhq.parentNode||l.slhq;k.ready||d||(c.removeClassName(f,"initial"),k.ready=!0),c.setClassName(f,"hide-all",d)}}function i(){k.breakpoint=e.breakpoint(),a.on(window,"resize",function(){k.breakpoint=e.breakpoint(),h()}),a.on(window,"scroll",h)}function j(){l.slhq=Ink.s(g("SLHQ")),l.slhq&&i()}var k={sizes:["tiny","small"],format:"data-pub-formatid",rendered:"data-pub-rendered",prefix:"data-pub",attrs:["pageid","formatid","trigger","trigger-target"],full:["","siteid","target","rendered","lazy"]},l={};return j(),{debug:f}}),Ink.requireModules(["SAPO.Pub_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Pub=a}),Ink.createModule("SAPO.Redirect",1,["Ink.Dom.Css_1","Ink.Util.Array_1"],function(a,b){"use strict";function c(){var a=Ink.ss(d.selectors.container);a&&0!=a.length&&b.forEach(a,function(a,c){var e=a&&parseInt(a.getAttribute(d.selectors.time))||0,f=a&&a.getAttribute(d.selectors.redirect)||"",g=setInterval(function(){e--,b.forEach(Ink.ss(d.selectors.placeholder,a),function(a,b){a.innerHTML=e}),e<=0&&(null!==f&&window.location.replace(f),clearInterval(g))},d.timer)})}var d={debug:!1,timer:1e3,selectors:{container:"[data-redirect]",time:"data-redirect-timer",redirect:"data-redirect-url",placeholder:"[data-redirect-timer-ctn]"}};return{init:c}}),Ink.requireModules(["SAPO.Redirect_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Redirect=a,a.init()}),Ink.createModule("SAPO.Voz",1,["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Net.Ajax_1","Ink.Util.Cookie_1"],function(a,b,c,d,e,f){"use strict";function g(){h(),j(),i(!1)}function h(){l()&&(n(),p())}function i(b){b||(b=r()),a.forEach(Ink.ss('a[href^="/noticias/regioes"]'),function(a){a.href.includes("_")||(a.getAttribute("data-initial-link")||a.setAttribute("data-initial-link",a.href),a.href=b?"/noticias/regioes/"+b:a.getAttribute("data-initial-link"))})}function j(){k()&&(m(),o())}function k(){return y=Ink.ss(z.selectors.selectDistrictCookie),!!y.length}function l(){return!!(A=Ink.s(z.selectors.ctn))&&(x=Ink.ss(z.selectors.selectDistrict),!!x.length)}function m(){a.forEach(y,function(e){b.observe(e,"change",function(b){return(B=e.options[e.selectedIndex].value||!1)?(q(B),i(B),a.forEach(Ink.ss(z.selectors.viewMoreACookie),function(a,b){d.removeClassName(a,"hide-all"),a.href="/noticias/regioes/"+B}),p(),c.hasAttribute(e,"data-voz-goto")?void(window.location.href="/noticias/regioes/"+B):void 0):(v(),w(),void i(!1))})})}function n(){a.forEach(x,function(a){a.hasAttribute("data-selectbox-go-to")||b.observe(a,"change",function(b){return(B=a.options[a.selectedIndex].value||!1)?(q(B),i(B),s(),void o()):(v(),w(),void i(!1))})})}function o(){var b=r();b&&(a.forEach(y,function(d){c.hasAttribute(d,"data-voz-dontupdate")||a.forEach(d.options,function(a,c){d.value=b})}),a.forEach(Ink.ss(z.selectors.viewMoreACookie),function(a,c){d.removeClassName(a,"hide-all"),a.href="/noticias/regioes/"+b}))}function p(){if(x){var b=r();if(!b)return void t(!1);a.forEach(x,function(c){a.forEach(c.options,function(a,d){c.value=b})}),u(b)}}function q(a){return"/noticias/regioes"===a?void f.remove(z.cookieName):void f.set(z.cookieName,a,z.cookieTTL,"/",window.location.hostname,!0)}function r(){var a=f.get(z.cookieName);return!(!a||null==a||!("string"==typeof a||a instanceof String))&&a}function s(){a.forEach(x,function(a,b){a.value=B}),u(B)}function t(b){a.forEach(Ink.ss(z.selectors.lstLoading),function(a,c){d.addRemoveClassName(a,z.className.loading,b)})}function u(b){t(!0),a.forEach(Ink.ss(z.selectors.viewMoreA,A),function(a,c){d.removeClassName(a,"hide-all"),a.href="/noticias/regioes/"+b}),new e(z.resultsUrl+b,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(b){var e=b.responseJSON;0==e.length?(a.forEach(Ink.ss(z.selectors.resultContainer,A),function(a,b){a.innerHTML=""}),a.forEach(Ink.ss(z.selectors.noResults,A),function(a,b){d.removeClassName(a,"hide-all")}),a.forEach(Ink.ss(z.selectors.viewMoreA,A),function(a,b){d.addClassName(a,"hide-all")})):(a.forEach(Ink.ss(z.selectors.resultContainer,A),function(a,b){a.innerHTML=""}),a.forEach(Ink.ss(z.selectors.resultContainer,A),function(b,d){var f=c.create("div");f.innerHTML=e.join("");var g=b.getAttribute("data-voz-kpi");a.forEach(Ink.ss("li",f),function(a,c){var d=Ink.s("article",a);d.setAttribute("data-kpi",g.replace("loop",c+1)),b.appendChild(a)}),SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}),a.forEach(Ink.ss(z.selectors.noResults,A),function(a,b){d.addClassName(a,"hide-all")})),t(!1)}})}function v(){f.remove(z.cookieName),a.forEach(Ink.ss(z.selectors.viewMoreACookie),function(a,b){d.addClassName(a,"hide-all"),a.href="/noticias/regioes"}),a.forEach(y,function(b){a.forEach(b.options,function(a,c){b.value=""})})}function w(){a.forEach(Ink.ss(z.selectors.viewMoreA,A),function(a,b){d.addClassName(a,"hide-all"),a.href="/noticias/regioes/"}),a.forEach(Ink.ss(z.selectors.resultContainer,A),function(a,b){a.innerHTML=""}),x&&a.forEach(x,function(b){a.forEach(b.options,function(a,c){b.value=""})}),f.remove(z.cookieName),t(!1)}var x,y,z={debug:!0,resultsUrl:"/api/voz/district/",cookieTTL:2678400,cookieName:"sapovoz-district",selectors:{ctn:"[data-voz-refresh-ctn]",resultContainer:"ul[data-voz-refresh-results]",lstLoading:"[data-voz-refresh-loading]",noResults:"[data-voz-refresh-no-results]",selectDistrict:"select[data-voz-district-select]",selectDistrictCookie:"select[data-voz-select-district-cookie]",viewMoreA:"a[data-voz-view-more-a]",viewMoreACookie:"a[data-voz-view-more-a-cookie]"},className:{loading:"loading"}},A=!1,B=!1;return{init:g}}),Ink.requireModules(["SAPO.Voz_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Voz=a,a.init()}),Ink.createModule("SAPO.UTMifyLinks",1,[],function(){"use strict";function a(a,b){if(a){var c;try{c=new URL("/"==a.charAt(0)&&"/"!=a.charAt(1)?window.location.origin+a:a)}catch(d){console.log(d)}if(!c)return a;var e=(c.searchParams?Object.fromEntries(c.searchParams):null)||{};if(b)for(var f in b)e[f]||(e[f]=b[f]);var g=new URLSearchParams(e),h=c.origin+c.pathname+(g.size?"?"+g.toString():"")+(c.hash||"");return h}}function b(b){var c=b?b.getAttribute("href"):null;c&&c.indexOf("sapo.pt")!=-1&&b.setAttribute("href",a(c,d.params))}function c(a){var c=(a&&a.length?a:null)||document.querySelectorAll(d.selector);c&&c.length&&c.forEach(b)}var d={selector:'a[target="_blank"][href]',params:{utm_source:"SAPO_HP",utm_medium:"web",utm_campaign:"destaques"}};return{init:c,check:b}}),Ink.requireModules(["SAPO.UTMifyLinks_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.UTMifyLinks=a,a.init()}),Ink.requireModules(["SAPO.UTMifyLinks"],function(a){"use strict";function b(a,b){return a&&b?a.indexOf(b)>-1:null}function c(a,b){return a&&b?0===a.lastIndexOf(b,0):null}function d(a){var b=a;return h.strip.forEach(function(a){b=b.replace("//"+a,"").replace(a,"")}),b}function e(e){var f=e?e.getAttribute("href"):null;if(f&&(!e||"A"==e.tagName&&"_blank"!=e.getAttribute("target")&&"_self"!=e.getAttribute("target"))&&!e.hasAttribute("data-targeted")){var g=d(f);if(g){var h=(!c(g,"/")||c(g,"//"))&&!c(g,"sapo.pt")&&!c(g,"mailto:");(h&&!c(f,"#")&&!c(f,"?")&&!c(f,"javascript")||b(g,"/artigos/")||b(g,"/newsletter/"))&&(e.setAttribute("target","_blank"),e.setAttribute("data-targeted",1),a.check(e))}}}function f(a){if(a){var b;if(a.target&&a.target.hasAttribute("href")&&!a.target.hasAttribute("target"))b=a.target;else{var c=a.path||(a.composedPath?a.composedPath():null);if(c)for(var d=0;d<c.length;d++)!b&&c[d]&&c[d].hasAttribute&&c[d].hasAttribute("href")&&(b=c[d])}e(b)}}function g(){window.addEventListener("mousedown",f),window.addEventListener("click",f)}var h={strip:["https://","http://","www.","localhost","staging.","novahp.","homepage.","dev.",":8010"],mobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())};!h.mobile&&g()}),Ink.createModule("SAPO.FiltroRegioes",1,["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Net.Ajax_1"],function(a,b,c,d){"use strict";function e(){o.blocks.innerHTML=o.initial.blocks,h()}function f(){o.more&&c.addClassName(o.more,"hide-all"),!o.err&&o.container&&(o.err=document.createElement("div"),o.err.innerHTML=p.error.message,o.err.setAttribute("class",p.error.css),o.container.appendChild(o.err)),e()}function g(a,b){return a?a.replace("_1,","_"+(b+1)+","):""}function h(b){i(!0),a.forEach(o.links,function(a){a.setAttribute("href","/noticias/regioes"+(b?"/"+b:"")),a.innerHTML="Ver mais de "+(b?o.districts.options[o.districts.selectedIndex].text:"Regiões")}),!(!SAPO||!SAPO.LAZYPICTURE||!SAPO.LAZYPICTURE.refresh)&&SAPO.LAZYPICTURE.refresh(),i(!1),o.err&&c.setClassName(o.err,"hide-all",b);var d=Ink.ss("li",o.blocks);d&&d.length&&p.initial&&a.each(d,function(b,c){if(p.initial.item)for(var d in p.initial.item)b.setAttribute(d,g(p.initial.item[d],c));var e=Ink.ss("article",b);e&&e.length&&a.each(e,function(a){if(p.initial.article)for(var b in p.initial.article)a.setAttribute(b,g(p.initial.article[b],c));var d=Ink.s(".details",a);if(d&&p.initial.details)for(var b in p.initial.details)d.setAttribute(b,g(p.initial.details[b],c))})})}function i(a){c.setClassName(o.widget,"loading",a)}function j(a,b){n[a]?(o.blocks.innerHTML=n[a],h(a)):new d(p.api+a,{method:"GET",cors:!0,onSuccess:function(d){var e=d?d.responseJSON:null;m==a?e&&e.length?(e.length>p.limit&&(e.length=p.limit),n[a]=o.blocks.innerHTML=e.join("").replace(/\H=160/g,"H=426"),h(a),o.more&&c.removeClassName(o.more,"hide-all"),b&&b()):f():i(!1)}}),m=a}function k(){var b={item:Ink.s("li",o.blocks)};b.article=Ink.s("article",b.item),b.details=Ink.s(".details",b.article),p.initial||(p.initial={});for(var c in b)p.initial[c]||(p.initial[c]={}),a.each(["class","data-kpi"],function(a){if(b[c]){var d=b[c].getAttribute(a);d&&(p.initial[c][a]=d)}})}function l(){if(o.widget=Ink.s("[data-regioes-filtros]"),o.widget&&(o.blocks=Ink.s("[data-regioes-resultados]",o.widget),o.blocks)){k(),o.container=Ink.s(".container",o.widget),o.more=Ink.s("a[data-voz-view-more-a-cookie]",o.widget),o.districts=Ink.s("select",o.widget),o.initial.blocks=o.blocks.innerHTML,o.links=Ink.ss('a[href^="/noticias/regioes"].show-more');var a=document.createElement("div");c.addClassName(a,"loader"),o.widget.appendChild(a),o.districts&&b.on(o.districts,"change",function(a){i(!0),a&&a.target&&a.target.value?j(a.target.value):e()}),i(!1),o.districts&&o.districts.value&&(j(o.districts.value),i(!1))}}var m,n={},o={initial:{}},p={api:window.location.origin+"/api/voz/district/",error:{message:"Ainda não existem notícias para o seu distrito",css:"error no-results"},limit:3};return{init:l,reset:e}}),Ink.requireModules(["SAPO.FiltroRegioes_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.FiltroRegioes=a,a.init()}),Ink.createModule("SAPO.ElectionsProgramsCompare",1,["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Net.Ajax_1"],function(a,b,c,d){"use strict";function e(a,b){if(b&&a[b]&&n.data[b]){var c=[],d={};for(var e in n.data[b])d[e]=n.data[b][e];var f=b+"s";if(j&&j[f])for(var e in j[f])d[e]=j[f][e];for(var g in d)c.push('<option value="'+g+'">'+d[g]+"</option>");if(a[b].innerHTML=c.join(""),c.length>1){var h=Ink.s("option",a[b]);h&&!n.safari&&h.setAttribute("disabled","disabled")}}}function f(){((k||0)+n.cache<Date.now()||!j)&&new d(n.api+"/",{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){var b=a.responseJSON;b&&(j=b),k=Date.now(),o.forEach(function(a){e(a[0],a[1])}),window.localStorage&&window.localStorage.setItem(n.storage,JSON.stringify({res:j,updated:k}))}})}function g(a,b,d,e){if(b&&j&&a.results){if(!d)return void(a.results.innerHTML="");var f=j[b+"s"]&&j[b+"s"][d],g=[],h="theme"!=b;f&&g.push("<h1>"+f+"</h1>"),h&&g.push('<img src="'+n.assets+d+'.png"/>');for(var i in j[e+"s"]){var k=h?i+"|"+d:d+"|"+i,l=j[e+"s"][i];g.push('<div class="programa">'),g.push("<h2>"+l+"</h2>"),!h&&g.push('<img src="'+n.assets+i+'.png"/>'),j.programs[k]?g.push(j.programs[k]):g.push('<p class="erro" >Não foram encontradas propostas</p>'),g.push("</div>")}a.results&&(a.results.innerHTML=g&&g.length?g.join(""):n.errors.empty,e&&c.removeClassName(a.results,e),b&&c.addClassName(a.results,b))}}function h(c){if(c){var d={};a.each(["results","theme","party"],function(a,f){d[a]=Ink.s(n.selectors[a],c),d[a]&&(f&&(e(d,a),o.push([d,a])),b.on(d[a],"change",function(b){var c;"theme"==a?c="party":"party"==a&&(c="theme"),c&&d[c]&&(d[c].value=""),g(d,a,b.target.value,c),d.theme&&d.theme.scrollIntoView&&d.theme.scrollIntoView()}))})}}function i(){var b=Ink.ss(n.selectors.ctn);b&&b.length&&(a.each(b,function(a){h(a)}),f())}var j,k,l,m=navigator.userAgent.toLowerCase(),n={api:"/api/election/programs",assets:"/assets/img/homepage-sapo/eleicoes/",storage:"_sele22",cache:3e5,selectors:{resultContainer:"ul[data-voz-refresh-results]",lstLoading:"[data-voz-refresh-loading]",noResults:"[data-voz-refresh-no-results]",ctn:"[data-elections-compare]",theme:'select[name="elections-compare-theme"]',party:'select[name="elections-compare-party"]',results:'[name="elections-compare-results"]'},errors:{empty:['<div class="erro">',"Não foram encontradas propostas","</div>"].join("")},css:{loading:"loading"},data:{theme:{"":"Escolha um tema"},party:{"":"Escolha um partido"}},safari:/applewebkit\//.test(m)&&!/iemobile/.test(m)&&!/(chrome|crios)\//.test(m)},o=[],p=window.localStorage?window.localStorage.getItem(n.storage):null;if(p)try{l=JSON.parse(p||"{}")}catch(q){}return l&&(l.updated&&(k=l.updated),l.res&&(j=l.res)),{init:i}}),Ink.requireModules(["SAPO.ElectionsProgramsCompare_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.ElectionsProgramsCompare=a,a.init()}),Ink.createModule("SAPO.Widget",1,["Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Util.Array_1","SAPO.Utils_1"],function(a,b,c,d){"use strict";function e(a){return a?a.toString().trim():""}function f(a){return"["+t.selectors.widget+"-"+t.selectors.view+'="'+a+'"]'}function g(a){return document.querySelectorAll("["+t.selectors.widget+'="'+a+'"]')}function h(a,b){return t.isIE?a.replace(/ +?/g,"")===b.replace(/ +?/g,""):a===b}function i(a,b,d,e){var f,g,i="name",j="value",k=b.nextElementSibling;k&&k.ink&&(k.ink.alias&&(k.ink.alias.name&&(i=k.ink.alias.name),k.ink.alias.value&&(j=k.ink.alias.value)),k.ink.datalist&&c.each(k.ink.datalist,function(a){h(a[i],b.value)&&(f=a[j],g=b.value)})),g&&(e(),a(f,g,b,d))}function j(a){u.element||(u.element=Ink.s('meta[name="viewport"]')),u.element&&(u.params||(u.params=(u.element.getAttribute("content")||"").replace(u.scaled,"")),u.element.setAttribute("content",u.params+(a?u.scaled:"")))}function k(a,b){if(a){var c=a.nextElementSibling;if(c&&c.ink&&window.SAPO&&window.SAPO.Datalist&&window.SAPO.Datalist.open){j(!0),a.blur();var d=a.getAttribute("placeholder")||t.placeholder;window.SAPO.Datalist.open(c.ink.datalist,c.ink.alias,function(c,d){j(),b(c,d),a.value=d},d)}}}function l(a,c){if(t.isIOS||window.innerWidth<=640)b.on(a,"focus",function(){k(a,c)}),b.on(a,"click",function(){k(a,c)});else{var d=a.value||"",e=a.placeholder;b.on(a,"input",function(b){a.value!=d&&a.value&&i(c,a,b,function(){d=a.value,a.blur()})}),b.on(a,"focus",function(){d=a.value,a.placeholder=d,a.value=""}),b.on(a,"blur",function(){a.placeholder=e,a.value=d})}}function m(a,b,c){return"<option "+(b.disabled?"disabled ":"")+(b.selected?"selected ":"")+(a?"":'value="'+b[c?c.value||"value":"value"]+'"')+">"+b[c?c.name||"name":"name"]+"</option>"}function n(a,b){var c=t.selectors.widget+"-"+t.selectors.params,d=a.getAttribute(c),f={};for(var g in b)f[g]=b[g];if(d){var h=d.split(",");h&&h.forEach(function(a){var b=a.split(":");b&&b.length&&(f[e(b[0])]=e(b[1]))})}return a.removeAttribute(c),f}function o(a){var b={},d=t.selectors.widget+"-"+t.selectors.template;return c.each(a.querySelectorAll("["+d+"]"),function(a){var c=a.getAttribute(d);a.removeAttribute(d),b[c]={slot:a.parentElement,html:a.outerHTML},a.outerHTML=""}),b}function p(a,b,e,g,h){var i=a.querySelectorAll(f(g));i&&c.each(i,function(a){if(h&&(g=h[g]),b&&b[g]){var f=d.includes(b[g],",");f?c.each(b[g].split(","),function(b){a.setAttribute(b.replace(" ",""),e[g])}):a.setAttribute(b[g],e[g])}else a.innerHTML=e[g]})}function q(a,b,d,e,f,g){if(a.ink.templates&&a.ink.templates[b]){var h=a.ink.templates[b].slot;if(h){var i=document.createDocumentFragment();a.ink.templates[b].html&&c.each(d,function(c){var d=document.createElement("div");d.innerHTML=a.ink.templates[b].html;for(var g in c)p(d,e,c,g),f&&f[g]&&p(d,e,c,g,f);i.appendChild(d.firstChild),d=null}),g||(h.innerHTML=""),h.appendChild(i)}}}function r(b){return b.getView=function(a,c){var d=b.querySelector(f(a));return d&&c&&c(d),s(d,b)},b.getViews=function(a,d){var e=[];return c.each(b.querySelectorAll(f(a))||[],function(a){e.push(s(a,b)),a&&d&&d(a)}),e},b.setLoading=function(c,d){a.setClassName(d||b,t.loading,0!=c)},b.setHidden=function(c,e){var f="boolean"!=typeof c&&d.isset(c)?"string"==typeof c?b.getView(c).getElement():c.getElement?c.getElement():c:b;f&&a.setClassName(f,"hide-all",0!=("boolean"==typeof c?c:e))},b.getTemplate=function(a){return{addData:function(c,d,e){q(b,a,c,d,e,!0)},setData:function(c,d,e){q(b,a,c,d,e)}}},b.getRootElement=function(a){return a&&a(b),b},b}function s(a,d){return{setLink:function(b,c){a&&(b&&a.setAttribute("href",b),c&&a.setAttribute("target",c))},setTitle:function(b,c){a&&b&&(a.setAttribute("title",b),a.setAttribute("alt",c||b))},setAttr:function(b,c){a&&a.setAttribute(b,c)},setContent:function(b){a&&(a.innerHTML=b)},setSource:function(b){a&&(a.src=b)},setText:function(b){a&&(a.innerText=b)},onClick:function(c){a&&b.on(a,"click",function(d){d&&b.stopDefault(event),c(a,d)})},onChange:function(c,d){a&&(d?l(a,c):b.on(a,"change",function(b){var d="";if(a.options){var e=Ink.s("[selected]",a);e&&e.removeAttribute("selected"),e=a.options[a.selectedIndex||0],e&&e.setAttribute("selected",!0),d=a.options[a.selectedIndex||0].text||""}c(a.value,d,a,b)}))},onSelect:function(a){this.onChange(a,!0)},on:function(c,d){c&&a&&b.on(a,c,function(b){d(b,a)})},off:function(c,d){c&&a&&b.off(a,c,d)},setOptions:function(b,d,e,f){if(a){var g=[];b&&c.each(b,function(a){g.push(m(f,a,e))}),d&&c.each(d,function(a){g.push('<optgroup label="'+a.label+'">'),c.each(a.options,function(a){g.push(m(f,a,e))}),g.push("</optgroup>")}),a.innerHTML=g.join(""),f&&(a.ink={datalist:b||[],alias:e})}},setDatalist:function(a,b,c){this.setOptions(a,b,c,!0);
},setDisabled:function(b){a&&(b?a.setAttribute("disabled","true"):a.removeAttribute("disabled"))},setValue:function(b){a&&(a.value=b||"")},getElement:function(b){if(a)return b&&b(a),a}}}var t={debug:!1,selectors:{widget:"data-widget",view:"view",params:"params",template:"template"},loading:"loading",hide:"hide-all",isIE:d.isIE(),isIOS:d.isIOS(),placeholder:"Escolha uma opção"},u={scaled:", maximum-scale=1"};return function(a,b,d){var e=g(a);if(e&&e.length){var f;d?f=b:d=b,c.each(e,function(a){a.ink={params:n(a,f),templates:o(a)},d(r(a),a.ink.params,a.ink.templates)})}}}),Ink.requireModules(["SAPO.Widget_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widget||(window.SAPO.Widget=a)}),Ink.createModule("SAPO.Widgets.LiveBlog",1,["Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Net.JsonP_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){new e(r.api.replace("{{liveId}}",a)+"&rnd_seed="+(new Date).getTime(),{onSuccess:function(a){b&&b(a)},onFailure:function(a){console.log(a)},randVar:"",internalCallback:"live"})}function k(a,b){a&&r.scripts[a]&&s.body&&setTimeout(function(){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",r.scripts[a]);for(var d in b)c.setAttribute(d,b[d]);s.body.appendChild(c),delete r.scripts[a]},50)}function l(a){if(!r.styled&&a&&s.body){var b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("href",r.style.replace("{{randUID}}",a)),s.body.appendChild(b),r.styled=!0}}function m(a){return a?'<div class="video"><iframe data-src="https://rd.videos.sapo.pt/playhtml?file='+a.replace("//videos.sapo.pt","//rd.videos.sapo.pt")+'/mov/1&relatedVideos=none" frameborder="0" scrolling="no" width="100%" height="100%" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>':""}function n(a){var b,c,d={ano:31536e6,"m&ecirc;s":2592e6,semana:6048e5,dia:864e5,hora:36e5,minuto:6e4},e=new Date-a;if(e<=d.minuto)return"mesmo agora";for(var f in d)if(0!==(b=Math.floor(e/d[f]))){c=f;break}return"h&aacute; "+b+" "+o(c,"m&ecirc;s"===c?"meses":c+"s",b)}function o(a,b,c){return b&&1!==c&&(a=b),a}function p(a,b){if(a){var c="string"==typeof a?a:a.getAttribute("href"),d=0;if(c){var e=Ink.s(c);if(e){var f=e.getBoundingClientRect();d=s.html.scrollTop=s.html.scrollTop+f.top-85;var g={left:0,top:d||0};b&&(g.behavior="smooth"),s.html.scrollTo?s.html.scrollTo(g):s.html.scrollTop=g.top,h.setHash(c)}}}}function q(a){return(!("onscroll"in window)||c.inViewport(a,{partial:!0,margin:200}))&&"none"!==window.getComputedStyle(a).display&&"hidden"!==window.getComputedStyle(a).visibility}var r={name:"liveblog",id:"liveblog-event-",style:"https://liveblogging.sapo.pt/v3/assets/{{randUID}}/static/live/css/liveblog.css",api:"https://liveblogging.sapo.pt/v3/services/live/jsonp?liveId={{liveId}}",scripts:{twitter:"//platform.twitter.com/widgets.js",instagram:"//platform.instagram.com/en_US/embeds.js",pinterest:"//assets.pinterest.com/js/pinit.js"},lazy:{iframe:{selector:"i",source:"data-src",attr:"src"},social:{selector:"blockquote",source:"data-lazy-social",attr:"class"}},interval:6e4,limit:250,margin:10},s={};return["html","body"].forEach(function(a){s[a]=Ink.s(a)}),i(r.name,r.params,function(e,i){function o(){I.throttle&&clearTimeout(I.throttle),I.throttle=setTimeout(function(){var b=Ink.ss('[data-widget-view="body"]:not(.loaded)',e);return!b||b&&!b.length?void d.off(window,"scroll",o):(b&&f.each(b,function(b){if(q(b)){for(var c in r.lazy){var d=Ink.ss("["+r.lazy[c].source+"]",b);d&&f.each(d,function(a){var b=a.getAttribute(r.lazy[c].source);b&&a.setAttribute(r.lazy[c].attr,b),a.removeAttribute(r.lazy[c].source)})}a.addClassName(b,"loaded")}}),void v())},150),!i.finished&&i.fetched&&i.ready&&e.getView("update",function(a){!i.finished&&i.fetched&&i.ready&&c.inViewport(a,{partial:!0,margin:250})&&(i.fetched=!1,z())})}function t(){var a=Ink.i(r.id+"0");if(a){var b=a.getBoundingClientRect();b&&b.top>=0&&u()}}function u(){d.off(window,"scroll",t),i.limit=r.limit,i.updated=0,i.finished=!1,e.setHidden("update",!1),e.setHidden("updated"),y(),A(),p("#"+r.id+"0")}function v(){Ink.s(".twitter-tweet",e)&&(window.twttr?twttr.widgets.load():k("twitter",{id:"twitter-wjs"})),Ink.s(".instagram-media",e)&&(window.instgrm?instgrm.Embeds.process():k("instagram"))}function w(){e.getView("triggers",function(a){f.each(Ink.ss('a[href^="#"]',a),function(a){d.on(a,"click",function(b){d.stopDefault(event),p(a,!0)})})})}function x(b){var c=e.getTemplate("trigger"),d=e.getTemplate("item");if(c&&d){var f=[],j=[],k=r.limit;i.updated||(i.updated=0,i.limit&&(k=i.limit));var l=location.href.replace(location.hash,"");if(H&&H.live&&H.live[i.updated]&&!i.finished)for(var q=i.updated;q<i.updated+k;q++){var t=H.live[q];if(t){"on"==t.key&&(t.target="#"+r.id+q,f.push(t)),t.date=n(g.set("Y-m-d H:i",t.date+" "+t.time));var u="";t.image&&(u+='<img data-src="'+t.image+'"/>'),t.video&&(u=m(t.video)),t.body&&(u+=t.body),t.body=u;for(var v in r.lazy)h.includes(t.body,"<"+r.lazy[v].selector)&&h.includes(t.body," "+r.lazy[v].attr+"=")&&(t.body=t.body.replace(" "+r.lazy[v].attr+"="," "+r.lazy[v].source+"="));t.item=r.id+q,h.includes(l,t.url)||(t.title='<a href="'+t.url+'">'+t.title+"</a>"),j.push(t)}}i.updated+=j.length,!b&&e.getView("events",function(b){a.setClassName(b,"all-70",f.length)}),f.length?c[b?"addData":"setData"](f,{target:"href"},{title:"target"}):!b&&e.setHidden("resume"),d[b?"addData":"setData"](j,{item:"id"}),b||(s.html&&s.html.scrollIntoView&&w(),location.hash&&p(location.hash)),o(),i.finished||i.updated!=H.live.length||(i.finished=!0,e.setHidden("update"))}}function y(a){e.setLoading(!1),i.ready=!1,i.loaded=!0,I.loaded&&clearTimeout(I.loaded),I.loaded=setTimeout(function(){i.ready=!0,a?p(a):o()},150)}function z(){i.finished||(d.off(window,"scroll",o),x(!0),i.fetched=!0,d.on(window,"scroll",o))}function A(){d.off(window,"scroll",o),e.setLoading(),i.checksum&&window.postMessage({type:"LiveBlog",status:"changed"},"*"),i.checksum=H.checksum,x(),d.on(window,"scroll",o),i.fetched=!0,i.loaded&&y()}function B(){j(i.liveId,function(a){if(a&&a.checksum!==i.checksum)if(H=a,i.checksum){var b=Ink.i(r.id+"1");if(s.updated&&b){var c=b.getBoundingClientRect();c&&c.top<0?(d.on(window,"scroll",t),e.setHidden("updated",!1)):u()}}else A()})}function C(){i.scrolling&&clearTimeout(i.scrolling),i.scrolling=setTimeout(function(){e.getView("items",function(a){var b;f.each(Ink.ss('[id^="'+r.id+'"]',a),function(a){if(!b&&c.inViewport(a,{partial:!0,margin:-200})){var d=a.getAttribute("id");return i.visible!=d&&h.setHash(d),i.visible=d,void(b=!0)}})})},100)}function D(a){E(),I.interval=setInterval(B,a||r.interval)}function E(){I.interval&&clearInterval(I.interval),I.interval=null}function F(){var a;location&&location.hash&&(e.setLoading(),a=location.hash),d.on(window,"scroll",C),i.fetched&&y(a),d.off(window,"load",F)}function G(){b.IE&&(parseFloat(b.version,10)<9&&a.addClassName(e,"oldie"),a.addClassName(e,"ie")),s.updated=e.getView("updated"),s.updated&&s.updated.onClick(u),d.on(window,"load",F),l(i.randUID||"randUID"),k("pinterest"),B(),D(),y(location?location.hash||"":"");var c=r.limit;location.hash&&h.includes(location.hash,r.id)&&(c=parseInt(parseInt(location.hash.replace("#"+r.id,""))+r.margin),c<r.limit&&(c=r.limit)),i.limit=c,window.SAPO&&window.SAPO.Widgets&&window.SAPO.Widgets.LiveBlog&&(window.SAPO.Widgets.LiveBlog.start=D,window.SAPO.Widgets.LiveBlog.stop=E)}var H,I={};e.init=G}),{}}),Ink.requireModules(["SAPO.Widgets.LiveBlog_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.LiveBlog=a}),Ink.createModule("SAPO.Widgets.Poll",1,["Ink.Dom.Css_1","Ink.Net.Ajax_1","Ink.Net.JsonP_1","Ink.Dom.Event_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Widget_1"],function(a,b,c,d,e,f,g){"use strict";var h,i={name:"poll",sponsor:"data-sponsor-tracker",api:"//vota.sapo.pt/polljson.php",storage:"_shp_poll_{{vsite}}_votes",date:"d \\d\\e F \\d\\e Y",views:["poll","results","polls"],error:"Ocorreu um erro. Tente novamente mais tarde."};return g(i.name,function(a,g){function j(b){switch("poll"==b&&g.answered&&(b="results"),e.each(i.views,function(c){a.setHidden(c,c!=b),a.setHidden(v[c],c==b)}),a.setHidden("question","polls"==b),b){case"poll":k(),a.setHidden("question","polls"==b),a.setHidden(v.polls,!1),a.setHidden(v.results,!1);break;case"results":l(),a.setHidden(v.polls,!g.answered),a.setHidden(v.poll,!!g.answered);break;case"polls":!g.polls&&p(),a.setHidden(v.results),a.setHidden(v.poll,!1)}g.ready||(a.setLoading(!1),g.ready=!0)}function k(){var b=[];g.answers&&e.each(g.answers,function(a){b.push('<label for="poll-'+a.id+'"><input type="radio" id="poll-'+a.id+'" name="answer" data-widget-view="answer" value="'+a.id+'"/>'+a.answer+"</label>")}),a.getView("questions").setContent(b.join(""));var c=a.getViews("answer"),d=a.getView("vote");d&&d.setDisabled(!0),c&&e.each(c,function(a){a.onChange(function(a){d&&d.setDisabled(!1),g.answer=a})}),a.getView("id").setValue(g.poll)}function l(){var b=[];a.setHidden("answered",!g.answered),g.answers&&e.each(g.answers,function(a){b.push('<p class="answer">'+a.answer+': <span class="votes">'+a.votes+"</span></p>");var c=(Math.round(100/g.total*a.votes)||0)+"%";b.push('<div class="percentage" style="width: '+c+';">'+c+"</div>")}),a.getView("answers").setContent(b.join(""))}function m(b){if(b){var c=[];e.each(b,function(a){var b=f.get(i.date,[a.beginDate.slice(0,4),a.beginDate.slice(4,6),a.beginDate.slice(6,8)].join("-"));c.push('<p class="question"><span class="date">'+b+'</span><a data-widget-view="question" id="'+a.id+'">'+a.question+"</a></p>")}),a.getView("polls").setContent(c.join("")),a.getViews("question",function(a){d.on(a,"click",function(){var b=a.getAttribute("id");b&&q(b),j(i.name)})}),g.polls=!0}}function n(b,c){if(b){a.getView("question").setContent(b.title),g.poll=c;var d=a.getView("info");a.setHidden(d,!b.newsLink),d&&d.setLink(b.newsLink),g.answered=h[c.toString()],g.total=b.total,g.answers=b.answers}j(i.name)}function o(){t({op:"last"},function(a){a&&a.polls&&a.polls.length&&q(a.polls[0].id)})}function p(){t({op:"last"},function(a){a&&m(a.polls)})}function q(b){a.getView("answers").setContent(""),a.getView("questions").setContent(""),t({op:b,id:b},function(a){a&&n(a,b)})}function r(){t({answer:g.answer,id:g.poll,op:"vote"},function(){g.answered=!0,h[g.poll.toString()]=!0,localStorage.setItem(i.storage,JSON.stringify(h)),j("results")})}function s(){var a=Ink.s("["+i.sponsor+"]");if(a){var c=a.getAttribute(i.sponsor);c&&new b(c,{method:"GET",cors:!0,onSuccess:function(a){console.log("poll","onSuccess",a)},onFailure:function(a){console.log("poll","onFailure",a)}})}}function t(a,b){a||(a={}),g.vsite&&(a.vsite=g.vsite),new c(i.api,{onSuccess:function(a){b(a)},onFailure:function(a){console.error("Widgets.Poll",a),b()},params:a})}function u(){i.storage=i.storage.replace("{{vsite}}",g.vsite||""),h=JSON.parse(localStorage.getItem(i.storage)||"{}");var b=a.getView("vote");b&&(b.onClick(r),b.setDisabled(!0)),e.each(i.views,function(b){v[b]=a.getView(b+"-btn"),v[b].onClick(function(){j(b)})}),g.vsite?o():q(g.id),s()}var v={};a.init=u}),{}}),Ink.requireModules(["SAPO.Widgets.Poll_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Poll=a});var parseMiniWidget=function(){if(window.localStorage){var a=document.querySelector('[data-widget="cinema"].short');if(a){var b="_shp_cinema",c=window.localStorage.getItem(b);if(c){var d;try{d=JSON.parse(c)}catch(e){}var f="upcoming";if(d&&d.tab&&d.tab!=f){d.tab=f,d.page=0;try{window.localStorage.setItem(b,JSON.stringify(d))}catch(e){}}}}}};Ink.createModule("SAPO.Widgets.Cinema",1,["Ink.Net.Ajax_1","Ink.Util.Array_1","Ink.Dom.Element_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c,d,e){"use strict";function f(b,c){new a(b,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){c&&c(a?a.responseJSON||[]:[])},onFailure:function(a){console.error("Widgets.Cinema",a)}})}parseMiniWidget();var g={name:"cinema",link:"https://mag.sapo.pt",cookie:"_shp_cinema",api:{districts:"https://api.mag.sapo.pt/v1/app/service/districts_movies",upcoming:"https://api.mag.sapo.pt/v1/app/service/movies_opening/latest",playing:"https://api.mag.sapo.pt/v1/app/service/movies_playing?district="},epic:"https://thumbs.web.sapo.io/?W=200&crop=top&epic=",metadata:["originalTitle","genre","ageRanting"],params:{page:0,district:11,tab:"upcoming",updated:(new Date).getTime()},expires:9e5,more:{upcoming:"https://mag.sapo.pt/cinema/estreias",playing:"https://mag.sapo.pt/cinema/em-cartaz"},tabs:{upcoming:"Estreias",playing:"Em cartaz"},districts:[{value:"01",name:"Aveiro",slug:"aveiro"},{value:"02",name:"Beja",slug:"beja"},{value:"03",name:"Braga",slug:"braga"},{value:"04",name:"Braganca",slug:"braganca"},{value:"05",name:"Castelo Branco",slug:"castelo-branco"},{value:"06",name:"Coimbra",slug:"coimbra"},{value:"07",name:"Evora",slug:"evora"},{value:"08",name:"Faro",slug:"faro"},{value:"09",name:"Guarda",slug:"guarda"},{value:"10",name:"Leiria",slug:"leiria"},{value:"11",name:"Lisboa",slug:"lisboa"},{value:"12",name:"Portalegre",slug:"portalegre"},{value:"13",name:"Porto",slug:"porto"},{value:"14",name:"Santarém",slug:"santarem"},{value:"15",name:"Setúbal",slug:"setubal"},{value:"16",name:"Viana Do Castelo",slug:"viana-do-castelo"},{value:"17",name:"Vila Real",slug:"vila-real"},{value:"18",name:"Viseu",slug:"viseu"},{value:"31",name:"Ilha da Madeira",slug:"madeira"},{value:"42",name:"Açores",slug:"acores"}]},h=localStorage.getItem(g.cookie);if(h&&Object.keys(h).length){var i={};try{i=JSON.parse(h)}catch(j){console.error(j)}}return e(g.name,g.params,function(a,e){function j(){window._WidgetCinemaDistricts?l(window._WidgetCinemaDistricts):f(g.api.districts,l)}function k(a,b){!x&&a.forEach(function(a){x||!b(a)||a.disabled||(x=!0,a.selected=!0,e.located||(e.district=a.value),e.page=0,n())})}function l(b){if(y.districts){var c=g.districts.map(function(a){return d.includes(b,a.value)?a.value==e.district&&(a.selected=!0,x=!0):a.disabled=!0,a});!x&&k(c,function(a){return a.value==g.params.district}),!x&&k(c,function(a){return a.value}),y.districts.setOptions(c),a.setLoading(!1)}}function m(){a.getView("movie",function(b){a.setLoading(!0,b);var c=g.api[e.tab];e.playing&&(c+=e.district),c&&(window._WidgetCinemaUpcoming&&window._WidgetCinemaUpcoming.items&&!e.playing?(e[e.tab]=window._WidgetCinemaUpcoming.items||[],n(),a.setLoading(!1,b)):f(c,function(c){e.updated=(new Date).getTime(),e[e.tab]=c.items||[],n(),a.setLoading(!1,b)}))})}function n(){var c=e[e.tab];if(c&&c.length>0){o(!1),c.length<e.page+1&&(e.page=0);var d=c[e.page];if(d){y.title&&y.title.setContent(d.title);var f={};d.metadata&&d.metadata.extraInfo&&b.each(d.metadata.extraInfo,function(a){b.each(g.metadata,function(b){a.key==b&&(f[b]=a.value)})}),y.original&&y.original.setContent(f.originalTitle||"");var i=f.ageRanting||"";f.genre&&(i+=(i?" &middot; ":"")+f.genre),y.info&&y.info.setContent(i);var j=d.url+(e.playing?"#"+e.district:""),k=j?g.link+j:"";y.link&&y.link.setLink(k),y.title&&y.title.setLink(k),y.thumb&&y.thumb.getElement(function(a){y.thumb.setLink(k),a.setAttribute("data-title",d.title)}),y.image&&y.image.getElement(function(b){a.setLoading(!0,b);var c=d.thumbnail;y.image.setSource(c?c.origEpic?g.epic+c.origEpic:c.origUrl||"":""),a.setLoading(!1,b)}),s(c)}}else o(!0);var l={};for(var m in g.params)"district"==m&&e.located||(l[m]=e[m]);if(!e.located)try{window.localStorage.setItem(g.cookie,h=JSON.stringify(l))}catch(n){console.error(n)}}function o(b){var c=a.getView("movies-ctn"),d=a.getView("pager-ctn"),e=a.getView("no-movies-msg");c&&e&&d&&(a.setHidden(c,b),a.setHidden(d,b),a.setHidden(e,!b))}function p(){e.page&&e.page--,n()}function q(){e.page++,n()}function r(a,b){a&&a.getElement(function(a){b?a.setAttribute("disabled",!0):a.removeAttribute("disabled")})}function s(b){var c=e.page+1;r(y.prev,!e.page),r(y.next,c==b.length);var d=a.getView("counter");d&&d.setContent(c+" de "+b.length)}function t(){var a="";"playing"===e.tab&&e.district&&b.each(g.districts,function(b){b.value==e.district&&(a="/"+b.slug)}),e.more&&y.more&&y.more.setLink(e.more+a)}function u(){e.playing="playing"==e.tab,!e.playing&&e.upcoming?n():m(),a.setHidden(y.showtimes,!e.playing),a.setHidden(y.date,e.playing),a.setHidden(y.icon,!e.playing),y.label&&y.label.setContent(e.playing?"Ver sessões":"Ver ficha"),e.more=g.more[e.tab],t(),y.heading&&y.heading.setLink(e.more)}function v(){y.districts=a.getView("districts"),y.showtimes=a.getView("showtimes"),y.date=a.getView("date"),y.label=a.getView("label"),y.more=a.getView("more"),y.heading=a.getView("heading"),y.icon=a.getView("icon"),y.thumb=a.getView("thumb"),y.image=a.getView("image"),y.title=a.getView("title"),y.original=a.getView("original"),y.info=a.getView("info"),y.link=a.getView("link"),y.next=a.getView("next"),y.next&&y.next.onClick(q),y.prev=a.getView("prev"),y.prev&&y.prev.onClick(p),y.districts&&y.districts.onChange(function(a){e.page=0,e.located||(e.district=a),m(),t()});var b=a.getView("tabs");if(b){var c=[];for(var d in g.tabs)c.push({value:d,name:g.tabs[d],selected:d==e.tab});b.setOptions(c),b.onChange(function(a){e.tab=a,e.page=0,u()}),u()}}function w(){if(i&&i.updated){var b=(new Date).getTime();for(var d in g.params)"district"==d&&e.located||!(i.updated+g.expires>b||"district"==d)||(e[d]=i[d])}e.located&&(e.tab="playing",a.getView("districts",function(a){c.remove(a.parentElement||a)})),v(),j()}var x=!1,y={};a.init=w}),{}}),Ink.requireModules(["SAPO.Widgets.Cinema_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Cinema=a}),Ink.createModule("SAPO.Widgets.Classifieds",1,["Ink.Net.Ajax_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c){"use strict";var d={name:"classifieds",link:"https://mag.sapo.pt",api:{classifieds:"/api/service/classifieds",highlights:"//services.sapo.pt/Channel/Homepage/Classifieds/GetHighlights"},cars:{title:"Carros",service:"cars",link:"https://auto.sapo.pt/carro/usado",args:{brand:"bmv",model:"ms",fuel:"fid"},brands:{list:[{value:"",name:"Marca"},{value:"1",name:"Alfa Romeo"},{value:"3",name:"Aston Martin"},{value:"4",name:"Audi"},{value:"7",name:"Bentley"},{value:"8",name:"BMW"},{value:"11",name:"Chevrolet"},{value:"12",name:"Chrysler"},{value:"13",name:"Citroen"},{value:"1063",name:"Dacia"},{value:"15",name:"Daewoo"},{value:"16",name:"Daihatsu"},{value:"18",name:"Dodge"},{value:"19",name:"Ferrari"},{value:"20",name:"Fiat"},{value:"21",name:"Ford"},{value:"23",name:"Honda"},{value:"25",name:"Hyundai"},{value:"29",name:"Jaguar"},{value:"28",name:"Jeep"},{value:"30",name:"Kia"},{value:"32",name:"Lamborghini"},{value:"33",name:"Lancia"},{value:"34",name:"Land Rover"},{value:"35",name:"Lexus"},{value:"38",name:"Lotus"},{value:"40",name:"Maserati"},{value:"41",name:"Mazda"},{value:"42",name:"Mercedes-Benz"},{value:"43",name:"MG"},{value:"44",name:"MINI"},{value:"45",name:"Mitsubishi"},{value:"47",name:"Nissan"},{value:"48",name:"Opel"},{value:"49",name:"Peugeot"},{value:"52",name:"Porsche"},{value:"54",name:"Renault"},{value:"55",name:"Rolls Royce"},{value:"56",name:"Rover"},{value:"57",name:"Saab"},{value:"58",name:"Seat"},{value:"59",name:"Skoda"},{value:"60",name:"Smart"},{value:"61",name:"SsangYong"},{value:"62",name:"Subaru"},{value:"63",name:"Suzuki"},{value:"65",name:"Toyota"},{value:"71",name:"Volkswagen"},{value:"70",name:"Volvo"}],groups:[{label:"Outras Marcas",options:[{value:"76",name:"Aixam"},{value:"1054",name:"Adria"},{value:"1146",name:"Auto Roller"},{value:"10",name:"Cadillac"},{value:"1040",name:"Caravelair"},{value:"1037",name:"Ci"},{value:"167",name:"Datsun"},{value:"1078",name:"Grecav"},{value:"1056",name:"Hobby"},{value:"24",name:"Hummer"},{value:"74",name:"Iveco"},{value:"1180",name:"Jensen-Healey"},{value:"1044",name:"Knaus"},{value:"36",name:"Ligier"},{value:"31",name:"Lada"},{value:"1104",name:"LMC"},{value:"39",name:"Mahindra"},{value:"173",name:"Mercury"},{value:"1077",name:"Microcar"},{value:"1060",name:"Pluma"},{value:"51",name:"Pontiac"},{value:"1134",name:"Rapido"},{value:"1133",name:"Rimor"},{value:"1206",name:"Simca"},{value:"1205",name:"Standard"},{value:"1005",name:"Tata"},{value:"67",name:"Triumph"},{value:"77",name:"UMM"},{value:"69",name:"Vauxhall"}]}]},models:{option:{IdVehicleModel:"",Model:"Modelo"},map:{value:"IdVehicleModel",name:"Model"}},fuels:[{value:"",name:"Combustível"},{value:"1",name:"Diesel"},{value:"8",name:"Eléctrico"},{value:"2",name:"Gasolina"},{value:"3",name:"GPL"},{value:"7",name:"Híbrido"},{value:"9",name:"Outro"}]},realty:{api:"/api/service/classifieds/realty",title:"Casas",service:"realty",link:"https://casa.sapo.pt/Pesquisar","default":{typeId:2,typeText:"Casas e apartamentos"},args:{Action:"GETTOWNSBYSTATEID",ID:0},types:[{value:2,name:"Casas e apartamentos"},{value:1,name:"Nova construção"},{value:3,name:"Escritórios"},{value:4,name:"Lojas ou armazéns"},{value:5,name:"Garagens"},{value:6,name:"Terrenos"},{value:7,name:"Arrecadações"},{value:8,name:"Prédios"},{value:10,name:"Quartos"}],districts:[{value:"",name:"Distrito"},{value:"1",name:"Aveiro"},{value:"2",name:"Beja"},{value:"3",name:"Braga"},{value:"4",name:"Bragança"},{value:"5",name:"Castelo Branco"},{value:"6",name:"Coimbra"},{value:"7",name:"Évora"},{value:"8",name:"Faro"},{value:"9",name:"Guarda"},{value:"10",name:"Leiria"},{value:"11",name:"Lisboa"},{value:"12",name:"Portalegre"},{value:"13",name:"Porto"},{value:"14",name:"Santarém"},{value:"15",name:"Setúbal"},{value:"16",name:"Viana do Castelo"},{value:"17",name:"Vila Real"},{value:"18",name:"Viseu"},{value:"31",name:"Madeira"},{value:"32",name:"Porto Santo"},{value:"41",name:"Santa Maria"},{value:"42",name:"São Miguel"},{value:"43",name:"Terceira"},{value:"44",name:"Graciosa"},{value:"45",name:"São Jorge"},{value:"46",name:"Pico"},{value:"47",name:"Faial"},{value:"48",name:"Flores"},{value:"49",name:"Corvo"}],councils:{option:{id:"",name:"Concelho"},map:{value:"id",name:"name"}}},jobs:{title:"Emprego",link:"https://emprego.sapo.pt/offers",args:{category:"c",district:"d",keyword:"search"},categories:[{value:"",name:"Categoria"},{value:"1",name:"Administrativo e Secretariado"},{value:"2",name:"Agricultura e Pescas"},{value:"3",name:"Ambiente"},{value:"39",name:"Apoio Domiciliário e Limpezas"},{value:"4",name:"Arquitetura"},{value:"5",name:"Automóvel"},{value:"6",name:"Banca e Seguros"},{value:"7",name:"Beleza, Estética e Bem-Estar"},{value:"9",name:"Call-Center, Helpdesk e Telemarketing"},{value:"11",name:"Comercial e Vendas"},{value:"12",name:"Comunicação, Media e Redes Sociais"},{value:"14",name:"Construção Civil"},{value:"15",name:"Consultadoria, Auditoria e Assessoria"},{value:"17",name:"Contabilidade, Fiscalidade e Finanças"},{value:"19",name:"Design, Multimedia e Artes Gráficas"},{value:"20",name:"Desporto e Fitness"},{value:"21",name:"Engenharia"},{value:"22",name:"Formação, Ensino e Educação"},{value:"23",name:"Gestão e Economia"},{value:"24",name:"Grande Consumo e Retail"},{value:"26",name:"Hotelaria, Restauração e Turismo"},{value:"27",name:"Imobiliário"},{value:"28",name:"Indústria e Manutenção"},{value:"29",name:"Informática e Tecnologias"},{value:"30",name:"Jurídico"},{value:"31",name:"Línguas e Tradução"},{value:"32",name:"Logística, Compras e Distribuição"},{value:"33",name:"Marketing, Publicidade e R.P."},{value:"34",name:"Moda e Confecção Têxtil"},{value:"35",name:"Próprio Emprego"},{value:"25",name:"Qualidade"},{value:"36",name:"Recursos Humanos"},{value:"37",name:"Saúde"},{value:"38",name:"Segurança"}],districts:[{value:"",name:"Distrito"},{value:"1",name:"Aveiro"},{value:"2",name:"Beja"},{value:"3",name:"Braga"},{value:"4",name:"Bragança"},{value:"5",name:"Castelo Branco"},{value:"6",name:"Coimbra"},{value:"7",name:"Évora"},{value:"8",name:"Faro"},{value:"9",name:"Guarda"},{value:"10",name:"Leiria"},{value:"11",name:"Lisboa"},{value:"12",name:"Portalegre"},{value:"13",name:"Porto"},{value:"14",name:"Santarém"},{value:"15",name:"Setúbal"},{value:"16",name:"Viana do Castelo"},{value:"17",name:"Vila Real"},{value:"18",name:"Viseu"},{value:"31",name:"Ilha da Madeira"},{value:"32",name:"Ilha de Porto Santo"},{value:"41",name:"Ilha de Santa Maria"},{value:"42",name:"Ilha de São Miguel"},{value:"43",name:"Ilha Terceira"},{value:"44",name:"Ilha Graciosa"},{value:"45",name:"Ilha de São Jorge"},{value:"46",name:"Ilha do Pico"},{value:"47",name:"Ilha do Faial"},{value:"48",name:"Ilha das Flores"},{value:"49",name:"Ilha do Corvo"},{value:"-1",name:"Internacional"}]},error:"Ocorreu um erro. Tente novamente mais tarde."};return c(d.name,function(b){function c(b,c,e){var f="";for(var g in c)f+="%26"+g+"%3D"+c[g];var h="realty"===b?d.realty.api:d.api.classifieds;new a(h+"?service="+d[b].service+(f?"&params="+f.replace("%26",""):""),{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){e(a?a.responseJSON:[])},onFailure:function(a){console.error("Widgets.Classifieds",a)}})}function e(a){var b={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ç":"C","ç":"c","Ñ":"N","ñ":"n"};return a.replace(/[^\u0000-\u007E]/g,function(a){return b[a]||a})}function f(a){return e(a.toLowerCase()).replace(/,/g,"").replace(/\s/g,"-")}function g(a,b){var e={};e[d.cars.args.brand]=a,c("cars",e,b)}function h(a,b){if(null!=a&&a.Brands[0].Models){var c=a.Brands[0].Models;c.forEach(function(a){a.IdVehicleModel=a.Id,a.Model=a.Name}),a=c}var e=[d.cars.models.option];b&&b.setOptions(e.concat(a||[]),null,d.cars.models.map)}function i(){var a=b.getView("cars-brands"),c=b.getView("cars-models");a&&(a.setOptions(d.cars.brands.list,d.cars.brands.groups),a.onChange(function(a){o.cars[d.cars.args.brand]=a,b.getView("cars-models").setDisabled(!a),g(a,function(a){h(a,c)})})),c&&(c.onChange(function(a){o.cars[d.cars.args.model]=a}),h(null,c));var e=b.getView("cars-fuels");e&&(e.setOptions(d.cars.fuels),e.onChange(function(a){o.cars[d.cars.args.fuel]=a}));var f=b.getView("cars-search");f&&f.onClick(function(){var a="",b=d.cars.brands.list.filter(function(a){return a.value===o.cars.bmv});if(b[0]){var c=b[0].name.toLowerCase();a+="/marca/"+c}location=d.cars.link+a})}function j(a,b){var e=d.realty.args;e.ID=a,c("realty",e,b)}function k(a,b){var c=[d.realty.councils.option];b&&b.setOptions(c.concat(a||[]),null,d.realty.councils.map)}function l(){var c=b.getView("realty-types"),e=b.getView("realty-districts"),f=b.getView("realty-councils");c&&(c.setOptions(d.realty.types),o.realty.typeId=d.realty["default"].typeId,o.realty.type=d.realty["default"].typeText,c.onChange(function(a,b){o.realty.typeId=a,o.realty.type=b})),e&&(e.setOptions(d.realty.districts),e.onChange(function(a,b){o.realty.districtId=a,o.realty.district=b,f.setDisabled(!a),delete o.realty.councilId,delete o.realty.council,a||(o.realty.council=""),j(a,function(a){k(a,f)})})),f&&(f.onChange(function(a,b){o.realty.councilId=a,o.realty.council=b}),k(null,f));var g=b.getView("realty-search");g&&g.onClick(function(){var b="Action%3DGetRealestateLink";b+=o.realty.typeId?"%26typeId%3D"+o.realty.typeId:"",b+=o.realty.districtId?"%26districtId%3D"+o.realty.districtId:"",b+=o.realty.councilId?"%26councilId%3D"+o.realty.councilId:"",new a(d.realty.api+"?service=realty&params="+b,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){a.responseText&&""!==a.responseText&&(location=a.responseText)},onFailure:function(a){console.error("Widgets.Classifieds",a)}})})}function m(){var a=b.getView("jobs-keyword"),c=b.getView("jobs-categories"),e=b.getView("jobs-districts");a&&a.onChange(function(a){o.jobs.keyword=a}),c&&(c.setOptions(d.jobs.categories),c.onChange(function(a,b){o.jobs.category=f(a)})),e&&(e.setOptions(d.jobs.districts),e.onChange(function(a,b){o.jobs.district=a}));var g=b.getView("jobs-search");g&&g.onClick(function(){var a=[];for(var b in o.jobs)o.jobs[b]&&a.push(d.jobs.args[b]+"="+encodeURIComponent(o.jobs[b]));location=d.jobs.link+(a.length?"?"+a.join("&"):"")})}function n(){i(),l(),m(),b.setLoading(!1)}var o={cars:{},realty:{},jobs:{}};b.init=n}),{}}),Ink.requireModules(["SAPO.Widgets.Classifieds_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Classifieds=a}),Ink.createModule("SAPO.Widgets.Horoscope",1,["Ink.Net.JsonP_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Widget_1"],function(a,b,c,d){"use strict";var e={name:"horoscope",api:"//services.sapo.pt/Astrology/v2/GetPrediction",link:"https://lifestyle.sapo.pt/astral/previsoes/{{astrologer}}/?signo={{sign}}",image:"url(/assets/img/homepage-sapo/horoscope/sprite_horoscope_1.svg)",today:new Date,date:"j \\d\\e M",weekDay:"l",cookie:"_shp_horoscope",params:{astrologer:"paulo-cardoso",period:"diaria"},error:"Ocorreu um erro. Tente novamente mais tarde."},f=localStorage.getItem(e.cookie);if(f)try{e.params.sign=JSON.parse(f)}catch(g){}e.year=e.today.getFullYear(),e.month=e.today.getMonth();var h={carneiro:{name:"Carneiro",start:new Date(e.year,2,21),end:new Date(e.year,3,20)},touro:{name:"Touro",start:new Date(e.year,3,21),end:new Date(e.year,4,20)},gemeos:{name:"Gémeos",start:new Date(e.year,4,21),end:new Date(e.year,5,20)},cancer:{name:"Caranguejo",start:new Date(e.year,5,21),end:new Date(e.year,6,20)},leao:{name:"Leão",start:new Date(e.year,6,21),end:new Date(e.year,7,22)},virgem:{name:"Virgem",start:new Date(e.year,7,23),end:new Date(e.year,8,22)},balanca:{name:"Balança",start:new Date(e.year,8,23),end:new Date(e.year,9,22)},escorpiao:{name:"Escorpião",start:new Date(e.year,9,23),end:new Date(e.year,10,21)},sagitario:{name:"Sagitário",start:new Date(e.year,10,22),end:new Date(e.year,11,21)},capricornio:{name:"Capricórnio",start:new Date(e.year-(0===e.month|0),11,22),end:new Date(e.year+(0!==e.month|0),0,20)},aquario:{name:"Aquário",start:new Date(e.year,0,21),end:new Date(e.year,1,19)},peixes:{name:"Peixes",start:new Date(e.year,1,20),end:new Date(e.year,2,20)}};if(!e.params.sign){var i=new Date(e.year,e.month,e.today.getDate());for(var j in h)i<=h[j].end&&i>=h[j].start&&(e.params.sign=j)}return d(e.name,e.params,function(d,f){function g(a){var b=a.split(" - ");return b&&b[1]&&b[1].length>8&&(a=b[1].slice(0,-8)),c.get(e.weekDay,e.now)+", "+a}function i(){var a="",b=h[f.sign];if(b){var d=c.get(e.date,b.start);if(d){var g=c.get(e.date,b.end);g&&(a=d+" a "+g)}}return a}function j(a,c){return b.each(c,function(b){a=a.replace("{{"+b+"}}",f[b]||"")}),a}function k(a){a&&(d.getView("sign").setContent(h[f.sign].name),d.getView("prediction").setContent(a.description),d.getView("day").setContent(g(a.title)),d.getView("period").setContent(i(d)),d.getView("astrologer-name").setLink(j(e.link,["astrologer","sign"])),d.getView("icon").getElement(function(a){a.setAttribute("class","icon "+f.sign)}))}function l(b){d.setLoading(),new a(e.api,{onSuccess:function(a){a&&a.rss&&a.rss.channel&&a.rss.channel.item&&a.rss.channel.item.description?(k(a.rss.channel.item),d.setLoading(!1)):b?d.setLoading(!1):l(!0)},onFailure:function(a){console.error("Widgets.Horoscope",a),b?d.setLoading(!1):l(!0)},params:{astrologer:f.astrologer||"",period:(b?"semanal":f.period)||"diaria",sign:f.sign||""}})}function m(){d.getView("icon",function(a){a.style.backgroundImage=e.image});var a=d.getView("signs");a&&(a.setValue(f.sign),a.onChange(function(a){f.sign=a,a?localStorage.setItem(e.cookie,JSON.stringify(a)):localStorage.removeItem(e.cookie),l()})),d.getView("astrologer-name").setContent(f["astrologer-name"]),l()}d.init=m}),{}}),Ink.requireModules(["SAPO.Widgets.Horoscope_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),
window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Horoscope=a}),Ink.createModule("SAPO.Widgets.LiveMatches",1,["Ink.Net.JsonP_1","Ink.Util.Array_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c,d){"use strict";function e(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}function f(a){var b=a.split(/\D/);return b[1]-=1,b=new Date(Date.UTC.apply(null,b)),e(b.getHours(),2)+":"+e(b.getMinutes(),2)}function g(a){var b="";return b+=a.Minute+"'",a.MinuteExtra&&(b+=" +"+a.MinuteExtra),b+=" - "+a.Text}function h(a){if(a.Match&&a.Match.Status)switch(a.Match.Status.Id){case 3:return f(a.Match.DateTime);case 2:return a.LastOccurrence?g(a.LastOccurrence)||"":a.Match.Status.Name;default:return a.Match.Status.Name}return""}var i={pLiga:[48122,44981],name:"livematches",api:{games:"https://services.sapo.pt/Sport/Statistics/soccer/widgets/homepage/matches",match:"//desporto.sapo.{{lang}}/futebol/jogo/{{id}}",video:"https://desporto.sapo.pt/video/"},pub:{link:"https://secure.adnxs.com/clktrb?id={{sponsor}}",image:"https://secure.adnxs.com/imptr?id={{sponsor}}&t={{timestamp}}"},sponsors:{placard:{clktrb:768986,imptr:52237},aposta:{clktrb:768986,imptr:52236},betclic:{clktrb:768986,imptr:52236}},params:{sport:"soccer",ESBToken:"01.DHOjhX0pwsHcljou-NJbeg"},kpi:"ticker-futebol_",error:"Ocorreu um erro. Tente novamente mais tarde.",videos:4,description:65,timer:15e3};return d(i.name,function(d,e){function f(b,c){new a(i.api.games,{onSuccess:function(a){u.games=a,u.total=u.games.length,g(c?u.game:0,c),!c&&d.setLoading(!1),window.linksEuro24&&window.linksEuro24()},onFailure:function(a){console.error("Widgets.LiveMatches",a),!c&&d.setLoading(!1)},params:{ids:b,sport:"soccer",ESBToken:"01.DHOjhX0pwsHcljou-NJbeg"}})}function g(a,c){u.game=a,j(),m();var e=u.games[u.game];u.pages=e.Videos?Math.ceil(e.Videos.length/i.videos):0,q();var f=i.api.match.replace("{{id}}",e.Match.Id);f&&(b.each(d.getViews("link"),function(a){a.setLink(f)}),d.getView("video-link").setLink(f+"#videos")),d.getView("odd-match-id",function(a){if(a.setAttribute("data-match-odds-match-id",e.Match.Id),e.Match.DateTime){var b=new Date(e.Match.DateTime);b&&(a.setAttribute("data-match-start",b.getTime()),window.SAPO&&window.SAPO.Bets&&window.SAPO.Bets.reload(),window.linksEuro24&&window.linksEuro24())}}),!c&&window.SAPO&&window.SAPO.Bets&&window.SAPO.Bets.reload(),window.linksEuro24&&window.linksEuro24(),d.getView("last-occurrence").setContent(h(e)),d.getView("competition",function(a){a.setAttribute("data-id",e.Match.Id),a.setAttribute("data-competition",e.Competition.Id)}),d.getRootElement(function(a){if(a){var b=a.querySelector('img.logo[alt="betclic.pt"]');if(b){var c=i.pLiga.indexOf(e.Competition.Id)>-1;c||(c="Primeira Liga"==e.Competition.Name),b.setAttribute("src","/assets/img/logo-betclic"+(c?"-liga23.jpg":".png"))}}}),d.getView("league").setContent(e.Competition.Name||""),d.getView("subtitle").setContent(e.Competition.Round&&e.Competition.Round.Name?e.Competition.Round.Name:"")}function j(){}function k(a,b){d.getView(a+"-team-score").setContent(b)}function l(a,b){if(a&&b){d.getView(a+"-team-name").setContent(b.Name),d.getView(a+"-team-short-name").setContent(b.Initials);var c=d.getView(a+"-team-logo");c&&(c.setTitle(b.Name),c.setSource(b.EmblemUri))}}function m(){var a=u.games[u.game];l("home",a.Match.HomeTeam),k("home",c.isset(a.Match.HomeTeamScore)?a.Match.HomeTeamScore:"-"),l("away",a.Match.AwayTeam),k("away",c.isset(a.Match.AwayTeamScore)?a.Match.AwayTeamScore:"-")}function n(a,b){if(a){var c=i.sponsors[a];c&&(d.getView(a+"-link").setLink(i.pub.link.replace("{{sponsor}}",c.clktrb)),d.getView(a+"-image").setSource(i.pub.image.replace("{{sponsor}}",c.imptr).replace("{{timestamp}}",b)))}}function o(){var a=(new Date).getTime();n("betclic",a)}function p(a,b){if(a){var c=a.getElement();c&&(b?c.removeAttribute("disabled"):c.setAttribute("disabled","true"))}}function q(){p(v.prevGame,u.game),p(v.nextGame,u.game!=u.total-1),v.page.setContent(u.page+1),v.pages.setContent(u.pages)}function r(){v.prevGame.onClick(function(){u.game&&g(u.game-1),q()}),v.nextGame.onClick(function(){u.game<u.total-1&&g(u.game+1),q()})}function s(){if(r(),e&&e.ids){var a=e.ids.replace(/ /g,",");f(a),t=setInterval(function(){f(a,!0)},i.timer),o(),d.setLoading(!1)}}i.api.match=i.api.match.replace("{{lang}}",e.lang);var t,u={games:[],page:0,game:0},v={prevGame:d.getView("prev-game"),nextGame:d.getView("next-game"),page:d.getView("page"),pages:d.getView("pages")};d.init=s}),{}}),Ink.requireModules(["SAPO.Widgets.LiveMatches_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.LiveMatches=a}),Ink.createModule("SAPO.Widgets.TAP",1,["Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Net.Ajax_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){l.airports&&l.airports.length&&!b?a&&a():new c(b?l.api.destinations+"/"+b:l.api.origins,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(b){a&&a(b?b.responseJSON||[]:[])},onFailure:function(a){console.error("Widgets.TAP",a)}})}function i(a,b,c){if(a&&b)return a=parseInt(a.replace(/-/g,"")),b=parseInt(b.replace(/-/g,"")),c?a>=b:a>b}function j(a){var b=[];if(a&&10==a.length)for(var c=a.split("-"),d=c.length-1;d>=0;d--)b.push(c[d]);return b.join(".")}function k(a){var b=[];return d.each(l.result,function(c){b.push(f.includes(c,"Date")?j(a[c]):a[c])}),b.join("_")}var l={name:"tap",dates:{format:"Y-m-d",today:new Date},magicWord:"tap1945",requiredFields:{single:["origin","depDate","destination"],"return":["origin","depDate","destination","retDate"]},api:{submit:"https://book.flytap.com/r3air/tap/DeepLink.aspx",origins:"https://www.sapo.pt/services/tap/v1/airports",destinations:"https://www.sapo.pt/services/tap/v1/airport",hash:"/api/service/tap/"},params:{market:"PT",adt:1,chd:0,inf:0,depTime:0,retTime:0,language:"pt",searchType:"fixed",anetwork:"DISPLAY",utm_source:"sapo.pt",utm_medium:"display",utm_content:"widgetvida",utm_campaign:"DISPLAYAO",flightType:"return"},result:["origin","destination","depDate","retDate","adt","chd","inf"],alias:{value:"code",name:"title"},timers:{error:5e3,fade:2e3},errors:{EMPTY:"Este campo não pode ficar em branco"}};return l.dates.min=e.get(l.dates.format),l.dates.max=e.get(l.dates.format,new Date(l.dates.today.getFullYear()+1,l.dates.today.getMonth(),l.dates.today.getDate())),g(l.name,l.params,function(e,g){function m(){var a=!0,b=Ink.ss("input[required]",e);return b&&d.each(b,function(b){b.value||(a=!1),b&&b.setCustomValidity(b.value?"":l.errors.EMPTY)}),a}function n(){h(function(a){a&&(l.airports=a);var b=e.getView("departure-airports");b&&b.setDatalist(l.airports,null,l.alias),e.setLoading(!1)})}function o(a){v=[],h(function(a){p(a?a.destinations||[]:[]),e.setLoading(!1)},a)}function p(a){v=[],a&&a.length&&l.airports&&d.each(l.airports,function(b){f.includes(a,b.code)&&v.push(b)});var b=e.getView("destination-airports");b&&b.setDatalist(v,null,l.alias)}function q(a,b){g[a+"Date"]=b,e.getView(a+"Date").setValue(b)}function r(a,b){var c=e.getView(a+"Date");c&&(c.getElement(function(a){a.setAttribute("min",l.dates.min),a.setAttribute("max",l.dates.max)}),c.onChange(function(c){q(a,c),b&&b(c)}))}function s(b){g.flightType=b;var c="single"==b;e.getView("retDate",function(b){a.setClassName(b,"hide-all",c),c?b.removeAttribute("required"):b.setAttribute("required","required")}),e.getViews("airport",function(b){a.setClassName(b,"large-30",c),a.setClassName(b,"xlarge-30",c),a.setClassName(b,"large-20",!c),a.setClassName(b,"xlarge-20",!c)}),c?g.retDate="":g.depDate&&q("ret",g.depDate),m()}function t(){var a=e.getView("round");a&&a.onChange(s);var d=e.getView("single");d&&d.onChange(s);var h=e.getView("origin"),n=e.getView("destination",function(a){b.on(a,"focus",function(){!g.origin&&setTimeout(function(){h.getElement(function(a){a.focus()})},1)})});h&&h.onSelect(function(a){m(),g.origin=a,o(a),n&&n.setValue(),delete g.destination}),n&&n.onSelect(function(a){m(),g.destination=a}),r("dep",function(a){e.getView("depDate",function(b){var c=b.getAttribute("max");(!g.retDate||i(a,c))&&q("ret",a)}),e.getView("retDate",function(b){b.setAttribute("min",a)}),m()}),r("ret",function(a){e.getView("retDate",function(b){var c=b.getAttribute("min");(!g.depDate||!i(a,c,!0))&&q("dep",a)}),e.getView("depDate",function(b){b.setAttribute("max",a)}),m()});var p=e.getView("search");p&&p.onClick(function(){e.getView("form",function(a){if(m()){a.reportValidity();var b=l.api.hash+k(g);console.log(g,b),new c(b,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){var b=a?a.responseText:"";if(b){var c=[];for(var d in g)!("retDate"==d&&"single"==g.flightType)&&c.push(d+"="+(f.includes(d,"Date")?j(g[d]):g[d]));window.location=l.api.submit+"?"+c.join("&")}},onFailure:function(a){console.error("Widgets.TAP",a)}})}})})}function u(){t(),n(),m()}var v=[];u()}),{}}),Ink.requireModules(["SAPO.Widgets.TAP_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.TAP=a}),Ink.createModule("SAPO.Widgets.Videos",1,["Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Util.Array_1","Ink.Util.Cookie_1","SAPO.Utils_1","SAPO.VideoPlayer_1","SAPO.Widget_1"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c){return(b?"[":"")+(c?k.selectors.video.replace("-","-vhs-"):k.selectors.video)+"-"+a+(b?'="'+b+'"':"")+(b?"]":"")}function j(a,b){var c=a.getAttribute(i(b));return c||(c=a.getAttribute(i(b,null,!0))),c}var k={name:"videos",debug:!1,view:"data-widget-view",share:"https://www.sapo.pt/video/",params:{autoplay:!0},timers:{countdown:5,delay:1e3},selectors:{video:"data-video",randname:"randname",share:"data-social-share-link"},styles:{playing:"playing",next:"next",countdown:"block-daily-videos--counting-down",selected:"pre-selected"},cookie:"_shp_videos_autoplay",details:["title","duration","partner","randname","sponsor"],instances:0};return h(k.name,k.params,function(f,h){function l(){a.addClassName(f,k.styles.countdown);var b=k.timers.countdown;F&&(E.delay=setInterval(function(){b--,F.setContent(b),b||(m(),h.next&&q(h.next))},k.timers.delay))}function m(){E.delay&&clearInterval(E.delay),a.removeClassName(f,k.styles.countdown),F&&F.setContent(k.timers.countdown)}function n(){h&&d.each(k.details,function(a){var b=f.getView(a);b&&b.setContent(h.playing&&D[h.playing]?D[h.playing][a]||"":"")}),h&&d.each(k.details,function(a){var b=f.getView("countdown-"+a);b&&b.setContent(h.next&&D[h.next]?D[h.next][a]||"":"")})}function o(b,c){if(h[b]){var d=Ink.s(i("randname",h[b]),f);d&&a.setClassName(d,k.styles[b],c)}}function p(){g.pause(h.name),o("playing",!0),o("next",h.autoplay)}function q(b){o("playing",!1),o("next",!1),h.playing=b;var c=!1;h.next="";for(var d in D){if(c){h.next=d;break}c=b==d}n(),t(b),p();var e=Ink.s("."+k.styles.selected,f);e&&a.removeClassName(e,k.styles.selected)}function r(a){if(a){var b=f.hasAttribute(k.selectors.share)?f:Ink.s("["+k.selectors.share+"]",f);b&&b.setAttribute(k.selectors.share,k.share+a)}}function s(){return h&&B.randname==B.getVideoRandname()&&!B.isPlaying()&&B.getCurrentRequestURL()==B.getVideoUrl()}function t(a){r(a),f.getView("player",function(c){c&&a&&(B&&B.randname==a?B.setCurrentTime(0):g.play(h.name,a,c,function(a){B=a},{ready:function(){if(E.ready&&clearInterval(E.ready),s()&&g.autoplay){try{B&&B.play&&B.play()}catch(a){k.debug&&console.error(a)}p(),E.ready=setTimeout(function(){C=!0},0)}},play:function(){C=!0,h&&g.pause(h.name)},adPlay:function(){C=!0,h&&g.pause(h.name)},playProgress:function(){C=!0},adPlayProgress:function(){C=!0},adTime:function(){C=!0},time:function(){C=!0},ended:function(){C=!0,h&&c&&h.next&&h.autoplay&&b.inViewport(c)&&l()}}))})}function u(a){var b=j(a,"randname");b&&(D[b]={},d.forEach(k.details,function(c){D[b][c]=j(a,c)}))}function v(){var a=f.getView("initial");a&&a.getElement(function(b){var c=j(b,"randname");r(c),a.onClick(function(){C=!1,c&&q(c)})})}function w(a){if(a){u(a);var b=j(a,"randname");c.on(a,"click",function(a){c.stopDefault(event),C&&(b&&q(b),C=!1)})}}function x(){var a=f.getView("countdown-next");a&&a.onClick(function(){m(),h.next&&q(h.next)});var b=f.getView("countdown-cancel");b&&b.onClick(m)}function y(b,c){h.autoplay=c,a.setClassName(b,"on",h.autoplay),e.set(k.cookie,h.autoplay+"")}function z(){var a=f.getView("autoplay",function(a){y(a,!e.get(k.cookie)||"true"==e.get(k.cookie))});a&&a.onClick(function(a){y(a,!h.autoplay)}),f.getView("list",function(a){var b=Ink.ss("a",a);b&&d.each(b,w)}),v(),x()}function A(){h.name="videos-"+k.instances,k.instances++,z(),f.setLoading(!1)}var B,C=!0,D={},E={},F=f.getView("countdown-timer");f.init=A}),{}}),Ink.requireModules(["SAPO.Widgets.Videos_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Videos=a}),Ink.createModule("SAPO.Widgets.Weather",1,["Ink.Net.Ajax_1","Ink.Util.Array_1","Ink.Util.Cookie_1","SAPO.Utils_1","SAPO.Widget_1"],function(a,b,c,d,e){"use strict";function f(a){i.locations?a():h(i.api.locations,function(b){i.locations=b.map(function(a){return{value:a.globalIdLocal,name:a.local}}).sort(function(a,b){return d.slugify(a.name)>d.slugify(b.name)?1:d.slugify(a.name)<d.slugify(b.name)?-1:0}),a()})}function g(){!i.descriptions&&h(i.api.weathertypes,function(a){i.descriptions={},b.each(a,function(a){i.descriptions[a.idTipoTempo]=a.descTipoTempoPT})})}function h(b,c,d){new a(i.api.base+b,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(a){c(a.responseJSON)},onFailure:function(a){console.error("Widgets.Weather",a),d()},requestHeaders:{Accept:"application/json, text/plain, */*"}})}var i={name:"weather",cookie:"_shp_weather_2020",api:{link:"https://tempo.sapo.pt/",base:"https://tempo.sapo.pt/api/",location:"location/",locations:"location/locations/all",weathertypes:"weathertypes"},params:{city:1110600,title:"Lisboa"},labels:{now:"Agora",today:"Hoje",tomorrow:"Amanhã","in":"O Tempo em ",weekdays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},icons:{path:"/assets/img/widgets/map/{{name}}.svg",night:"_night",map:{1:"ceulimpo",2:"ceupouconublado",3:"ceupouconublado",4:"ceumuitonublado",5:"ceunubladopornuvensaltas",6:"aguaceiros",7:"aguaceirosfracos",8:"aguaceirosfortes",9:"chuva",10:"chuvafraca",11:"chuvaforte",12:"periodosdechuva",13:"periodosdechuvafraca",14:"periodosdechuvaforte",15:"chuvisco",16:"neblina",17:"nevoeiro",18:"neve",19:"trovoada",20:"trovoadaeaguaceiros",21:"granizo",22:"geada",23:"trovoadaeaguaceiros",24:"periodosdeceumuitonublado",25:"ceunubladopornuvensaltas",26:"nevoeiro",27:"periodosdeceumuitonublado"}},error:"Ocorreu um erro. Tente novamente mais tarde."};return e(i.name,i.params,function(a,b){function d(){a.getView("cities").setDatalist(i.locations)}function e(b,c){var d=a.getView(b+"-image");if(d){var e=i.icons.path.replace("{{name}}",i.icons.map[c]);d.setSource(e),i.descriptions&&d.setTitle(i.descriptions[c]||"")}}function j(c){c&&(a.getView("current").setContent(Math.round(c.tMed)),a.getView("today-min").setContent(Math.round(c.tMin)),a.getView("today-max").setContent(Math.round(c.tMax)),a.getView("today-link").setLink(i.api.link+(b.title||"")),e("today",c.idTipoTempo))}function k(c){c&&(a.getView("tomorrow-min").setContent(Math.round(c.tMin)),a.getView("tomorrow-max").setContent(Math.round(c.tMax)),a.getView("tomorrow-link").setLink(i.api.link+(b.title||"")),e("tomorrow",c.idTipoTempo))}function l(a,c,d){a&&(c&&(b={city:c,title:d||"",currentForecast:a.currentForecast,tenDaysForecast:[a.tenDaysForecast[0]]},localStorage.setItem(i.cookie,JSON.stringify(b))),j(a.currentForecast),k(a.tenDaysForecast[0]))}function m(c,d){c||(c=b.city),a.getView("default-city",function(a){c=a.getAttribute("data-city-code")||c}),a.setLoading(),h(i.api.location+c,function(b){l(b,c,d),a.setLoading(!1)},function(){a.setLoading(!1)})}function n(){d();var b=a.getView("city");b&&b.onSelect(function(a,b){b&&m(a,b)})}function o(){c.remove(i.cookie);var d=localStorage.getItem(i.cookie);if(d)try{b=JSON.parse(d),l(b)}catch(e){}a.getView("city").setValue(b.title),f(n),g(),m()}a.init=o}),{}}),Ink.requireModules(["SAPO.Widgets.Weather_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Weather=a}),Ink.createModule("SAPO.Widgets.ListMatches",1,["Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Util.Array_1"],function(a,b,c){"use strict";function d(){var b=Ink.ss(e.widgets);b&&b.length&&c.forEach(b,function(b){var d,f=Ink.s(e.ctn,b);if(f&&(c.forEach(Ink.ss(e.lstMatches,b),function(b){a.hasClassName(b,e.lastMatch)&&(d=b)}),d)){var g=d.parentElement;g&&f.scrollTo({top:g.offsetTop,behavior:"smooth"})}})}var e={widgets:".widget-sports-calendar",ctn:".matches-wrap",lstMatches:".match-list li [data-match-id]",lastMatch:"status-id--1"};return{init:d}}),Ink.requireModules(["SAPO.Widgets.ListMatches_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.ListMatches=a,setTimeout(window.SAPO.Widgets.ListMatches.init,1500)}),Ink.createModule("SAPO.PhotoCarrocel",1,["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","SAPO.Utils_1","Ink.UI.Carousel_1","Ink.UI.Toggle_1","Ink.Dom.Loaded_1"],function(a,b,c,d,e,f,g,h){"use strict";function i(){h.run(function(){j(),k()})}function j(){var b=Ink.ss(u.selectors.inkCarouselInline);0!=b.length&&a.forEach(b,function(a){new f("#"+a.id,{onChange:function(a){var b=this.getSlidesList();d.removeClassName(Ink.s(".active",this.getStageElm()),"active"),d.addClassName(b[a],"active"),setTimeout(function(){SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()},200)}})})}function k(){q=Ink.i(u.selectors.thumbsMainCarouselId),q&&(console.log("MAIN PhotoCarrocel"),r=Ink.s(u.selectors.bgImageCtn),s=c.elementWidth(Ink.s("li",q)),o=new f("#"+u.selectors.mainCarouselId,{pagination:"#"+u.selectors.paginationMainCarouselId,onChange:l}),p=new f("#"+u.selectors.thumbsMainCarouselId,{}),t=o.getSlidesList(),b.observe(p.getStageElm(),"click",function(a){b.stopDefault(a);var d=p.getSlidesList(),e=b.element(a),f=c.findUpwardsByClass(e,"slide");if(f)for(var g=0,h=d.length;g<h;g++)if(d[g]===f)return o.setPage(g),m(g),void setTimeout(function(){SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()},300)}))}function l(a){if(o&&p){for(var b=p.getSlidesList(),c=0,e=b.length;c<e;c++)d.removeClassName(b[c],"active");SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh(),d.addClassName(b[a],"active"),m(a);var f=Ink.s("[data-background-image]",t[a]);n(f.getAttribute("data-background-image"))}}function m(a){var b=-s*a;q.style.transform="translate3d("+b+"px, 0px, 0)"}function n(a){r.style.backgroundImage="url("+a+")"}var o,p,q,r,s,t,u={selectors:{inkCarouselInline:".ink-carousel[data-ink-carousel-mod]",mainCarouselId:"main-carousel",thumbsMainCarouselId:"thumbs-main-carousel",paginationMainCarouselId:"pagination-main-carousel",bgImageCtn:"[data-background-image-ctn]"}};return{init:i}}),Ink.requireModules(["SAPO.PhotoCarrocel_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.PhotoCarrocel=a,SAPO.PhotoCarrocel.init()}),Ink.createModule("SAPO.Qz","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Dom.Css_1","Ink.Util.Array_1"],function(a,b,c,d,e,f){"use strict";var g=window.requestAnimationFrame||function(a){return setTimeout(a,10)},h=window.cancelAnimationFrame||function(a){clearTimeout(a)},i=!1,j=5e3,k=function(){i=!0},l=setTimeout(k,j),m=!1,n=640,o={_w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,menuSelector:"[data-qz-menu] a",sectionAnchorSelector:"[data-qz-anchor]",activeMenuClass:"current",activeSectionClass:"active-section",speed:10,changeHash:!0,margin:0,isMobile:!1,sectionPointers:null,sectionPointersParent:null,scroll:function(a,b){var d=Math.round(c.scrollHeight()),e=Math.round(a-(b.margin||0));d+=e>d?Math.ceil((e-d)/b.speed):(e-d)/b.speed,h(o.interval),d!==e&&o.offsetTop!==d?o.interval=g(Ink.bindMethod(o,"scroll",a,b),document.body):o.onDone(),window.scrollTo(0,d),o.offsetTop=d},onSroll:function(){if(!m){const a=Math.max(document.documentElement.clientHeight,window.innerHeight||0)/3;var b=[],d=[];f.forEach(Ink.ss(o.sectionAnchorSelector),function(a){var e=c.findUpwardsBySelector(a,"section.block:not(.mobile-ad)")||c.findUpwardsBySelector(a,"section");d.push(e),c.inViewport(e,{partial:!0})&&b.push(e)});var g=null;if(b.length<=1?g=b[0]:f.forEach(b,function(b){(null==g||b.getBoundingClientRect().top<a&&g.getBoundingClientRect().top<b.getBoundingClientRect().top)&&(g=b)}),f.forEach(d,function(a){e.hasClassName(a,"active-section")&&a!==g&&e.removeClassName(a,o.activeSectionClass)}),g){if(e.hasClassName(g,o.activeSectionClass))return;e.addClassName(g,o.activeSectionClass),o.onDone();var h=Ink.s(o.sectionAnchorSelector,g).id,i=c.findUpwardsBySelector(Ink.s(o.menuSelector),"ul"),j=Ink.s("li."+o.activeMenuClass,i);e.removeClassName(j,o.activeMenuClass);var k=!1;f.forEach(Ink.ss(o.menuSelector),function(a){if(a.getAttribute("data-qz-section-pointer")===h){k=!0;var b=c.findUpwardsBySelector(a,"li");e.hasClassName(b,o.activeMenuClass)||e.addClassName(b,o.activeMenuClass)}}),k||e.addClassName(j,o.activeMenuClass),o.menuMobile()}}},menuMobile:function(){if(o.isMobile){var a=Ink.s("ul",o.sectionPointers),b=Ink.s(".current",a);if(b){b.getBoundingClientRect();a.scrollTo(b.offsetLeft,window.scrollY)}}},checkMobile:function(){o._w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o._w<=n?(o.isMobile=!0,o.sectionPointers.parentNode!==Ink.s(".qz")&&c.insertTop(o.sectionPointers,Ink.s(".qz"))):(o.isMobile=!1,o.sectionPointers.parentNode!==o.sectionPointersParent&&c.insertTop(o.sectionPointers,o.sectionPointersParent))},init:function(){o.sectionPointers=Ink.s(".section-pointers"),o.sectionPointers&&(o.sectionPointersParent=o.sectionPointers.parentNode,o.checkMobile(),b.observe(window,"resize",b.throttle(o.checkMobile,700)),o.onSroll(),b.on(document,"click",o.menuSelector,o.onClick),b.observe(window,"scroll",b.throttle(o.onSroll,700)))},onClick:function(b){m=!0;var d=b.currentTarget,f=(location+"").replace(/#.*?$/,""),g=(d.href+"").replace(/#.*?$/,"");if(g===f){var h=d.getAttribute("data-hash")||(d.getAttribute("href")||"").replace(/^.*?#/,"");if(h){b.preventDefault();var i='a[name="'+h+'"],#'+h,j=Ink.s(i),k=c.findUpwardsBySelector(d,"ul");if(k){var l=Ink.s("li."+o.activeMenuClass,k);e.removeClassName(l,o.activeMenuClass)}if(j){d.parentNode&&"li"===d.parentNode.tagName.toLowerCase()&&e.addClassName(d.parentNode,o.activeMenuClass);var n=a.options("Qz link options",{margin:["Number",o.margin],speed:["Number",o.speed],changeHash:["Boolean",o.changeHash]},{},d);o.hash=h,o.scroll(c.offsetTop(j),n)}}}},onDone:function(){m=!1,i&&!o.isMobile&&(console.log("RELOAD PUB"),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]'),i=!1,l=setTimeout(k,j))}};return o}),Ink.requireModules(["SAPO.Qz_1"],function(a){"use strict";window.Qz=a,a.init()}),Ink.requireModules(["Ink.Dom.Event_1","SAPO.Utils_1"],function(a,b){"use strict";!function(){function c(a){var b=a?f.page+1:f.page-1;a||b!=-1||(b=f.routes.length-1),f.routes.length==b&&(b=0);var c=f.routes[b];c&&window.location.assign(c)}function d(a){if(!b.isPlaying()){var d=a.which||a.keyCode;"INPUT"!==a.target.tagName&&(37===d&&c(!1),39===d&&c(!0))}}function e(){window.menuTabs&&(f.routes=window.menuTabs,f.page=f.routes.indexOf(window.location.pathname),f.page>=0&&a.on(window,"keyup",d))}var f={path:"/noticias/",routes:[]};e()}()}),Ink.requireModules(["Ink.Dom.Event_1","Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Css","Ink.Util.Cookie_1"],function(a,b,c,d,e){"use strict";!function(){function f(a){var d=[];b.forEach(a.children,function(a,e,f){e>0&&"P"===a.nodeName&&b.inArray(f[e+1],f)&&"P"===f[e+1].nodeName&&(a.style.overflow="hidden",c.elementWidth(a)>300&&d.push(e),a.style.overflow="")});var e=Math.floor(Math.random()*d.length);return{total:d.length,pos:e,validPos:d[e]}}function g(a,c){b.forEach(Ink.ss("[data-trackerlink]",a),function(a){a.setAttribute("data-trackerlink",a.getAttribute("data-trackerlink")+"__"+c.pos+"_"+c.total)})}var h=Ink.i("features-promotion");if(h){var i=Ink.s(".article-body .content");if(i)if(d.hasClassName(i,"paginated"))b.forEach(Ink.ss(".article-body .page"),function(a,b){Ink.ss("p",a);if(d.hasClassName(a,"page--1")){var e=f(a);g(h,e),c.insertAfter(h,a.children[e.validPos])}});else{var j=f(i);g(h,j),c.insertAfter(h,i.children[j.validPos])}var k=!1,l=Ink.ss("[data-promotion]");l=b.shuffle(l),b.forEach(l,function(b,c,f){var g="promotion-"+b.getAttribute("data-promotion-name");if("promotion-notifications"==g){var i=e.get("have-notifications-"+h.getAttribute("data-promotion-domain"));i&&d.hide(b)}a.observe(Ink.s("[data-promotion-dismiss]",b),"click",function(a){e.set(g,"hide",parseInt(this.getAttribute("data-promotion-dismiss-ttl"))),d.hide(b)}),a.observe(Ink.s("[data-promotion-stop]",b),"click",function(a){e.set(g,"hide",parseInt(this.getAttribute("data-promotion-stop-ttl"))),d.hide(b)}),k||e.get(g)||(d.removeClassName(b,"hide-all"),k=!0)});var m=Ink.s(".tap-widget-inline");if(void 0!==m&&null!==m){m.parentNode.removeChild(m);var n=Ink.s(".article-image");n||(n=Ink.s(".article-embed-video")),n&&n.insertAdjacentElement("afterend",m)}}}()}),Ink.createModule("SAPO.AutoReload",1,["Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Net.Ajax_1","SAPO.Utils_1"],function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){q.debug&&f.log("AutoReload",a,b,c,d,e)}function h(){g("track",r.timeout),f.trackGTMPageView(),f.trackGTMEvent("RELOAD","reload-"+r.timeout+"ms",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')}function i(){r.timeout=r.element?parseInt(r.element.getAttribute(q.selectors.time))||q.timer:q.timer,q.debug&&(r.timeout=q["debugger"]),r.interval&&clearInterval(r.interval),r.interval=window.setInterval(o,r.timeout)}function j(){return window.AmpStory&&window.AmpStory.status}function k(){return window.SAPO&&window.SAPO.Widgets&&window.SAPO.Widgets.VHS&&window.SAPO.Widgets.VHS.isOpen&&window.SAPO.Widgets.VHS.isOpen()}function l(){return window.$sapo&&window.$sapo.win&&window.$sapo.win.active}function m(){return!!window.Notifications&&Notifications.status}function n(){var b=Ink.ss("audio");if(b&&b.length){var c;return a.each(b,function(a){if(!a._parsed){a._parsed=!0,d.on(a,"play",function(){a._playing=!0});var b=function(){a._playing=!1};d.on(a,"pause",b),d.on(a,"stop",b)}a._playing&&(c=!0)}),c}}function o(){var a=Ink.s(q.selectors.updated);if(g("pageUpdated",a),g("reloader page",r.page),f.isPlaying()||k()||j()||l()||n()||m()||window.preventAutoRefresh)h();else if(a&&r.page){var c=a.getAttribute("content");c&&new e(q.api+r.page,{method:"GET",onSuccess:function(a){g(a),!a.responseJSON||a.responseJSON.update_date==c||b.hasClassName(Ink.i("video-hub-sapo"),"video-hub-sapo--show")||Ink.ss(".view-more").length?h():location.reload()},onFailure:function(){location.reload()}})}else h()}function p(){if((Ink.s("body["+q.selectors.reload+"]")||Ink.s("body["+q.selectors.auto+"]"))&&(r.element=Ink.s("body["+q.selectors.time+"]"),g("reloader element",r.element),r.element)){if(Ink.s(q.selectors.blockpage)){var a=Ink.s(q.selectors.blockpage).className;if(""!==a)for(var b=a.split(" "),c=0;c<b.length;c++)if(!b[c].indexOf(q.blockpage)){r.page=b[c].replace(q.blockpage,"");break}}i()}}var q={debug:!1,"debugger":5e3,timer:3e5,selectors:{time:"data-auto-reload-time",reload:"data-auto-reload",auto:"data-hp-auto-reload",blockpage:'body[class*="body-blockpage-"]',updated:'[property="og:updated_time"]'},blockpage:"body-blockpage-",api:"/api/service/update_date/"},r={};return p(),{debug:function(){q.debug=!q.debug,i(),console.log("AutoReload DEBUG => "+q.debug,r.timeout)}}}),Ink.requireModules(["SAPO.AutoReload_1"],function(a){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.AutoReload=a}),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Element_1"],function(a,b,c){"use strict";!function(){function d(){Ink.ss("[data-pub]");a.forEach(Ink.ss("[data-pub]"),function(a){var b=a.getAttribute("data-pub-formatid");a.style.minHeight="30px",a.style.backgroundColor="#ff00ec";c.create("span",{className:"pubFormat",setTextContent:b,insertBottom:a})})}window.debugPub=d;var e=1500,f=5,g=Ink.ss(".article-body .content > p"),h=Ink.s(".article-body .article-inline-ads-2020"),i=0;h&&g&&g.length>f&&a.forEach(g,function(a,d){if(i+=a.textContent.length,i>=e){var f=h.cloneNode(!0);f.setAttribute("data-pub-num-chars",i),c.insertAfter(f,a),b.removeClassName(f,"hide-all"),i=0}})}()}),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Url_1","SAPO.Utils_1","Ink.UI.DatePicker_1","Ink.Util.Date_1","Ink.UI.Modal_1","Ink.Dom.Loaded_1","Ink.Util.Cookie_1","Ink.UI.Carousel_1","Ink.UI.Tabs_1"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";function n(){j.run(function(){var a=e.getUrl();if(Ink.s("[data-snl-button]")&&e.getAnchor(a)){var d=e.getAnchor(a);if("subscrever-newsletter"==d)var f=setInterval(function(){SAPO&&SAPO.NEWSLETTERS&&(clearInterval(f),SAPO.NEWSLETTERS.open())},1e3)}var g=Ink.s("#modal-notifications");if(g){var h=i.getInstance(g);if(e.getAnchor(a)){var d=e.getAnchor(a);"subscrever-notificacoes"==d&&g&&(h._options.onDismiss=function(){window.location.hash=""},h.open())}}b.observe(Ink.s(".team-newsletter"),"click",function(a){var b=Ink.s(".team-newsletter").getAttribute("data-team-id"),c=Ink.s('#modal-newsletter select[name="id"]');c.value=b}),function(){var a=Ink.s(".newsletter-modal-trigger");if(a){var b="newsletter-triggered",d="true"===k.get(b);if(!d){var e=c.data(a);if(e){var f="newsletter-pageviews",g=parseFloat(e.promotionPageviews||0),h=parseFloat(e.promotionExpire||0);if(g&&h){var i=k.get(f)||0;i=isNaN(i)?0:parseFloat(i),i+=1,k.set(f,i,h),i>=g&&(a.click(),k.remove(f),k.set(b,"true",h))}}}}}()})}function o(){var b=SAPO.ColorScheme.getUserPreference()||"auto";a.forEach(y,function(c){a.forEach(Ink.ss("[data-color-scheme]",c),function(a){var e=c.getAttribute("data-color-scheme-selected-class")||"active";a.getAttribute("data-color-scheme")===b?d.addClassName(a,e):d.removeClassName(a,e)}),a.forEach(Ink.ss("[data-color-scheme-saved-watts]",c),function(a){a.innerHTML=SAPO.ColorScheme.countSavedWatts()})});var c="auto"===b?SAPO.ColorScheme.getAutoColor():b,e="dark"==c;t(e),u(c,SAPO.ColorScheme.getAutoColor()),s(e),p(e),q(e)}function p(b){var c=Ink.ss("[sapo-widget]");c&&c.length&&a.each(c,function(a){d.setClassName(a,"dark",b)})}function q(a){window._$sapo||(window._$sapo={}),window._$sapo.dark=a,window.$sapo&&window.$sapo.win&&(window.$sapo.win.dark=a)}function r(a,b){try{a&&a.contentWindow&&a.contentWindow.setDarkMode&&a.contentWindow.setDarkMode(b)}catch(c){}}function s(c){var d=Ink.ss("iframe");a.each(d,function(a){r(a,c);var d=function(){r(a,c),b.off(a,"load",d)};b.on(a,"load",d)})}function t(a){var b=0,c=setInterval(function(){Ink.i("bsu-v3-ctn")&&(d.addRemoveClassName(Ink.i("bsu-v3-ctn"),"bsu-v3-dark-bg",a),clearInterval(c)),Ink.i("bsu-v4-ctn")&&(d.addRemoveClassName(Ink.i("bsu-placeholder"),"bsu-v4-dark-bg",a),clearInterval(c)),b>20&&clearInterval(c),b++},100)}function u(b,c){a.forEach(Ink.ss("[data-color-scheme-picture]"),function(d){a.forEach(Ink.ss('[media^="(prefers-color-scheme"]',d),function(a){switch(a.getAttribute("data-original-media")||a.setAttribute("data-original-media",a.getAttribute("media")),b){case"dark":if("dark"===c){a.setAttribute("media",a.getAttribute("data-original-media"));break}"(prefers-color-scheme: dark)"===a.getAttribute("data-original-media")?a.setAttribute("media","(prefers-color-scheme: light)"):a.setAttribute("media","(prefers-color-scheme: no-preference)");break;case"light":"(prefers-color-scheme: light)"===a.getAttribute("data-original-media")?a.setAttribute("media","(prefers-color-scheme: dark)"):a.setAttribute("media","(prefers-color-scheme: no-preference)");
break;default:a.setAttribute("media",a.getAttribute("data-original-media"))}})})}a.each(["_shp_prime","_shp_cinema","_shp_weather","_shp_weather_2020","_shp_horoscope","_swsk","_swsk-v","_sw_store","_sw_store-version","_sw_store-global"],function(a){k.remove(a)}),function(){function b(){a.forEach(Ink.ss(".block-anchor"),function(a){console.log(a),a.style="",a.style.backgroundColor="#F44336",a.style.color="#FFF",a.style.fontWeight=900,a.style.fontSize="15px",a.style.height="auto",a.style.marginTop="auto",a.style.top="-20px",a.innerHTML="#"+a.id})}window.showAnchor=b}(),function(){var c=Ink.ss('select[data-selectbox-go-to="true"]');a.forEach(c,function(a,c){var d=a.hasAttribute("data-reset-status");d&&(a.selectedIndex=0),b.observe(a,"change",function(b){a.getAttribute("data-cookie-save")&&k.set("local-select",a.options[a.selectedIndex].value,2678400),a.options[a.selectedIndex].getAttribute("data-target")?(window.open(a.options[a.selectedIndex].value,"_blank"),d&&(a.selectedIndex=0)):window.location.href=a.options[a.selectedIndex].value})})}(),function(){var c=Ink.ss("select[data-selectbox-show-item]");a.forEach(c,function(c,e){b.observe(c,"change",function(b){var e=Ink.ss('[data-selectbox-group="'+c.getAttribute("data-selectbox-show-item")+'"]');a.forEach(e,function(a,b){d.addClassName(a,"hide-all"),a.getAttribute("data-selectbox-item")==c.options[c.selectedIndex].value&&d.removeClassName(a,"hide-all")})})})}(),function(){function c(){i=window.pageYOffset,h<window.pageYOffset&&(i=0,j=window.pageYOffset),h=window.pageYOffset,a.forEach(e,function(a){d.setClassName(a,"going-up",i&&i+k<j);var b=parseInt(a.getBoundingClientRect().top),c=parseInt(window.getComputedStyle(a,null).getPropertyValue("top").replace(/px/g,""));d.setClassName(a,f,b<=c)})}var e=Ink.ss('[class*="make-it-sticky"]'),f="stuck",g=300,h=0,i=0,j=0,k=163;e&&e.length>0&&(b.observe(window,"scroll",b.throttle(c,g)),c())}(),function(){var c=Ink.ss(".view-more");a.forEach(c,function(a){b.observe(a,"click",function(b){b.preventDefault(),d.removeClassName(Ink.s(a.getAttribute("data-target")),a.getAttribute("data-class-name-on"),!0),f.trackGTMEvent("ViewMore","article",window.location.pathname),f.trackGTMPageView(),setTimeout(function(){SAPO.CPU&&SAPO.CPU.process()},100)})})}(),function(){function b(){a.forEach(e,function(a){a.setAttribute("display",a.style.display),a.style.display="none"})}function c(){a.forEach(e,function(a){a.src+=(a.src.indexOf("?")>-1?"&":"?")+"_="+Math.floor(1e9*Math.random()),a.addEventListener("load",function(){a.style.display=a.getAttribute("display"),a.removeAttribute("display")})})}var d=Ink.ss("[data-social-iframe]"),e=Ink.ss(".page:not(.page--1) [data-social-iframe]"),f=Ink.s(".view-more");f&&f.addEventListener("click",function(){setTimeout(function(){c()},100)}),a.forEach(d,function(a){iFrameResize({resizedCallback:function(a){0!=parseInt(a.height)&&(Ink.i(a.id).style.height=parseInt(a.height)+15+"px")}},a)}),a.forEach(Ink.ss("[data-iframe-resize]"),function(a){iFrameResize({resizedCallback:function(a){0!=parseInt(a.height)&&(Ink.i(a.id).style.height=parseInt(a.height)+15+"px")}},a)}),b()}();var v=Ink.s("[data-widget='liveblog']:not([data-widget-params])");if(v){var w=c.create("script");w.src=v.getAttribute("data-src"),w.setAttribute("data-widget",v.getAttribute("data-widget")),w.setAttribute("data-live-layout",v.getAttribute("data-live-layout")),w.setAttribute("data-live-id",v.getAttribute("data-live-id")),v.appendChild(w)}if(window.addEventListener("message",function(a){var b;try{if(b=JSON.parse(a.data),"iframeResize"==b.type)return void(document.querySelector("[data-liveid='"+b.liveId+"']").height=b.iframeHeight);b.hasOwnProperty("player_id")&&b.randname&&(window.LiveBlogVideo||(window.LiveBlogVideo={}),f.includes(["play","adPlay"],b.method)?window.LiveBlogVideo[b.randname]=!0:f.includes(["pause","adPause","stop","adStop","ended","playerError"],b.method)&&delete window.LiveBlogVideo[b.randname])}catch(c){}},!1),window.addEventListener("message",function(b){b.data&&"slide-change"==b.data&&f.trackGTMPageView(),b.data&&b.data.type&&"LiveBlog"==b.data.type&&b.data.status&&"changed"==b.data.status&&f.trackGTMPageView();try{var e=JSON.parse(b.data,null);"epg-iframe"==e.origin&&("epgProgramDetail"!=e.method&&"epgCategoryChange"!=e.method&&"epgChannelChange"!=e.method||(e.data&&e.data.category&&dataLayer.push({channel_category:e.data.category}),e.data&&e.data.channel&&dataLayer.push({channel_name:e.data.channel}),e.data&&e.data.program&&dataLayer.push({program_id:e.data.program}),f.trackGTMPageView()),"epgLoaded"!=e.method&&"resizeHeight"!=e.method&&f.trackGTMEvent("EPG",e.method,window.location.pathname)),"elections"==e.type&&"tab"!=e.payload.type&&(f.trackGTMPageView(),f.trackGTMEvent("ELECTIONS","change-"+e.payload.type,window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')),"widget"==e.type&&("change-tab"==e.event||"change-tab-results"==e.event||"change-location"==e.event?(f.trackGTMPageView(),f.trackGTMEvent("ELECTIONS",e.event+"__"+e.value,window.location.pathname)):"ready"==e.event&&a.forEach(Ink.ss('[data-sapo-widget-id="'+e.id+'"'),function(a){a.style="",d.removeClassName(c.findUpwardsBySelector(a,".loading"),"loading")})),"VHS-CHANGED"==e.type&&"click"==e.event&&(dataLayer.push({is_video:!0}),f.trackGTMPageView(),f.trackGTMEvent("VHS","change-video-"+e.event,window.location.pathname),setVHSTrackingTimeout())}catch(g){}}),Ink.i("player-video")&&b.observe(window,"message",function(a){try{var b=JSON.parse(a.data),c=b&&b.method;"start"===c&&f.trackGTMEvent("VIDEO-PAGE","video-event-"+c,window.location.pathname)}catch(a){}}),Ink.ss(".travel-through-time")){var x=new Date;a.forEach(Ink.ss(".travel-through-time"),function(a){var b=new g(a,{lang:"pt_PT",dateRange:"2016-09-21:"+h.get("Y-m-d",x),onSetDate:function(a){f.trackGTMEvent("IN-THIS-DAY","day-"+h.get("Y-m-d",a.getDate()),window.location.pathname),window.location.href="https://24.sapo.pt/resumo/"+h.get("Y-m-d",a.getDate())}});b.setDate(a.getAttribute("data-digest-date"))})}!function(){b.observeMulti(Ink.ss("[data-player-nitfm]"),"play",function(a){var c=b.element(a);f.trackGTMEvent("NITFM-PLAY","play external "+c.getAttribute("data-player-title"),window.location.pathname)})}(),j.run(function(){var a=Ink.s("#modal-hde");if(a){var b=i.getInstance(a);b&&(b._options.onShow=function(){setTimeout(function(){SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()},100)})}}),window.addEventListener("hashchange",function(){n()}),n(),a.forEach(Ink.ss("a.tabs-tab"),function(a,c){b.observe(a,"click",function(a){f.trackGTMPageView(),f.trackGTMEvent("change-tab","tab",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]'),setTimeout(function(){SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()},100)})}),a.forEach(Ink.ss(".ink-tabs"),function(b){function c(){var a=f&&f.activeTab()||"";e(a)}function e(b){a.forEach(Ink.ss(".show-on-tabs"),function(a){d.hasClassName(a,"show-on-tab-"+b)?d.removeClassName(a,"hide-all"):d.addClassName(a,"hide-all")})}if("true"===b.getAttribute("data-tabs-showblocks")){var f;f=new m(b,{onChange:c}),c()}}),function(){if(Ink.s(".page-radio")){var a=3e5,b=Ink.s("body[data-auto-reload-time]");b&&(a=parseInt(b.getAttribute("data-auto-reload-time"))),window.setInterval(function(){f.trackGTMPageView(),f.trackGTMEvent("RELOAD","reload-radios-"+a+"ms",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')},a)}}(),a.forEach(Ink.ss("[data-gif-src]"),function(a,c){b.observe(a,"click",function(b){b.preventDefault();var c=a.querySelector("[data-gif-placeholder]");c.src=a.getAttribute("data-gif-src"),d.addClassName(a,"article-embed-gif--playing")})}),function(){if(Ink.s(".ink-carousel:not([data-prevent-init])")){new l(".ink-carousel:not([data-prevent-init])",{onChange:function(a){a>0&&SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}})}}(),function(){if(d.hasClassName(Ink.s("body"),"prime-article")){a.forEach(Ink.ss("a"),function(a){c.hasAttribute(a,"target")||""==a.href||"#"==a.href||(a.target="_blank")});var b=Ink.s("div .article-body");d.hasClassName(b,"paginated")&&d.removeClassName(b,"paginated")}}(),function(){function c(){d.removeClassName(i,h),g&&d.removeClassName(g,"active"),b.off(i,"click",e)}function e(a){var b=!0;a&&f.parents(a,function(a){if(a&&a.getAttribute&&(a.getAttribute("data-mobile-menu")||"false"==a.getAttribute("data-close-on-click")||"search"==a.getAttribute("type")))return void(b=!1)}),b&&c()}var g,h="show-me-whatchu-got",i=Ink.s("body"),j=Ink.s(".mobile-menu");a.forEach(Ink.ss(".mobile-menu-trigger"),function(a,f){b.observe(a,"click",function(f){f.preventDefault(),d.hasClassName(i,h)?c():(j.scrollTop=0,g=a,d.addClassName(a,"active"),d.addClassName(i,h),j.style.maxHeight=window.innerHeight-Ink.i("header").getBoundingClientRect().height-Math.round(Ink.i("header").getBoundingClientRect().top)+"px",setTimeout(function(){b.on(i,"click",e)},1))})})}(),function(){var a=Ink.s(".next-games");a&&(d.setClassName(a,"collapsed",!!localStorage.getItem("next-games-closed")),b.observeMulti(Ink.ss("[data-collapse]"),"click",function(c){b.stopDefault(c),c.preventDefault(),c.stopPropagation(),d.addRemoveClassName(a,"collapsed",!d.hasClassName(a,"collapsed")),d.hasClassName(a,"collapsed")?localStorage.setItem("next-games-closed",1):localStorage.removeItem("next-games-closed")}))}(),function(){var b="data-src-timestamp",c=Ink.ss("["+b+"]");c&&a.each(c,function(a){var c=a.getAttribute(b),d=(new Date).getTime();c&&a.setAttribute("src",c.replace("$$timestamp$$",d)),a.removeAttribute(b)})}();var y=Ink.ss("[data-color-scheme-switch]"),z=(Ink.ss(".color-scheme-switch-ctn"),Ink.s(".color-scheme-switch-ctn"));y&&y.length>0&&SAPO&&SAPO.ColorScheme&&SAPO.ColorScheme.testBrowser()&&z&&"block"===getComputedStyle(z,null).display?(window.SAPO||(window.SAPO={}),window.SAPO.ColorScheme||(window.SAPO.ColorScheme={}),window.SAPO.ColorScheme.setPicturesColorScheme=u,o(),a.forEach(y,function(a){b.observeMulti(Ink.ss("[data-color-scheme]",a),"click",function(a){b.stopDefault(a),a.preventDefault(),a.stopPropagation();var d=b.element(a);d=d.getAttribute("data-color-scheme")?d:c.findUpwardsBySelector(d,"[data-color-scheme]"),SAPO.ColorScheme.setUserPreference(d.getAttribute("data-color-scheme")),SAPO.ColorScheme.getPreferedColorScheme(),o()})}),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(a){var b=SAPO.ColorScheme.getUserPreference()||"auto";"auto"===b&&t(a.matches),u(b,SAPO.ColorScheme.getAutoColor())})):a.forEach(Ink.ss(".color-scheme-switch-ctn"),function(a){d.addClassName(a,"hide-all")});var A;window.addEventListener("message",function(a){if("embed-size"===a.data.type){if(A||(A=document.querySelector(".qualifio_iframe_wrapper iframe")),!A)return;A.style.height=a.data.height+"px",A.setAttribute("height",a.data.height+"px")}}),function(){var a={script:"outbrain-script",build:function(){window.__tcfapi("addEventListener",2,function(b){if(("useractioncomplete"==b.eventStatus||"tcloaded"==b.eventStatus)&&!document.getElementById(a.script)){var c=document.createElement("script");c.async=!0,c.type="text/javascript",c.src="https://widgets.outbrain.com/outbrain.js",c.id=a.script,document.body.appendChild(c)}})},event:function(){window.__tcfapi&&!a.parsed&&(a.build(),a.parsed=!0)},load:function(){b.on(window,"load",a.event),b.on(document,"DOMContentLoaded",a.event),a.event()},init:function(){var b=Ink.ss(".OUTBRAIN");b&&b.length&&a.load()}};a.init()}(),function(){if("#dev-widgets"==window.location.hash&&"www.sapo.pt"!=(window.location.host||window.location.hostname)){var a={plugins:{liveblog:{params:{live:{required:!0},lite:{type:"checkbox"}},examples:{live:["liveid-c086dbf7-6f7c-472c-8a44-0e4db479f57c","liveid-e55ba6ff-37e4-48dc-8cf6-e51d4693aa14"]}},oscares:{params:{ano:{required:!0,type:"number",min:2018,max:2023}}},tempo:{params:{ad:{type:"checkbox"},days:{type:"checkbox"},lite:{type:"checkbox"},mapa:{type:"checkbox"}},on:{lite:function(b){b&&b.target&&b.target.checked&&["ad","days","mapa"].forEach(function(b){var c=document.getElementById(b);c&&(c.checked=!1),a.change()})},mapa:function(b){if(b&&b.target&&b.target.checked){["ad","days","lite"].forEach(function(b){var c=document.getElementById(b);c&&(c.checked=!1),a.change()});var c=document.querySelector("[data-plugin]");if(!c)return;c.style="height: 460px;"}},ad:function(b){b&&b.target&&b.target.checked&&["mapa","lite"].forEach(function(b){var c=document.getElementById(b);c&&(c.checked=!1),a.change()})},days:function(b){b&&b.target&&b.target.checked&&["mapa","lite"].forEach(function(b){var c=document.getElementById(b);c&&(c.checked=!1),a.change()})}}},prices:{},"santa-casa":{},partidos:{},"25-abril":{params:{view:{required:!0}},examples:{view:["50-anos"]}},euro:{params:{view:{required:!0}},examples:{view:["2024/battle","2024/statscore"]}},incendios:{},streams:{}}};a.update=function(){a.preview.innerHTML=a.required!=a.filled?"":'<div data-plugin="'+a.element.value+'" '+(a.params||[]).join(" ")+"></div>",window.SAPO.Kit&&window.SAPO.Kit.widgets&&window.SAPO.Kit.widgets.init&&window.SAPO.Kit.widgets.init()},a.input=function(){if(a.options.innerHTML="",a.element.value&&!a.plugins[a.element.value])return void(a.preview.innerHTML="");a.fieldset=a.plugins[a.element.value].params;for(var b in a.fieldset){var c=document.createElement("label");c.style="display: block; margin: .25rem;",c.innerHTML="<span>"+b+"</span>",c.setAttribute("for",b);var d=document.createElement("input");d.setAttribute("id",b),d.setAttribute("name",b);for(var e in a.fieldset[b])"required"!=e&&d.setAttribute(e,a.fieldset[b][e]);if(d.addEventListener("input",a.change),a.plugins[a.element.value].on&&a.plugins[a.element.value].on[b]&&d.addEventListener("input",a.plugins[a.element.value].on[b]),c.appendChild(d),a.options.appendChild(c),a.plugins[a.element.value].examples&&a.plugins[a.element.value].examples[b]){var f=document.createElement("select");f.style.width="100%",f.style.height="32px",f.style.lineHeight="32px",f.style.marginBottom="1rem",f.jsTesterID=b,f.innerHTML='<option>Exemplos</option><optgroup label="Exemplos"></optgroup>'+a.plugins[a.element.value].examples[b].map(function(a){return'<option value="'+a+'">'+a+"</option>"}),f.addEventListener("input",function(){var b=document.getElementById(f.jsTesterID);b&&b.value!=f.value&&(b.value=f.value,a.change())});var g=document.createElement("p");g.innerHTML="Exemplo",a.options.appendChild(g),a.options.appendChild(f)}}a.change()},a.change=function(){var b=[];a.required=0,a.filled=0;for(var c in a.fieldset){var d=document.getElementById(c),e="checkbox"!=a.fieldset[c].type?d.value:d.checked;e&&b.push("data-"+c+'="'+e+'"'),a.fieldset[c].required&&(a.required++,e&&a.filled++)}a.params=b,a.update()},window.addEventListener("load",function(){var b=document.querySelector(".error-ctn")||document.querySelector(".main.page-blocks section.ink-grid")||document.querySelector(".page-blocks section.ink-grid");if(b){b.innerHTML="",b.style.height="100%",a.element=document.createElement("select"),a.element.style.width="100%",a.element.style.height="32px",a.element.style.lineHeight="32px",a.element.style.marginBottom="1rem",a.element.innerHTML='<option>Widgets</option><optgroup label="Widgets"></optgroup>'+Object.keys(a.plugins).map(function(a){return'<option value="'+a+'">'+a+"</option>"}).join(""),b.appendChild(a.element),a.options=document.createElement("div"),b.appendChild(a.options),a.preview=document.createElement("div"),a.element.addEventListener("input",a.input),b.appendChild(a.preview),a.script=document.createElement("script"),a.script.type="module",a.script.src="/assets/js/R3V"+(new Date).getHours()+"/bundle/dist/main.js",b.appendChild(a.script);var c=Ink.s(".widgets-top.ink-grid.clearfix");c&&d.removeClassName(c,"widgets-top")}})}}(),window.addEventListener("load",function(){var a="data-wook",b=document.querySelectorAll("["+a+"]");if(b&&b.length)for(var c=0;c<b.length;c++){var d=b[c].getAttribute(a);b[c].setAttribute("src",d),b[c].setAttribute(a,"ready")}}),window.$apo=function(){dataLayer.forEach(console.table||console.log),window.oneSignalConfigs&&(console.table?console.table(window.oneSignalConfigs):console.log(window.oneSignalConfigs));var a={Ink:window.Ink?window.Ink.VERSION:0,CPU:window.SAPO&&window.SAPO.CPU&&window.SAPO.CPU.version?window.SAPO.CPU.version():0,BSU:document.getElementById("bsu-v4-ctn")?"4":"3"};console.table?console.table(a):console.log(a)}}),Ink.createModule("SAPO.ABTests",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Util.Cookie_1"],function(a,b,c,d,e){"use strict";function f(){e.remove(h.cookie)}function g(){var f=Ink.ss(h.css.main);if(f&&f.length){var g=Ink.s("["+h.css.block+"]");if(g){var i=g.getAttribute(h.css.block);if(i){var j=Ink.s(i);j&&b.insertAfter(g,j)}}a.each(f,function(b){a.each(Ink.ss(h.css.close,b),function(a){c.on(a,"click",function(a){a.preventDefault(),d.addClassName(b,"hide-all"),d.removeClassName(b,"down"),e.set(h.cookie,"false")})}),!d.hasClassName(b,"hide-all")&&setTimeout(function(){d.addClassName(b,"down")},1500)})}}var h={cookie:"shp_notifications",css:{close:"[data-close]",main:"[data-ab-notification]",block:"data-ab-placeholder"}};return{init:g,clear:f}}),Ink.requireModules(["SAPO.ABTests_1"],function(a){"use strict";window.ABTests=a,a.init()}),"/testes"!=location.pathname&&"/teste-sw"!=location.pathname||navigator.serviceWorker.register("/ServiceWorker.js"),function(){var a={},b=1e3,c=function(c){var d=document.querySelector('iframe[src="'+c.name+'"]');d||(d=document.querySelector('iframe[name="'+c.name+'"]')),d&&(a[c.name]&&clearInterval(a[c.name]),a[c.name]=setTimeout(function(){d&&(d.style.height=c.height+"px",d.classList.add("sized"))},c.force?0:b))};window.addEventListener("message",function(a){a&&a.data&&"resize"==a.data.type&&a.data.height&&a.data.name&&c(a.data)})}();